{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/img/tabbar/shopcart.svg","webpack:///./src/components/common/tabbar/TabBar.vue?d0f1","webpack:///./src/components/common/tabbar/TabBarItem.vue?f764","webpack:///./src/App.vue?4e57","webpack:///./src/components/content/mainTabBar/MainTabBar.vue?76f4","webpack:///./src/components/common/tabbar/TabBar.vue?7635","webpack:///src/components/common/tabbar/TabBar.vue","webpack:///./src/components/common/tabbar/TabBar.vue?c7f4","webpack:///./src/components/common/tabbar/TabBar.vue","webpack:///./src/components/common/tabbar/TabBarItem.vue?2d41","webpack:///src/components/common/tabbar/TabBarItem.vue","webpack:///./src/components/common/tabbar/TabBarItem.vue?e8a9","webpack:///./src/components/common/tabbar/TabBarItem.vue","webpack:///src/components/content/mainTabBar/MainTabBar.vue","webpack:///./src/components/content/mainTabBar/MainTabBar.vue?ade0","webpack:///./src/components/content/mainTabBar/MainTabBar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/store/mutations.js","webpack:///./src/store/actions.js","webpack:///./src/store/getters.js","webpack:///./src/store/index.js","webpack:///./src/components/common/toast/Toast.vue?62ed","webpack:///src/components/common/toast/Toast.vue","webpack:///./src/components/common/toast/Toast.vue?7c06","webpack:///./src/components/common/toast/Toast.vue","webpack:///./src/components/common/toast/index.js","webpack:///./src/main.js","webpack:///./src/assets/img/tabbar/category.svg","webpack:///./src/App.vue?8d82","webpack:///./src/components/common/toast/Toast.vue?f9e6","webpack:///./src/assets/img/tabbar/home.svg","webpack:///./src/assets/img/tabbar/category_active.svg","webpack:///./src/lib/mui-master/dist/js/mui.js","webpack:///./src/assets/img/tabbar/home_active.svg","webpack:///./src/assets/img/common/placeholder.png","webpack:///./src/assets/img/tabbar/shopcart_active.svg","webpack:///./src/assets/img/tabbar/profile_active.svg","webpack:///./src/assets/img/tabbar/profile.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","slot","_v","staticClass","_t","component","isActive","on","tabClick","style","props","path","typeof","String","default","colorStyle","methods","computed","activeStyle","components","TabBar","TabBarItem","MainTabBar","Vue","use","VueRouter","Home","Category","Cart","ProFile","Detail","routes","redirect","router","addCount","state","product","count","addCart","payLoad","checked","cartList","context","find","item","iid","commit","cartLength","Vuex","store","Store","mutations","actions","getters","directives","rawName","expression","_s","isShow","obj","vue","toastContrustor","extend","Toast","toast","$mount","body","$el","$toast","FastClick","attach","$mui","mui","config","productionTip","$bus","VueLazyLoad","loading","require","render","h","App","readyRE","idSelectorRE","classSelectorRE","tagSelectorRE","translateRE","translateMatrixRE","$","selector","wrap","isArrayLike","ready","trim","test","found","getElementById","RegExp","$1","qsa","dom","setPrototypeOf","fn","uuid","options","copy","copyIsArray","clone","arguments","deep","isFunction","isPlainObject","isArray","noop","filter","class2type","toString","Array","isWindow","isObject","getPrototypeOf","isEmptyObject","getElementsByClassName","querySelectorAll","callback","readyState","addEventListener","buffer","ms","timer","lastStart","lastEnd","run","cancel","now","later","stop","each","elements","every","el","idx","focus","element","os","ios","trigger","eventType","eventData","dispatchEvent","CustomEvent","detail","bubbles","cancelable","getStyles","styles","ownerDocument","defaultView","getComputedStyle","getPropertyValue","parseTranslate","translateString","position","match","split","x","parseFloat","y","z","parseTranslateMatrix","matrix","is3D","hooks","addAction","hook","index","sort","a","b","doAction","handle","when","f","id","Date","toLowerCase","JSON","parseJSON","parse","define","detect","ua","funcs","wechat","version","replace","android","isBadAndroid","navigator","appVersion","iphone","ipad","func","userAgent","plus","classList","add","stream","isTouchable","EVENT_START","EVENT_MOVE","EVENT_END","EVENT_CANCEL","EVENT_CLICK","_mid","delegates","eventMethods","preventDefault","stopImmediatePropagation","stopPropagation","returnTrue","returnFalse","compatible","currentTarget","predicate","sourceMethod","mid","delegateFns","delegateFn","callbackObjs","handlerQueue","selectorAlls","indexOf","disabled","contains","matches","callbacks","handlers","handler","tagName","gesture","isPropagationStopped","findDelegateFn","delegateCallbacks","filterFn","preventDefaultException","isAddEventListener","delegateEvents","delegateCallbackObjs","delegateFnArray","delegateCallback","off","forEach","removeEventListener","targets","targetHandles","registerTarget","founds","isFound","targetHandle","isReset","isContinue","proto","params","evt","createEvent","initEvent","Event","Function","to","partial","bound","args","concat","documentElement","HTMLElement","self","update","classes","className","join","ret","remove","toggle","requestAnimationFrame","lastTime","webkitRequestAnimationFrame","currTime","getTime","timeToCall","Math","max","cancelAnimationFrame","webkitCancelAnimationFrame","webkitCancelRequestAnimationFrame","querySelector","clickEvent","touch","targetElement","click","activeElement","blur","changedTouches","initMouseEvent","screenX","screenY","clientX","clientY","forwardedTouchEvent","propagationStopped","CLASS_FOCUSIN","CLASS_BAR_TAB","CLASS_BAR_FOOTER","CLASS_BAR_FOOTER_SECONDARY","CLASS_BAR_FOOTER_SECONDARY_TAB","webview","currentWebview","children","readOnly","isFooter","scrollTop","scrollHeight","scrollLeft","scrollTo","namespace","classNamePrefix","classSelectorPrefix","classSelector","eventName","gestures","session","addGesture","round","abs","sqrt","atan2","atan","getDistance","p1","p2","getScale","starts","moves","getAngle","PI","getDirection","getRotation","start","end","getVelocity","deltaTime","stoped","gestureConfig","hasParent","node","parent","uniqueArray","results","values","val","getMultiCenter","touches","touchesLength","pageX","pageY","multiTouch","pinch","copySimpleTouchData","timestamp","center","deltaX","deltaY","calDelta","offset","offsetDelta","prevDelta","prevTouch","calTouchData","firstTouch","firstMultiTouch","offsetCenter","angle","distance","offsetDirection","scale","rotation","calIntervalTouchData","CAL_INTERVAL","velocity","velocityX","velocityY","direction","last","lastInterval","v","targetIds","convertTouches","getTouches","allTouches","targetTouches","changedTargetTouches","sessionTarget","identifier","changedTouchesLength","isFirst","isFinal","handleTouchEvent","supportsPassive","opts","passive","capture","popover","tab","offcanvas","modal","isScrolling","scrollingTimeout","flickStartTime","flickStart","flick","flickMaxTime","flickMinDistince","flickTime","flickDistanceX","flickDistanceY","swipe","swipeMaxTime","swipeMinDistince","lockDirection","startDirection","drag","fingers","lastTarget","lastTapTime","tapMaxDistance","tapMaxTime","doubletap","tapMaxInterval","holdTimeout","holdThreshold","hold","lastScale","scaleDiff","minRotationAngle","global","tap","longtap","initGlobal","inits","init","isInit","repeat","addInit","subpages","createIframe","wrapper","top","bottom","iframe","url","handleScroll","location","localStorage","getItem","setInterval","_scrollTop","scrollY","setItem","osObj","defaultOptions","swipeBack","preloadPages","preloadLimit","keyEventBind","backbutton","menubutton","titleConfig","height","backgroundColor","bottomBorderColor","title","text","left","width","color","align","family","size","weight","fontSrc","back","image","base64Data","imgSrc","sprite","defaultShow","autoShow","duration","aniShow","extras","show","waitingOptions","showOptions","windowOptions","scalable","bounce","plusReady","fire","evalJS","stringify","receive","triggerPreload","preloaded","list","timeChecked","openWindow","nShow","nWaiting","webviewCache","webviews","getWebviewById","createNew","afterShowMethodName","waitingConfig","waiting","nativeUI","showWaiting","createWindow","showWebview","close","openWindowWithTitle","tid","view","nativeObj","View","dock","drawRect","_b","parseInt","_title","drawText","_back","backClick","_backImage","right","bitmap","Bitmap","loadBase64Data","load","drawBitmap","setTouchEventRect","interceptTouchEvent","append","isCreate","preload","getURL","subpage","subpageId","subWebview","preloads","first","closeAll","closeOpened","opened","len","openedWebview","open_open","createWindows","option","appendWebview","runtime","appid","statusBarBackground","setStatusBarBackground","display","supportStatusbarOffset","addBack","history","beforeback","action","_popover","offCanvas","previewImage","getPreviewImage","isShown","closePopup","__back__first","wobj","canBack","quit","hide","menu","__back","__menu","pullRefreshOptions","pullRefresh","hasPulldown","down","hasPullup","up","container","$container","pullRefresh_native","__NWin_Enable__","upOptions","webviewId","downOptions","jsonType","htmlType","rscript","scriptTypeRE","xmlTypeRE","blankRE","ajaxSettings","beforeSend","success","complete","xhr","protocol","XMLHttpRequest","accepts","json","xml","html","processData","cache","ajaxBeforeSend","settings","ajaxSuccess","ajaxComplete","ajaxError","status","serialize","traditional","scope","array","hash","serializeData","contentType","headers","param","toUpperCase","appendQuery","query","mimeToDataType","mime","parseArguments","dataType","ajax","setHeader","webkit","messageHandlers","net","abortTimeout","nativeSetHeader","setRequestHeader","mimeType","overrideMimeType","onreadystatechange","isLocal","responseText","getResponseHeader","eval","responseXML","statusText","abort","xhrFields","async","open","username","password","send","k","encodeURIComponent","post","getJSON","parts","response","div","innerHTML","selectorDiv","childs","originAnchor","crossDomain","urlAnchor","host","box","getBoundingClientRect","pageYOffset","clientTop","pageXOffset","clientLeft","scroll","distaince","animationFrame","cb","isQueued","initializing","fnTest","xyz","Class","prop","_super","tmp","constructor","callee","CLASS_PULL_TOP_POCKET","CLASS_PULL_BOTTOM_POCKET","CLASS_PULL","CLASS_PULL_LOADING","CLASS_PULL_CAPTION","CLASS_PULL_CAPTION_DOWN","CLASS_PULL_CAPTION_REFRESH","CLASS_PULL_CAPTION_NOMORE","CLASS_ICON","CLASS_SPINNER","CLASS_ICON_PULLDOWN","CLASS_BLOCK","CLASS_HIDDEN","CLASS_VISIBILITY","CLASS_LOADING_UP","CLASS_LOADING_DOWN","CLASS_LOADING","pocketHtml","PullRefresh","scrollX","indicators","deceleration","contentinit","contentdown","contentover","contentrefresh","auto","contentnomore","_init","_initPocket","_initPulldownRefresh","pulldown","topPocket","pullPocket","pullCaption","topCaption","pullLoading","topLoading","_initPullupRefresh","bottomPocket","bottomCaption","bottomLoading","scroller","_createPocket","insertBefore","firstChild","clazz","iconClass","pocket","_resetPullDownLoading","webkitTransition","webkitTransform","webkitAnimation","_setCaptionClass","isPulldown","caption","_setCaption","reset","lastTitle","CLASS_SCROLL","CLASS_SCROLLBAR","CLASS_INDICATOR","CLASS_SCROLLBAR_VERTICAL","CLASS_SCROLLBAR_HORIZONTAL","CLASS_ACTIVE","ease","quadratic","circular","outCirc","outCubic","Scroll","scrollerStyle","stopped","startX","startY","hardwareAccelerated","fixedBadAndorid","momentum","snapX","snap","bounceTime","bounceEasing","scrollTime","scrollEasing","directionLockThreshold","parallaxElement","parallaxRatio","translateZ","refresh","_initParallax","_initIndicators","_initEvent","parallaxStyle","parallaxHeight","offsetHeight","parallaxImgStyle","indicator","_createScrollBar","listenX","listenY","Indicator","_initSnap","currentPage","pages","snaps","leftX","rightX","offsetLeft","offsetWidth","_getSnapX","maxScrollX","min","wrapperWidth","_gotoPage","_nearestSnap","nearestX","detach","segmentedControl","_handleIndicatorScrollend","map","fade","_handleIndicatorScrollstart","_handleIndicatorRefresh","handleEvent","resetPosition","_start","_drag","_flick","_end","transitionTimer","_transitionEnd","_scrollend","_resize","moved","needReset","_transitionTime","isInTransition","pos","setTranslate","reLayout","_getDirectionByAngle","innerHeight","isPreventDefault","isReturn","absDeltaX","absDeltaY","hasHorizontalScroll","hasVerticalScroll","newX","newY","maxScrollY","_updateTranslate","_clearRequestAnimationFrame","time","easing","momentumX","_momentum","destination","momentumY","wrapperHeight","that","resizeTimeout","resizePolling","transitionTime","_transitionTimingFunction","transitionTimingFunction","_translate","lastX","lastY","scrollbar","scrollbarY","scrollbarIndicatorY","scrollbarX","scrollbarIndicatorX","_preventDefaultException","exceptions","_reLayout","scrollerWidth","scrollerHeight","items","itemLength","current","lowerMargin","wrapperSize","speed","_getTranslateStr","setStopped","disablePullupToRefresh","disablePulldownToRefresh","enablePullupToRefresh","enablePulldownToRefresh","parallaxY","updatePosition","paddingLeft","paddingRight","paddingTop","paddingBottom","clientWidth","clientHeight","_reInit","groups","scrollToBottom","gotoPage","destroy","wrapperStyle","indicatorStyle","speedRatioX","speedRatioY","sizeRatioX","sizeRatioY","maxPosX","maxPosY","opacity","indicatorWidth","minBoundaryX","maxBoundaryX","indicatorHeight","minBoundaryY","maxBoundaryY","visible","fadeTimeout","delay","scrollApis","scrollApi","_options","_scrollbottom","pullupLoading","disablePulldown","pulldownLoading","endPulldownToRefresh","endPullupToRefresh","finished","pullRefreshApi","autoY","CLASS_SLIDER","CLASS_SLIDER_GROUP","CLASS_SLIDER_LOOP","CLASS_ACTION_PREVIOUS","CLASS_ACTION_NEXT","CLASS_SLIDER_ITEM","SELECTOR_SLIDER_ITEM","SELECTOR_SLIDER_PROGRESS_BAR","Slider","interval","slideTime","progressBar","progressBarWidth","progressBarStyle","_initTimer","_triggerSlide","slideNumber","_fixedSlideNumber","loop","lastSlideNumber","lastPage","_handleSlide","temps","_slideNumber","indicatorWrap","number","innerText","controlItems","_handleTabShow","gotoItem","tabNumber","_handleIndicatorTap","slidershowTimer","slider","nextItem","page","_getScroll","_getPage","isFlick","_gotoItem","prevItem","getSlideNumber","sliderElement","CLASS_PLUS_PULLREFRESH","PlusPullRefresh","_initPulldownRefreshEvent","scrollInterval","isScroll","setPullToRefresh","support","range","attrWebviewId","removeAttribute","setBounce","changeoffset","beginPulldown","beginPullToRefresh","_pulldownLoading","childWebview","endPulldown","_wv","endPullToRefresh","_endPulldownToRefresh","beginPullup","isLoading","endPullup","setStyle","CLASS_OFF_CANVAS_LEFT","CLASS_OFF_CANVAS_RIGHT","CLASS_ACTION_BACKDROP","CLASS_OFF_CANVAS_WRAP","CLASS_SLIDE_IN","CLASS_TRANSITIONING","SELECTOR_INNER_WRAP","OffCanvas","dragThresholdX","slideIn","offCanvasLefts","offCanvasRights","offCanvasLeft","offCanvasRight","offCanvasRightWidth","offCanvasLeftWidth","offCanvasLeftSlideIn","offCanvasRightSlideIn","backdrop","offsetX","lastTranslateX","_dispatchEvent","isDragging","offCanvasWidth","getTranslateX","_initOffCanvasVisible","updateTranslate","ratio","openPercentage","visibility","percentage","setTranslateX","leftShowing","rightShowing","zIndex","percent","zoomOutScale","zoomInScale","zoomInOpacity","webkitTransformOrigin","shown","directionOrOffCanvas","findOffCanvasContainer","_container","offCanvasApis","offCanvasApi","CLASS_ACTION","CLASS_MODAL","CLASS_POPOVER","CLASS_POPOVER_ARROW","CLASS_ACTION_POPOVER","CLASS_BACKDROP","CLASS_BAR_POPOVER","CLASS_BAR_BACKDROP","CLASS_BOTTOM","removeBackdropTimer","onPopoverShown","onPopoverHidden","removeBackdrop","togglePopover","anchor","isActionSheet","calPosition","wWidth","innerWidth","wHeight","pWidth","pHeight","aWidth","aHeight","arrow","arrowSize","pTop","pLeft","diff","arrowLeft","defaultPadding","createMask","mask","_show","_remove","CLASS_CONTROL_ITEM","CLASS_SEGMENTED_CONTROL","CLASS_SEGMENTED_CONTROL_VERTICAL","CLASS_CONTROL_CONTENT","CLASS_TAB_BAR","CLASS_TAB_ITEM","targetTab","activeTab","activeBodies","targetBody","isLastActive","activeBody","contents","_contents","CLASS_SWITCH","CLASS_SWITCH_HANDLE","CLASS_DRAGGING","CLASS_DISABLED","SELECTOR_SWITCH_HANDLE","Toggle","toggleWidth","handleWidth","handleX","swiperight","webkitTransitionDuration","lastChanged","initialState","animate","isChanged","switchApis","switchApi","cell","CLASS_SELECTED","CLASS_GRID_VIEW","CLASS_RADIO_VIEW","CLASS_TABLE_VIEW_CELL","CLASS_COLLAPSE_CONTENT","CLASS_TOGGLE","CLASS_BTN","CLASS_SLIDER_HANDLE","CLASS_SLIDER_LEFT","CLASS_SLIDER_RIGHT","SELECTOR_SLIDER_HANDLE","SELECTOR_SLIDER_LEFT","SELECTOR_SLIDER_RIGHT","SELECTOR_SELECTED","SELECTOR_BUTTON","overFactor","isMoved","isOpened","openedActions","progress","sliderHandle","sliderActionLeft","sliderActionRight","buttonsLeft","buttonsRight","sliderDirection","sliderRequestAnimationFrame","translateX","sliderActionLeftWidth","sliderActionRightWidth","toggleActive","pow","buttonRight","_buttonOffset","buttonOffset","buttonLeft","isDisabled","selected","swipeoutClose","link","toggleEvents","dragend","swipeleft","translate","buttons","actionsWidth","isToggle","newTranslate","button","isRemove","method","swipeoutOpen","swipeoutAction","swipeoutWidth","radioOrCheckboxClick","input","isExpand","ul","collapse","alert","btnValue","confirm","btnArray","prompt","defaultText","durations","isVisible","verticalAlign","CLASS_POPUP","CLASS_POPUP_BACKDROP","CLASS_POPUP_IN","CLASS_POPUP_OUT","CLASS_POPUP_INNER","CLASS_POPUP_TITLE","CLASS_POPUP_TEXT","CLASS_POPUP_INPUT","CLASS_POPUP_BUTTONS","CLASS_POPUP_BUTTON","CLASS_POPUP_BUTTON_BOLD","popupStack","createInput","placeholder","createInner","extra","createButtons","btns","createPopup","popupElement","removePopupElement","popup","pop","createAlert","createConfirm","createPrompt","closePopups","CLASS_PROGRESSBAR","CLASS_PROGRESSBAR_IN","CLASS_PROGRESSBAR_OUT","CLASS_PROGRESSBAR_INFINITE","SELECTOR_PROGRESSBAR","_findProgressbar","progressbars","progressbar","showProgressbar","_progressbar","setProgressbar","hideProgressbar","span","progressbarApis","progressbarApi","mui_plugin_progressbar","setOptions","setProgress","CLASS_ICON_CLEAR","CLASS_ICON_SPEECH","CLASS_ICON_SEARCH","CLASS_ICON_PASSWORD","CLASS_INPUT_ROW","CLASS_PLACEHOLDER","CLASS_TOOLTIP","SELECTOR_ICON_CLOSE","SELECTOR_ICON_SPEECH","SELECTOR_ICON_PASSWORD","SELECTOR_PLACEHOLDER","SELECTOR_TOOLTIP","findRow","Input","sliderActionClass","sliderActionSelector","clearActionClass","clearActionSelector","speechActionClass","speechActionSelector","searchActionClass","searchActionSelector","passwordActionClass","passwordActionSelector","initAction","initElementEvent","row","sliderAction","createAction","searchAction","speechAction","speechActionClick","clearAction","clearActionClick","passwordAction","passwordActionClick","actionClass","actionSelector","nextSibling","tooltip","showTip","tooltipWidth","distince","scaleWidth","setPlaceholder","oldValue","speech","startRecognize","engine","stopRecognize","inputApis","inputApi","rgbaRegex","getColor","colorStr","Transparent","scrollby","scrollByElem","isNativeScroll","_style","_bgColor","_R","_G","_B","_A","lastOpacity","_bufferFn","alpha","destory","mui_plugin_transparent","transparent","transparentApis","transparentApi","touchSupport","tapEventName","changeEventName","holderClassName","plusClassSelector","minusClassSelector","inputClassSelector","Numbox","holder","step","minus","checkValue","getValue","isNaN","setOption","setValue","numbox","optionsText","STATE_RESET","STATE_LOADING","loadingText","loadingIcon","loadingIconPosition","Button","isInput","resetHTML","setState","setHtml","buttonApis","buttonApi","mui_plugin_button"],"mappings":"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","file":"js/app.c8b84a54.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-26bc8312\":\"95193c9a\",\"chunk-1f629da8\":\"5468a349\",\"chunk-100040d6\":\"b6c08b0d\",\"chunk-1dd6d2bb\":\"ccfdd06e\",\"chunk-65d5706b\":\"fcd17a9a\",\"chunk-e724546e\":\"653c1efe\",\"chunk-275b1bd8\":\"073817f5\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-26bc8312\":1,\"chunk-1f629da8\":1,\"chunk-100040d6\":1,\"chunk-1dd6d2bb\":1,\"chunk-65d5706b\":1,\"chunk-e724546e\":1,\"chunk-275b1bd8\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-26bc8312\":\"6f30f59b\",\"chunk-1f629da8\":\"eb69f653\",\"chunk-100040d6\":\"a27e6d4c\",\"chunk-1dd6d2bb\":\"9554751b\",\"chunk-65d5706b\":\"d096014d\",\"chunk-e724546e\":\"d7557462\",\"chunk-275b1bd8\":\"ff851a44\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/shopcart.c68224ce.svg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabBar.vue?vue&type=style&index=0&id=25056610&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabBarItem.vue?vue&type=style&index=0&id=2a7cf8dd&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('keep-alive',{attrs:{\"exclude\":\"Detail\"}},[_c('router-view')],1),_c('main-tab-bar')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tab-bar',[_c('tab-bar-item',{attrs:{\"path\":\"/home\",\"colorStyle\":\"deeppink\"}},[_c('img',{attrs:{\"slot\":\"item_icon\",\"src\":require(\"@/assets/img/tabbar/home.svg\"),\"alt\":\"\"},slot:\"item_icon\"}),_c('img',{attrs:{\"slot\":\"item_active_icon\",\"src\":require(\"@/assets/img/tabbar/home_active.svg\"),\"alt\":\"\"},slot:\"item_active_icon\"}),_c('div',{attrs:{\"slot\":\"item_text\"},slot:\"item_text\"},[_vm._v(\"首页\")])]),_c('tab-bar-item',{attrs:{\"path\":\"category\",\"colorStyle\":\"deeppink\"}},[_c('img',{attrs:{\"slot\":\"item_icon\",\"src\":require(\"@/assets/img/tabbar/category.svg\"),\"alt\":\"\"},slot:\"item_icon\"}),_c('img',{attrs:{\"slot\":\"item_active_icon\",\"src\":require(\"@/assets/img/tabbar/category_active.svg\"),\"alt\":\"\"},slot:\"item_active_icon\"}),_c('div',{attrs:{\"slot\":\"item_text\"},slot:\"item_text\"},[_vm._v(\"分类\")])]),_c('tab-bar-item',{attrs:{\"path\":\"cart\",\"colorStyle\":\"deeppink\"}},[_c('img',{attrs:{\"slot\":\"item_icon\",\"src\":require(\"@/assets/img/tabbar/shopcart.svg\"),\"alt\":\"\"},slot:\"item_icon\"}),_c('img',{attrs:{\"slot\":\"item_active_icon\",\"src\":require(\"@/assets/img/tabbar/shopcart_active.svg\"),\"alt\":\"\"},slot:\"item_active_icon\"}),_c('div',{attrs:{\"slot\":\"item_text\"},slot:\"item_text\"},[_vm._v(\"购物车\")])]),_c('tab-bar-item',{attrs:{\"path\":\"profile\",\"colorStyle\":\"deeppink\"}},[_c('img',{attrs:{\"slot\":\"item_icon\",\"src\":require(\"@/assets/img/tabbar/profile.svg\"),\"alt\":\"\"},slot:\"item_icon\"}),_c('img',{attrs:{\"slot\":\"item_active_icon\",\"src\":require(\"@/assets/img/tabbar/profile_active.svg\"),\"alt\":\"\"},slot:\"item_active_icon\"}),_c('div',{staticClass:\"me\",attrs:{\"slot\":\"item_text\"},slot:\"item_text\"},[_vm._v(\"我的\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tabbar ignore\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tabbar ignore\">\n    <slot></slot>\n  </div>\n</template>\n<script>\nexport default {\n\n}\n</script>\n<style scoped>\n.tabbar{\n  display:flex;\n  height: 49px;\n  background-color: rgb(245, 244, 244);\n  position: absolute;\n  box-shadow: 0 -2px 1px rgb(236, 235, 235);\n   text-align: center;\n   bottom:0px;\n   left:0px;\n   right:0px;}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabBar.vue?vue&type=template&id=25056610&scoped=true&\"\nimport script from \"./TabBar.vue?vue&type=script&lang=js&\"\nexport * from \"./TabBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TabBar.vue?vue&type=style&index=0&id=25056610&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25056610\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-bar-item\"},[(!_vm.isActive)?_c('div',{on:{\"click\":_vm.tabClick}},[_vm._t(\"item_icon\")],2):_c('div',[_vm._t(\"item_active_icon\")],2),_c('div',{staticClass:\"me\",style:(_vm.activeStyle),on:{\"click\":_vm.tabClick}},[_vm._t(\"item_text\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tab-bar-item\">\n  <div  v-if=\"!isActive\" @click=\"tabClick\"><slot name=\"item_icon\"></slot></div>\n  <div v-else><slot name=\"item_active_icon\"></slot></div>\n  <div :style=\"activeStyle\" @click=\"tabClick\" class=\"me\"><slot  name=\"item_text\"></slot></div>\n  <!-- <div :class=\"{active: activeStyle}\" ><slot name=\"item_text\"></slot></div> -->\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    path: {\n      typeof: String,\n      default(){\n        return ''\n      }\n    },\n    colorStyle: {\n      typeof: String,\n      default() {\n        return 'red'\n      }\n      }\n  },\n    data() {\n      return {\n        // activeStyle: true\n      }\n    },\n  methods: {\n    tabClick() {\n     this.$router.push(this.path)\n    },\n  },\n  computed: {\n      isActive() {\n    return this.$route.path.indexOf(this.path) !== -1\n    },\n    activeStyle() {\n      // return this.$route.path.indexOf(this.path) !== -1\n      return this.isActive ? {color:this.colorStyle}: {}\n    }\n  }\n}\n</script>\n<style scoped>\n.tab-bar-item{\n  flex: 1;\n  margin-top: 5px;\n  font-size: 10px;\n  }\n  img{width: 24px;\n  height: 24px;\n  vertical-align: middle;\n  }\n  .me{\n    margin-top: 5px;\n    font-size: 13px;\n  }\n  /* .active{color: rgb(253, 44, 155)} */\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabBarItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabBarItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabBarItem.vue?vue&type=template&id=2a7cf8dd&scoped=true&\"\nimport script from \"./TabBarItem.vue?vue&type=script&lang=js&\"\nexport * from \"./TabBarItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TabBarItem.vue?vue&type=style&index=0&id=2a7cf8dd&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a7cf8dd\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<tab-bar>\n    <tab-bar-item path=\"/home\" colorStyle=\"deeppink\">\n      <img src=\"@/assets/img/tabbar/home.svg\" alt=\"\" slot=\"item_icon\">\n      <img src=\"@/assets/img/tabbar/home_active.svg\" alt=\"\" slot=\"item_active_icon\">\n      <div slot=\"item_text\">首页</div>\n    </tab-bar-item>\n      <tab-bar-item path=\"category\" colorStyle=\"deeppink\">\n      <img src=\"@/assets/img/tabbar/category.svg\" alt=\"\" slot=\"item_icon\">\n      <img src=\"@/assets/img/tabbar/category_active.svg\" alt=\"\" slot=\"item_active_icon\">\n      <div slot=\"item_text\">分类</div>\n    </tab-bar-item>\n      <tab-bar-item path=\"cart\" colorStyle=\"deeppink\">\n      <img src=\"@/assets/img/tabbar/shopcart.svg\" alt=\"\" slot=\"item_icon\">\n      <img src=\"@/assets/img/tabbar/shopcart_active.svg\" alt=\"\" slot=\"item_active_icon\">\n      <div slot=\"item_text\">购物车</div>\n    </tab-bar-item>\n      <tab-bar-item path=\"profile\" colorStyle=\"deeppink\">\n      <img src=\"@/assets/img/tabbar/profile.svg\" alt=\"\" slot=\"item_icon\">\n      <img src=\"@/assets/img/tabbar/profile_active.svg\" alt=\"\" slot=\"item_active_icon\">\n      <div slot=\"item_text\" class=\"me\">我的</div>\n    </tab-bar-item>\n    </tab-bar>\n</template>\n<script>\nimport TabBar from 'components/common/tabbar/TabBar'\nimport TabBarItem from 'components/common/tabbar/TabBarItem'\nexport default {\n  components: {\n    TabBar,\n    TabBarItem\n  }\n}\n</script>\n<style scoped>\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTabBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTabBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainTabBar.vue?vue&type=template&id=3e0d8eca&scoped=true&\"\nimport script from \"./MainTabBar.vue?vue&type=script&lang=js&\"\nexport * from \"./MainTabBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e0d8eca\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <keep-alive exclude=\"Detail\" >\n    <router-view></router-view>\n    </keep-alive>\n      <main-tab-bar/>\n  </div>\n</template>\n \n<script>\nimport  MainTabBar from 'components/content/mainTabBar/MainTabBar'\nexport default {\n  name: 'App',\n  components: {\n    MainTabBar\n  }\n}\n</script>\n\n<style scoped>\n@import url('assets/css/base.css');\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=1b5ada12&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=1b5ada12&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b5ada12\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nVue.use(VueRouter)\nconst Home = () => import('views/home/Home')\nconst Category = () => import('views/category/Category')\nconst Cart = () => import('views/cart/Cart')\nconst ProFile = () => import('views/profile/ProFile')\nconst Detail = () => import('views/detail/Detail')\nconst routes =  [\n  {\n   path: '',\n   redirect: '/home'\n  },\n{\n  path: '/home',\n  component: Home\n},\n{\n  path: '/category',\n  component: Category\n},\n{\n  path: '/cart',\n  component: Cart\n},\n{\n  path: '/profile',\n  component: ProFile\n},\n{\n  path: '/detail/:iid',\n  component: Detail\n}\n]\nconst router = new VueRouter({\n  routes,\n  // mode:'history'\n  mode:'hash'\n}) \nexport default router\n","export default {\n  addCount( state, product) {\n    product.count += 1\n  },\n  addCart(state, payLoad) {\n    payLoad.checked = true\n    payLoad.count = 1\n    state.cartList.push(payLoad)\n\n  },\n}","export default {\n  addCart(context, payLoad) {\n    // 判断如果加入购物车的是同一件商品，不需要再push一次，只需找到\n    // 这个商品将其数量加1\n    // let product = null\n    // for(let item of state.cartList){\n    //   if(item.iid === payLoad.iid){\n    //     product = item\n    //     break\n    //   }\n    // }\n    return new Promise((resolve, reject) => {\n      let product = context.state.cartList.find(item => item.iid  === payLoad.iid)\n      if(product) {\n        context.commit('addCount', product)\n        resolve('添加购物车成功')\n      }else {\n        context.commit('addCart', payLoad)\n        resolve('添加购物车成功')\n  \n      }\n    })\n  }\n}","export default {\n  cartLength(state) {\n    return state.cartList.length\n  },\n  cartList(state) {\n    return state.cartList\n  }\n}","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport mutations from './mutations'\nimport actions from './actions'\nimport getters from './getters'\n\nVue.use(Vuex)\nconst state = {\n  cartList: []\n}\nconst store = new Vuex.Store({\n  state,\n  mutations,\n  actions,\n  getters\n})\nexport default store","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"toast\"},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"toast\" v-show=\"show\">\n   {{message}}\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n    message: '',\n    show: false\n    }\n  },\n  methods: {\n    isShow(message='默认文字', delayTime=3000) {\n          this.message = message\n          this.show = true\n          setTimeout(() => {\n          this.show = false\n          },delayTime)\n    }\n  }\n}\n</script>\n<style scoped>\n.toast{\n  background-color: rgba(0, 0, 0, .7);\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  z-index: 15;\n  padding: 10px 18px;\n  transform: translate(-50%, -50%);\n  border-radius: 5px;\n  font-size: 15px;\n  color: #fff;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toast.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toast.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Toast.vue?vue&type=template&id=3b1125be&scoped=true&\"\nimport script from \"./Toast.vue?vue&type=script&lang=js&\"\nexport * from \"./Toast.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Toast.vue?vue&type=style&index=0&id=3b1125be&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b1125be\",\n  null\n  \n)\n\nexport default component.exports","import Toast from './Toast'\nconst obj = {}\nobj.install = function(vue) {\n  // 创建一个关于Toast组件对象的组件构造器\n  const toastContrustor = vue.extend(Toast)\n  // new组件构造器创意一个新的组件对象\n  const toast = new toastContrustor()\n// 将新的组件对象挂载到div上\n  toast.$mount(document.createElement('div'))\n// 将div添加到页面中toast.$el指向div\ndocument.body.appendChild(toast.$el)\nvue.prototype.$toast = toast\n\n}\nexport default obj","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router/index'\nimport store from './store'\nimport toast from 'components/common/toast'\nimport FastClick from 'fastclick'\nimport VueLazyLoad from 'vue-lazyload'\nimport mui from './lib/mui-master/dist/js/mui'\n\nFastClick.attach(document.body)\nVue.prototype.$mui = mui\n\nVue.config.productionTip = false\n\nVue.prototype.$bus = new Vue()\n\nVue.use(toast)\n\nVue.use(VueLazyLoad, {\n  loading: require('./assets/img/common/placeholder.png')\n})\nnew Vue({\n  router,\n  store,\n  render: h => h(App),\n}).$mount('#app')\n","module.exports = __webpack_public_path__ + \"img/category.12bedb89.svg\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=1b5ada12&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toast.vue?vue&type=style&index=0&id=3b1125be&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/home.7210ddcb.svg\";","module.exports = __webpack_public_path__ + \"img/category_active.cb2cc09f.svg\";","/*!\n * =====================================================\n * Mui v3.7.3 (http://dev.dcloud.net.cn/mui)\n * =====================================================\n */\n/**\n * MUI核心JS\n * @type _L4.$|Function\n */\nvar mui = (function(document, undefined) {\n\tvar readyRE = /complete|loaded|interactive/;\n\tvar idSelectorRE = /^#([\\w-]+)$/;\n\tvar classSelectorRE = /^\\.([\\w-]+)$/;\n\tvar tagSelectorRE = /^[\\w-]+$/;\n\tvar translateRE = /translate(?:3d)?\\((.+?)\\)/;\n\tvar translateMatrixRE = /matrix(3d)?\\((.+?)\\)/;\n\n\tvar $ = function(selector, context) {\n\t\tcontext = context || document;\n\t\tif (!selector)\n\t\t\treturn wrap();\n\t\tif (typeof selector === 'object')\n\t\t\tif ($.isArrayLike(selector)) {\n\t\t\t\treturn wrap($.slice.call(selector), null);\n\t\t\t} else {\n\t\t\t\treturn wrap([selector], null);\n\t\t\t}\n\t\tif (typeof selector === 'function')\n\t\t\treturn $.ready(selector);\n\t\tif (typeof selector === 'string') {\n\t\t\ttry {\n\t\t\t\tselector = selector.trim();\n\t\t\t\tif (idSelectorRE.test(selector)) {\n\t\t\t\t\tvar found = document.getElementById(RegExp.$1);\n\t\t\t\t\treturn wrap(found ? [found] : []);\n\t\t\t\t}\n\t\t\t\treturn wrap($.qsa(selector, context), selector);\n\t\t\t} catch (e) {}\n\t\t}\n\t\treturn wrap();\n\t};\n\n\tvar wrap = function(dom, selector) {\n\t\tdom = dom || [];\n\t\tObject.setPrototypeOf(dom, $.fn);\n\t\tdom.selector = selector || '';\n\t\treturn dom;\n\t};\n\n\t$.uuid = 0;\n\n\t$.data = {};\n\t/**\n\t * extend(simple)\n\t * @param {type} target\n\t * @param {type} source\n\t * @param {type} deep\n\t * @returns {unresolved}\n\t */\n\t$.extend = function() { //from jquery2\n\t\tvar options, name, src, copy, copyIsArray, clone,\n\t\t\ttarget = arguments[0] || {},\n\t\t\ti = 1,\n\t\t\tlength = arguments.length,\n\t\t\tdeep = false;\n\n\t\tif (typeof target === \"boolean\") {\n\t\t\tdeep = target;\n\n\t\t\ttarget = arguments[i] || {};\n\t\t\ti++;\n\t\t}\n\n\t\tif (typeof target !== \"object\" && !$.isFunction(target)) {\n\t\t\ttarget = {};\n\t\t}\n\n\t\tif (i === length) {\n\t\t\ttarget = this;\n\t\t\ti--;\n\t\t}\n\n\t\tfor (; i < length; i++) {\n\t\t\tif ((options = arguments[i]) != null) {\n\t\t\t\tfor (name in options) {\n\t\t\t\t\tsrc = target[name];\n\t\t\t\t\tcopy = options[name];\n\n\t\t\t\t\tif (target === copy) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (deep && copy && ($.isPlainObject(copy) || (copyIsArray = $.isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && $.isArray(src) ? src : [];\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && $.isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget[name] = $.extend(deep, clone, copy);\n\n\t\t\t\t\t} else if (copy !== undefined) {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn target;\n\t};\n\t/**\n\t * mui noop(function)\n\t */\n\t$.noop = function() {};\n\t/**\n\t * mui slice(array)\n\t */\n\t$.slice = [].slice;\n\t/**\n\t * mui filter(array)\n\t */\n\t$.filter = [].filter;\n\n\t$.type = function(obj) {\n\t\treturn obj == null ? String(obj) : class2type[{}.toString.call(obj)] || \"object\";\n\t};\n\t/**\n\t * mui isArray\n\t */\n\t$.isArray = Array.isArray ||\n\t\tfunction(object) {\n\t\t\treturn object instanceof Array;\n\t\t};\n\t/**\n\t * mui isArrayLike \n\t * @param {Object} obj\n\t */\n\t$.isArrayLike = function(obj) {\n\t\tvar length = !!obj && \"length\" in obj && obj.length;\n\t\tvar type = $.type(obj);\n\t\tif (type === \"function\" || $.isWindow(obj)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn type === \"array\" || length === 0 ||\n\t\t\ttypeof length === \"number\" && length > 0 && (length - 1) in obj;\n\t};\n\t/**\n\t * mui isWindow(需考虑obj为undefined的情况)\n\t */\n\t$.isWindow = function(obj) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\t/**\n\t * mui isObject\n\t */\n\t$.isObject = function(obj) {\n\t\treturn $.type(obj) === \"object\";\n\t};\n\t/**\n\t * mui isPlainObject\n\t */\n\t$.isPlainObject = function(obj) {\n\t\treturn $.isObject(obj) && !$.isWindow(obj) && Object.getPrototypeOf(obj) === Object.prototype;\n\t};\n\t/**\n\t * mui isEmptyObject\n\t * @param {Object} o\n\t */\n\t$.isEmptyObject = function(o) {\n\t\tfor (var p in o) {\n\t\t\tif (p !== undefined) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\t/**\n\t * mui isFunction\n\t */\n\t$.isFunction = function(value) {\n\t\treturn $.type(value) === \"function\";\n\t};\n\t/**\n\t * mui querySelectorAll\n\t * @param {type} selector\n\t * @param {type} context\n\t * @returns {Array}\n\t */\n\t$.qsa = function(selector, context) {\n\t\tcontext = context || document;\n\t\treturn $.slice.call(classSelectorRE.test(selector) ? context.getElementsByClassName(RegExp.$1) : tagSelectorRE.test(selector) ? context.getElementsByTagName(selector) : context.querySelectorAll(selector));\n\t};\n\t/**\n\t * ready(DOMContentLoaded)\n\t * @param {type} callback\n\t * @returns {_L6.$}\n\t */\n\t$.ready = function(callback) {\n\t\tif (readyRE.test(document.readyState)) {\n\t\t\tcallback($);\n\t\t} else {\n\t\t\tdocument.addEventListener('DOMContentLoaded', function() {\n\t\t\t\tcallback($);\n\t\t\t}, false);\n\t\t}\n\t\treturn this;\n\t};\n\t/**\n\t * 将 fn 缓存一段时间后, 再被调用执行\n\t * 此方法为了避免在 ms 段时间内, 执行 fn 多次. 常用于 resize , scroll , mousemove 等连续性事件中;\n\t * 当 ms 设置为 -1, 表示立即执行 fn, 即和直接调用 fn 一样;\n\t * 调用返回函数的 stop 停止最后一次的 buffer 效果\n\t * @param {Object} fn\n\t * @param {Object} ms\n\t * @param {Object} context\n\t */\n\t$.buffer = function(fn, ms, context) {\n\t\tvar timer;\n\t\tvar lastStart = 0;\n\t\tvar lastEnd = 0;\n\t\tvar ms = ms || 150;\n\n\t\tfunction run() {\n\t\t\tif (timer) {\n\t\t\t\ttimer.cancel();\n\t\t\t\ttimer = 0;\n\t\t\t}\n\t\t\tlastStart = $.now();\n\t\t\tfn.apply(context || this, arguments);\n\t\t\tlastEnd = $.now();\n\t\t}\n\n\t\treturn $.extend(function() {\n\t\t\tif (\n\t\t\t\t(!lastStart) || // 从未运行过\n\t\t\t\t(lastEnd >= lastStart && $.now() - lastEnd > ms) || // 上次运行成功后已经超过ms毫秒\n\t\t\t\t(lastEnd < lastStart && $.now() - lastStart > ms * 8) // 上次运行或未完成，后8*ms毫秒\n\t\t\t) {\n\t\t\t\trun.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tif (timer) {\n\t\t\t\t\ttimer.cancel();\n\t\t\t\t}\n\t\t\t\ttimer = $.later(run, ms, null, $.slice.call(arguments));\n\t\t\t}\n\t\t}, {\n\t\t\tstop: function() {\n\t\t\t\tif (timer) {\n\t\t\t\t\ttimer.cancel();\n\t\t\t\t\ttimer = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t/**\n\t * each\n\t * @param {type} elements\n\t * @param {type} callback\n\t * @returns {_L8.$}\n\t */\n\t$.each = function(elements, callback, hasOwnProperty) {\n\t\tif (!elements) {\n\t\t\treturn this;\n\t\t}\n\t\tif (typeof elements.length === 'number') {\n\t\t\t[].every.call(elements, function(el, idx) {\n\t\t\t\treturn callback.call(el, idx, el) !== false;\n\t\t\t});\n\t\t} else {\n\t\t\tfor (var key in elements) {\n\t\t\t\tif (hasOwnProperty) {\n\t\t\t\t\tif (elements.hasOwnProperty(key)) {\n\t\t\t\t\t\tif (callback.call(elements[key], key, elements[key]) === false) return elements;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (callback.call(elements[key], key, elements[key]) === false) return elements;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\t$.focus = function(element) {\n\t\tif ($.os.ios) {\n\t\t\tsetTimeout(function() {\n\t\t\t\telement.focus();\n\t\t\t}, 10);\n\t\t} else {\n\t\t\telement.focus();\n\t\t}\n\t};\n\t/**\n\t * trigger event\n\t * @param {type} element\n\t * @param {type} eventType\n\t * @param {type} eventData\n\t * @returns {_L8.$}\n\t */\n\t$.trigger = function(element, eventType, eventData) {\n\t\telement.dispatchEvent(new CustomEvent(eventType, {\n\t\t\tdetail: eventData,\n\t\t\tbubbles: true,\n\t\t\tcancelable: true\n\t\t}));\n\t\treturn this;\n\t};\n\t/**\n\t * getStyles\n\t * @param {type} element\n\t * @param {type} property\n\t * @returns {styles}\n\t */\n\t$.getStyles = function(element, property) {\n\t\tvar styles = element.ownerDocument.defaultView.getComputedStyle(element, null);\n\t\tif (property) {\n\t\t\treturn styles.getPropertyValue(property) || styles[property];\n\t\t}\n\t\treturn styles;\n\t};\n\t/**\n\t * parseTranslate\n\t * @param {type} translateString\n\t * @param {type} position\n\t * @returns {Object}\n\t */\n\t$.parseTranslate = function(translateString, position) {\n\t\tvar result = translateString.match(translateRE || '');\n\t\tif (!result || !result[1]) {\n\t\t\tresult = ['', '0,0,0'];\n\t\t}\n\t\tresult = result[1].split(\",\");\n\t\tresult = {\n\t\t\tx: parseFloat(result[0]),\n\t\t\ty: parseFloat(result[1]),\n\t\t\tz: parseFloat(result[2])\n\t\t};\n\t\tif (position && result.hasOwnProperty(position)) {\n\t\t\treturn result[position];\n\t\t}\n\t\treturn result;\n\t};\n\t/**\n\t * parseTranslateMatrix\n\t * @param {type} translateString\n\t * @param {type} position\n\t * @returns {Object}\n\t */\n\t$.parseTranslateMatrix = function(translateString, position) {\n\t\tvar matrix = translateString.match(translateMatrixRE);\n\t\tvar is3D = matrix && matrix[1];\n\t\tif (matrix) {\n\t\t\tmatrix = matrix[2].split(\",\");\n\t\t\tif (is3D === \"3d\")\n\t\t\t\tmatrix = matrix.slice(12, 15);\n\t\t\telse {\n\t\t\t\tmatrix.push(0);\n\t\t\t\tmatrix = matrix.slice(4, 7);\n\t\t\t}\n\t\t} else {\n\t\t\tmatrix = [0, 0, 0];\n\t\t}\n\t\tvar result = {\n\t\t\tx: parseFloat(matrix[0]),\n\t\t\ty: parseFloat(matrix[1]),\n\t\t\tz: parseFloat(matrix[2])\n\t\t};\n\t\tif (position && result.hasOwnProperty(position)) {\n\t\t\treturn result[position];\n\t\t}\n\t\treturn result;\n\t};\n\t$.hooks = {};\n\t$.addAction = function(type, hook) {\n\t\tvar hooks = $.hooks[type];\n\t\tif (!hooks) {\n\t\t\thooks = [];\n\t\t}\n\t\thook.index = hook.index || 1000;\n\t\thooks.push(hook);\n\t\thooks.sort(function(a, b) {\n\t\t\treturn a.index - b.index;\n\t\t});\n\t\t$.hooks[type] = hooks;\n\t\treturn $.hooks[type];\n\t};\n\t$.doAction = function(type, callback) {\n\t\tif ($.isFunction(callback)) { //指定了callback\n\t\t\t$.each($.hooks[type], callback);\n\t\t} else { //未指定callback，直接执行\n\t\t\t$.each($.hooks[type], function(index, hook) {\n\t\t\t\treturn !hook.handle();\n\t\t\t});\n\t\t}\n\t};\n\t/**\n\t * setTimeout封装\n\t * @param {Object} fn\n\t * @param {Object} when\n\t * @param {Object} context\n\t * @param {Object} data\n\t */\n\t$.later = function(fn, when, context, data) {\n\t\twhen = when || 0;\n\t\tvar m = fn;\n\t\tvar d = data;\n\t\tvar f;\n\t\tvar r;\n\n\t\tif (typeof fn === 'string') {\n\t\t\tm = context[fn];\n\t\t}\n\n\t\tf = function() {\n\t\t\tm.apply(context, $.isArray(d) ? d : [d]);\n\t\t};\n\n\t\tr = setTimeout(f, when);\n\n\t\treturn {\n\t\t\tid: r,\n\t\t\tcancel: function() {\n\t\t\t\tclearTimeout(r);\n\t\t\t}\n\t\t};\n\t};\n\t$.now = Date.now || function() {\n\t\treturn +new Date();\n\t};\n\tvar class2type = {};\n\t$.each(['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Object', 'Error'], function(i, name) {\n\t\tclass2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n\t});\n\tif (window.JSON) {\n\t\t$.parseJSON = JSON.parse;\n\t}\n\t/**\n\t * $.fn\n\t */\n\t$.fn = {\n\t\teach: function(callback) {\n\t\t\t[].every.call(this, function(el, idx) {\n\t\t\t\treturn callback.call(el, idx, el) !== false;\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\t};\n\n\t/**\n\t * 兼容 AMD 模块\n\t **/\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine('mui', [], function() {\n\t\t\treturn $;\n\t\t});\n\t}\n\n\treturn $;\n})(document);\nwindow.mui = mui;\n//'$' in window || (window.$ = mui);\n/**\n * $.os\n * @param {type} $\n * @returns {undefined}\n */\n(function($, window) {\n\tfunction detect(ua) {\n\t\tthis.os = {};\n\t\tvar funcs = [\n\n\t\t\tfunction() { //wechat\n\t\t\t\tvar wechat = ua.match(/(MicroMessenger)\\/([\\d\\.]+)/i);\n\t\t\t\tif (wechat) { //wechat\n\t\t\t\t\tthis.os.wechat = {\n\t\t\t\t\t\tversion: wechat[2].replace(/_/g, '.')\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tfunction() { //android\n\t\t\t\tvar android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n\t\t\t\tif (android) {\n\t\t\t\t\tthis.os.android = true;\n\t\t\t\t\tthis.os.version = android[2];\n\n\t\t\t\t\tthis.os.isBadAndroid = !(/Chrome\\/\\d/.test(window.navigator.appVersion));\n\t\t\t\t}\n\t\t\t\treturn this.os.android === true;\n\t\t\t},\n\t\t\tfunction() { //ios\n\t\t\t\tvar iphone = ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n\t\t\t\tif (iphone) { //iphone\n\t\t\t\t\tthis.os.ios = this.os.iphone = true;\n\t\t\t\t\tthis.os.version = iphone[2].replace(/_/g, '.');\n\t\t\t\t} else {\n\t\t\t\t\tvar ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n\t\t\t\t\tif (ipad) { //ipad\n\t\t\t\t\t\tthis.os.ios = this.os.ipad = true;\n\t\t\t\t\t\tthis.os.version = ipad[2].replace(/_/g, '.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this.os.ios === true;\n\t\t\t}\n\t\t];\n\t\t[].every.call(funcs, function(func) {\n\t\t\treturn !func.call($);\n\t\t});\n\t}\n\tdetect.call($, navigator.userAgent);\n})(mui, window);\n/**\n * $.os.plus\n * @param {type} $\n * @returns {undefined}\n */\n(function($, document) {\n\tfunction detect(ua) {\n\t\tthis.os = this.os || {};\n\t\tvar plus = ua.match(/Html5Plus/i); //TODO 5\\+Browser?\n\t\tif (plus) {\n\t\t\tthis.os.plus = true;\n\t\t\t$(function() {\n\t\t\t\tdocument.body.classList.add('mui-plus');\n\t\t\t});\n\t\t\tif (ua.match(/StreamApp/i)) { //TODO 最好有流应用自己的标识\n\t\t\t\tthis.os.stream = true;\n\t\t\t\t$(function() {\n\t\t\t\t\tdocument.body.classList.add('mui-plus-stream');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tdetect.call($, navigator.userAgent);\n})(mui, document);\n/**\n * 仅提供简单的on，off(仅支持事件委托，不支持当前元素绑定，当前元素绑定请直接使用addEventListener,removeEventListener)\n * @param {Object} $\n */\n(function($) {\n\tif ('ontouchstart' in window) {\n\t\t$.isTouchable = true;\n\t\t$.EVENT_START = 'touchstart';\n\t\t$.EVENT_MOVE = 'touchmove';\n\t\t$.EVENT_END = 'touchend';\n\t} else {\n\t\t$.isTouchable = false;\n\t\t$.EVENT_START = 'mousedown';\n\t\t$.EVENT_MOVE = 'mousemove';\n\t\t$.EVENT_END = 'mouseup';\n\t}\n\t$.EVENT_CANCEL = 'touchcancel';\n\t$.EVENT_CLICK = 'click';\n\n\tvar _mid = 1;\n\tvar delegates = {};\n\t//需要wrap的函数\n\tvar eventMethods = {\n\t\tpreventDefault: 'isDefaultPrevented',\n\t\tstopImmediatePropagation: 'isImmediatePropagationStopped',\n\t\tstopPropagation: 'isPropagationStopped'\n\t};\n\t//默认true返回函数\n\tvar returnTrue = function() {\n\t\treturn true\n\t};\n\t//默认false返回函数\n\tvar returnFalse = function() {\n\t\treturn false\n\t};\n\t//wrap浏览器事件\n\tvar compatible = function(event, target) {\n\t\tif (!event.detail) {\n\t\t\tevent.detail = {\n\t\t\t\tcurrentTarget: target\n\t\t\t};\n\t\t} else {\n\t\t\tevent.detail.currentTarget = target;\n\t\t}\n\t\t$.each(eventMethods, function(name, predicate) {\n\t\t\tvar sourceMethod = event[name];\n\t\t\tevent[name] = function() {\n\t\t\t\tthis[predicate] = returnTrue;\n\t\t\t\treturn sourceMethod && sourceMethod.apply(event, arguments)\n\t\t\t}\n\t\t\tevent[predicate] = returnFalse;\n\t\t}, true);\n\t\treturn event;\n\t};\n\t//简单的wrap对象_mid\n\tvar mid = function(obj) {\n\t\treturn obj && (obj._mid || (obj._mid = _mid++));\n\t};\n\t//事件委托对象绑定的事件回调列表\n\tvar delegateFns = {};\n\t//返回事件委托的wrap事件回调\n\tvar delegateFn = function(element, event, selector, callback) {\n\t\treturn function(e) {\n\t\t\t//same event\n\t\t\tvar callbackObjs = delegates[element._mid][event];\n\t\t\tvar handlerQueue = [];\n\t\t\tvar target = e.target;\n\t\t\tvar selectorAlls = {};\n\t\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\t\tif (target === element) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (~['click', 'tap', 'doubletap', 'longtap', 'hold'].indexOf(event) && (target.disabled || target.classList.contains('mui-disabled'))) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar matches = {};\n\t\t\t\t$.each(callbackObjs, function(selector, callbacks) { //same selector\n\t\t\t\t\tselectorAlls[selector] || (selectorAlls[selector] = $.qsa(selector, element));\n\t\t\t\t\tif (selectorAlls[selector] && ~(selectorAlls[selector]).indexOf(target)) {\n\t\t\t\t\t\tif (!matches[selector]) {\n\t\t\t\t\t\t\tmatches[selector] = callbacks;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, true);\n\t\t\t\tif (!$.isEmptyObject(matches)) {\n\t\t\t\t\thandlerQueue.push({\n\t\t\t\t\t\telement: target,\n\t\t\t\t\t\thandlers: matches\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tselectorAlls = null;\n\t\t\te = compatible(e); //compatible event\n\t\t\t$.each(handlerQueue, function(index, handler) {\n\t\t\t\ttarget = handler.element;\n\t\t\t\tvar tagName = target.tagName;\n\t\t\t\tif (event === 'tap' && (tagName !== 'INPUT' && tagName !== 'TEXTAREA' && tagName !== 'SELECT')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.detail && e.detail.gesture && e.detail.gesture.preventDefault();\n\t\t\t\t}\n\t\t\t\t$.each(handler.handlers, function(index, handler) {\n\t\t\t\t\t$.each(handler, function(index, callback) {\n\t\t\t\t\t\tif (callback.call(target, e) === false) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, true);\n\t\t\t\t}, true)\n\t\t\t\tif (e.isPropagationStopped()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}, true);\n\t\t};\n\t};\n\tvar findDelegateFn = function(element, event) {\n\t\tvar delegateCallbacks = delegateFns[mid(element)];\n\t\tvar result = [];\n\t\tif (delegateCallbacks) {\n\t\t\tresult = [];\n\t\t\tif (event) {\n\t\t\t\tvar filterFn = function(fn) {\n\t\t\t\t\treturn fn.type === event;\n\t\t\t\t}\n\t\t\t\treturn delegateCallbacks.filter(filterFn);\n\t\t\t} else {\n\t\t\t\tresult = delegateCallbacks;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t};\n\tvar preventDefaultException = /^(INPUT|TEXTAREA|BUTTON|SELECT)$/;\n\t/**\n\t * mui delegate events\n\t * @param {type} event\n\t * @param {type} selector\n\t * @param {type} callback\n\t * @returns {undefined}\n\t */\n\t$.fn.on = function(event, selector, callback) { //仅支持简单的事件委托,主要是tap事件使用，类似mouse,focus之类暂不封装支持\n\t\treturn this.each(function() {\n\t\t\tvar element = this;\n\t\t\tmid(element);\n\t\t\tmid(callback);\n\t\t\tvar isAddEventListener = false;\n\t\t\tvar delegateEvents = delegates[element._mid] || (delegates[element._mid] = {});\n\t\t\tvar delegateCallbackObjs = delegateEvents[event] || ((delegateEvents[event] = {}));\n\t\t\tif ($.isEmptyObject(delegateCallbackObjs)) {\n\t\t\t\tisAddEventListener = true;\n\t\t\t}\n\t\t\tvar delegateCallbacks = delegateCallbackObjs[selector] || (delegateCallbackObjs[selector] = []);\n\t\t\tdelegateCallbacks.push(callback);\n\t\t\tif (isAddEventListener) {\n\t\t\t\tvar delegateFnArray = delegateFns[mid(element)];\n\t\t\t\tif (!delegateFnArray) {\n\t\t\t\t\tdelegateFnArray = [];\n\t\t\t\t}\n\t\t\t\tvar delegateCallback = delegateFn(element, event, selector, callback);\n\t\t\t\tdelegateFnArray.push(delegateCallback);\n\t\t\t\tdelegateCallback.i = delegateFnArray.length - 1;\n\t\t\t\tdelegateCallback.type = event;\n\t\t\t\tdelegateFns[mid(element)] = delegateFnArray;\n\t\t\t\telement.addEventListener(event, delegateCallback);\n\t\t\t\tif (event === 'tap') { //TODO 需要找个更好的解决方案\n\t\t\t\t\telement.addEventListener('click', function(e) {\n\t\t\t\t\t\tif (e.target) {\n\t\t\t\t\t\t\tvar tagName = e.target.tagName;\n\t\t\t\t\t\t\tif (!preventDefaultException.test(tagName)) {\n\t\t\t\t\t\t\t\tif (tagName === 'A') {\n\t\t\t\t\t\t\t\t\tvar href = e.target.href;\n\t\t\t\t\t\t\t\t\tif (!(href && ~href.indexOf('tel:'))) {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t$.fn.off = function(event, selector, callback) {\n\t\treturn this.each(function() {\n\t\t\tvar _mid = mid(this);\n\t\t\tif (!event) { //mui(selector).off();\n\t\t\t\tdelegates[_mid] && delete delegates[_mid];\n\t\t\t} else if (!selector) { //mui(selector).off(event);\n\t\t\t\tdelegates[_mid] && delete delegates[_mid][event];\n\t\t\t} else if (!callback) { //mui(selector).off(event,selector);\n\t\t\t\tdelegates[_mid] && delegates[_mid][event] && delete delegates[_mid][event][selector];\n\t\t\t} else { //mui(selector).off(event,selector,callback);\n\t\t\t\tvar delegateCallbacks = delegates[_mid] && delegates[_mid][event] && delegates[_mid][event][selector];\n\t\t\t\t$.each(delegateCallbacks, function(index, delegateCallback) {\n\t\t\t\t\tif (mid(delegateCallback) === mid(callback)) {\n\t\t\t\t\t\tdelegateCallbacks.splice(index, 1);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}, true);\n\t\t\t}\n\t\t\tif (delegates[_mid]) {\n\t\t\t\t//如果off掉了所有当前element的指定的event事件，则remove掉当前element的delegate回调\n\t\t\t\tif ((!delegates[_mid][event] || $.isEmptyObject(delegates[_mid][event]))) {\n\t\t\t\t\tfindDelegateFn(this, event).forEach(function(fn) {\n\t\t\t\t\t\tthis.removeEventListener(fn.type, fn);\n\t\t\t\t\t\tdelete delegateFns[_mid][fn.i];\n\t\t\t\t\t}.bind(this));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//如果delegates[_mid]已不存在，删除所有\n\t\t\t\tfindDelegateFn(this).forEach(function(fn) {\n\t\t\t\t\tthis.removeEventListener(fn.type, fn);\n\t\t\t\t\tdelete delegateFns[_mid][fn.i];\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t});\n\n\t};\n})(mui);\n/**\n * mui target(action>popover>modal>tab>toggle)\n */\n(function($, window, document) {\n\t/**\n\t * targets\n\t */\n\t$.targets = {};\n\t/**\n\t * target handles\n\t */\n\t$.targetHandles = [];\n\t/**\n\t * register target\n\t * @param {type} target\n\t * @returns {$.targets}\n\t */\n\t$.registerTarget = function(target) {\n\n\t\ttarget.index = target.index || 1000;\n\n\t\t$.targetHandles.push(target);\n\n\t\t$.targetHandles.sort(function(a, b) {\n\t\t\treturn a.index - b.index;\n\t\t});\n\n\t\treturn $.targetHandles;\n\t};\n\twindow.addEventListener($.EVENT_START, function(event) {\n\t\tvar target = event.target;\n\t\tvar founds = {};\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tvar isFound = false;\n\t\t\t$.each($.targetHandles, function(index, targetHandle) {\n\t\t\t\tvar name = targetHandle.name;\n\t\t\t\tif (!isFound && !founds[name] && targetHandle.hasOwnProperty('handle')) {\n\t\t\t\t\t$.targets[name] = targetHandle.handle(event, target);\n\t\t\t\t\tif ($.targets[name]) {\n\t\t\t\t\t\tfounds[name] = true;\n\t\t\t\t\t\tif (targetHandle.isContinue !== true) {\n\t\t\t\t\t\t\tisFound = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!founds[name]) {\n\t\t\t\t\t\tif (targetHandle.isReset !== false)\n\t\t\t\t\t\t\t$.targets[name] = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (isFound) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n\twindow.addEventListener('click', function(event) { //解决touch与click的target不一致的问题(比如链接边缘点击时，touch的target为html，而click的target为A)\n\t\tvar target = event.target;\n\t\tvar isFound = false;\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tif (target.tagName === 'A') {\n\t\t\t\t$.each($.targetHandles, function(index, targetHandle) {\n\t\t\t\t\tvar name = targetHandle.name;\n\t\t\t\t\tif (targetHandle.hasOwnProperty('handle')) {\n\t\t\t\t\t\tif (targetHandle.handle(event, target)) {\n\t\t\t\t\t\t\tisFound = true;\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (isFound) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(mui, window, document);\n/**\n * fixed trim\n * @param {type} undefined\n * @returns {undefined}\n */\n(function(undefined) {\n\tif (String.prototype.trim === undefined) { // fix for iOS 3.2\n\t\tString.prototype.trim = function() {\n\t\t\treturn this.replace(/^\\s+|\\s+$/g, '');\n\t\t};\n\t}\n\tObject.setPrototypeOf = Object.setPrototypeOf || function(obj, proto) {\n\t\tobj['__proto__'] = proto;\n\t\treturn obj;\n\t};\n\n})();\n/**\n * fixed CustomEvent\n */\n(function() {\n\tif (typeof window.CustomEvent === 'undefined') {\n\t\tfunction CustomEvent(event, params) {\n\t\t\tparams = params || {\n\t\t\t\tbubbles: false,\n\t\t\t\tcancelable: false,\n\t\t\t\tdetail: undefined\n\t\t\t};\n\t\t\tvar evt = document.createEvent('Events');\n\t\t\tvar bubbles = true;\n\t\t\tfor (var name in params) {\n\t\t\t\t(name === 'bubbles') ? (bubbles = !!params[name]) : (evt[name] = params[name]);\n\t\t\t}\n\t\t\tevt.initEvent(event, bubbles, true);\n\t\t\treturn evt;\n\t\t};\n\t\tCustomEvent.prototype = window.Event.prototype;\n\t\twindow.CustomEvent = CustomEvent;\n\t}\n})();\n/*\n\tA shim for non ES5 supporting browsers.\n\tAdds function bind to Function prototype, so that you can do partial application.\n\tWorks even with the nasty thing, where the first word is the opposite of extranet, the second one is the profession of Columbus, and the version number is 9, flipped 180 degrees.\n*/\n\nFunction.prototype.bind = Function.prototype.bind || function(to) {\n\t// Make an array of our arguments, starting from second argument\n\tvar partial = Array.prototype.splice.call(arguments, 1),\n\t\t// We'll need the original function.\n\t\tfn = this;\n\tvar bound = function() {\n\t\t\t// Join the already applied arguments to the now called ones (after converting to an array again).\n\t\t\tvar args = partial.concat(Array.prototype.splice.call(arguments, 0));\n\t\t\t// If not being called as a constructor\n\t\t\tif (!(this instanceof bound)) {\n\t\t\t\t// return the result of the function called bound to target and partially applied.\n\t\t\t\treturn fn.apply(to, args);\n\t\t\t}\n\t\t\t// If being called as a constructor, apply the function bound to self.\n\t\t\tfn.apply(this, args);\n\t\t}\n\t\t// Attach the prototype of the function to our newly created function.\n\tbound.prototype = fn.prototype;\n\treturn bound;\n};\n/**\n * mui fixed classList\n * @param {type} document\n * @returns {undefined}\n */\n(function(document) {\n    if (!(\"classList\" in document.documentElement) && Object.defineProperty && typeof HTMLElement !== 'undefined') {\n\n        Object.defineProperty(HTMLElement.prototype, 'classList', {\n            get: function() {\n                var self = this;\n                function update(fn) {\n                    return function(value) {\n                        var classes = self.className.split(/\\s+/),\n                                index = classes.indexOf(value);\n\n                        fn(classes, index, value);\n                        self.className = classes.join(\" \");\n                    };\n                }\n\n                var ret = {\n                    add: update(function(classes, index, value) {\n                        ~index || classes.push(value);\n                    }),\n                    remove: update(function(classes, index) {\n                        ~index && classes.splice(index, 1);\n                    }),\n                    toggle: update(function(classes, index, value) {\n                        ~index ? classes.splice(index, 1) : classes.push(value);\n                    }),\n                    contains: function(value) {\n                        return !!~self.className.split(/\\s+/).indexOf(value);\n                    },\n                    item: function(i) {\n                        return self.className.split(/\\s+/)[i] || null;\n                    }\n                };\n\n                Object.defineProperty(ret, 'length', {\n                    get: function() {\n                        return self.className.split(/\\s+/).length;\n                    }\n                });\n\n                return ret;\n            }\n        });\n    }\n})(document);\n\n/**\n * mui fixed requestAnimationFrame\n * @param {type} window\n * @returns {undefined}\n */\n(function(window) {\n\tif (!window.requestAnimationFrame) {\n\t\tvar lastTime = 0;\n\t\twindow.requestAnimationFrame = window.webkitRequestAnimationFrame || function(callback, element) {\n\t\t\tvar currTime = new Date().getTime();\n\t\t\tvar timeToCall = Math.max(0, 16.7 - (currTime - lastTime));\n\t\t\tvar id = window.setTimeout(function() {\n\t\t\t\tcallback(currTime + timeToCall);\n\t\t\t}, timeToCall);\n\t\t\tlastTime = currTime + timeToCall;\n\t\t\treturn id;\n\t\t};\n\t\twindow.cancelAnimationFrame = window.webkitCancelAnimationFrame || window.webkitCancelRequestAnimationFrame || function(id) {\n\t\t\tclearTimeout(id);\n\t\t};\n\t};\n}(window));\n/**\n * fastclick(only for radio,checkbox)\n */\n(function($, window, name) {\n\tif (!$.os.android && !$.os.ios) { //目前仅识别android和ios\n\t\treturn;\n\t}\n\tif (window.FastClick) {\n\t\treturn;\n\t}\n\n\tvar handle = function(event, target) {\n\t\tif (target.tagName === 'LABEL') {\n\t\t\tif (target.parentNode) {\n\t\t\t\ttarget = target.parentNode.querySelector('input');\n\t\t\t}\n\t\t}\n\t\tif (target && (target.type === 'radio' || target.type === 'checkbox')) {\n\t\t\tif (!target.disabled) { //disabled\n\t\t\t\treturn target;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 40,\n\t\thandle: handle,\n\t\ttarget: false\n\t});\n\tvar dispatchEvent = function(event) {\n\t\tvar targetElement = $.targets.click;\n\t\tif (targetElement) {\n\t\t\tvar clickEvent, touch;\n\t\t\t// On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect\n\t\t\tif (document.activeElement && document.activeElement !== targetElement) {\n\t\t\t\tdocument.activeElement.blur();\n\t\t\t}\n\t\t\ttouch = event.detail.gesture.changedTouches[0];\n\t\t\t// Synthesise a click event, with an extra attribute so it can be tracked\n\t\t\tclickEvent = document.createEvent('MouseEvents');\n\t\t\tclickEvent.initMouseEvent('click', true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\n\t\t\tclickEvent.forwardedTouchEvent = true;\n\t\t\ttargetElement.dispatchEvent(clickEvent);\n\t\t\tevent.detail && event.detail.gesture.preventDefault();\n\t\t}\n\t};\n\twindow.addEventListener('tap', dispatchEvent);\n\twindow.addEventListener('doubletap', dispatchEvent);\n\t//捕获\n\twindow.addEventListener('click', function(event) {\n\t\tif ($.targets.click) {\n\t\t\tif (!event.forwardedTouchEvent) { //stop click\n\t\t\t\tif (event.stopImmediatePropagation) {\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t} else {\n\t\t\t\t\t// Part of the hack for browsers that don't support Event#stopImmediatePropagation\n\t\t\t\t\tevent.propagationStopped = true;\n\t\t\t\t}\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}, true);\n\n})(mui, window, 'click');\n(function($, document) {\n\t$(function() {\n\t\tif (!$.os.ios) {\n\t\t\treturn;\n\t\t}\n\t\tvar CLASS_FOCUSIN = 'mui-focusin';\n\t\tvar CLASS_BAR_TAB = 'mui-bar-tab';\n\t\tvar CLASS_BAR_FOOTER = 'mui-bar-footer';\n\t\tvar CLASS_BAR_FOOTER_SECONDARY = 'mui-bar-footer-secondary';\n\t\tvar CLASS_BAR_FOOTER_SECONDARY_TAB = 'mui-bar-footer-secondary-tab';\n\t\t// var content = document.querySelector('.' + CLASS_CONTENT);\n\t\t// if (content) {\n\t\t// \tdocument.body.insertBefore(content, document.body.firstElementChild);\n\t\t// }\n\t\tdocument.addEventListener('focusin', function(e) {\n\t\t\tif ($.os.plus) { //在父webview里边不fix\n\t\t\t\tif (window.plus) {\n\t\t\t\t\tif (plus.webview.currentWebview().children().length > 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar target = e.target;\n\t\t\t//TODO 需考虑所有键盘弹起的情况\n\t\t\tif (target.tagName && (target.tagName === 'TEXTAREA' || (target.tagName === 'INPUT' && (target.type === 'text' || target.type === 'search' || target.type === 'number')))) {\n\t\t\t\tif (target.disabled || target.readOnly) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tdocument.body.classList.add(CLASS_FOCUSIN);\n\t\t\t\tvar isFooter = false;\n\t\t\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\t\t\tvar classList = target.classList;\n\t\t\t\t\tif (classList && classList.contains(CLASS_BAR_TAB) || classList.contains(CLASS_BAR_FOOTER) || classList.contains(CLASS_BAR_FOOTER_SECONDARY) || classList.contains(CLASS_BAR_FOOTER_SECONDARY_TAB)) {\n\t\t\t\t\t\tisFooter = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isFooter) {\n\t\t\t\t\tvar scrollTop = document.body.scrollHeight;\n\t\t\t\t\tvar scrollLeft = document.body.scrollLeft;\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\twindow.scrollTo(scrollLeft, scrollTop);\n\t\t\t\t\t}, 20);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tdocument.addEventListener('focusout', function(e) {\n\t\t\tvar classList = document.body.classList;\n\t\t\tif (classList.contains(CLASS_FOCUSIN)) {\n\t\t\t\tclassList.remove(CLASS_FOCUSIN);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\twindow.scrollTo(document.body.scrollLeft, document.body.scrollTop);\n\t\t\t\t}, 20);\n\t\t\t}\n\t\t});\n\t});\n})(mui, document);\n/**\n * mui namespace(optimization)\n * @param {type} $\n * @returns {undefined}\n */\n(function($) {\n\t$.namespace = 'mui';\n\t$.classNamePrefix = $.namespace + '-';\n\t$.classSelectorPrefix = '.' + $.classNamePrefix;\n\t/**\n\t * 返回正确的className\n\t * @param {type} className\n\t * @returns {String}\n\t */\n\t$.className = function(className) {\n\t\treturn $.classNamePrefix + className;\n\t};\n\t/**\n\t * 返回正确的classSelector\n\t * @param {type} classSelector\n\t * @returns {String}\n\t */\n\t$.classSelector = function(classSelector) {\n\t\treturn classSelector.replace(/\\./g, $.classSelectorPrefix);\n\t};\n\t/**\n         * 返回正确的eventName\n         * @param {type} event\n         * @param {type} module\n         * @returns {String}\n         */\n\t$.eventName = function(event, module) {\n\t\treturn event + ($.namespace ? ('.' + $.namespace) : '') + ( module ? ('.' + module) : '');\n\t};\n})(mui);\n\n/**\n * mui gestures\n * @param {type} $\n * @param {type} window\n * @returns {undefined}\n */\n(function($, window) {\n\t$.gestures = {\n\t\tsession: {}\n\t};\n\t/**\n\t * Gesture preventDefault\n\t * @param {type} e\n\t * @returns {undefined}\n\t */\n\t$.preventDefault = function(e) {\n\t\te.preventDefault();\n\t};\n\t/**\n\t * Gesture stopPropagation\n\t * @param {type} e\n\t * @returns {undefined}\n\t */\n\t$.stopPropagation = function(e) {\n\t\te.stopPropagation();\n\t};\n\n\t/**\n\t * register gesture\n\t * @param {type} gesture\n\t * @returns {$.gestures}\n\t */\n\t$.addGesture = function(gesture) {\n\t\treturn $.addAction('gestures', gesture);\n\n\t};\n\n\tvar round = Math.round;\n\tvar abs = Math.abs;\n\tvar sqrt = Math.sqrt;\n\tvar atan = Math.atan;\n\tvar atan2 = Math.atan2;\n\t/**\n\t * distance\n\t * @param {type} p1\n\t * @param {type} p2\n\t * @returns {Number}\n\t */\n\tvar getDistance = function(p1, p2, props) {\n\t\tif(!props) {\n\t\t\tprops = ['x', 'y'];\n\t\t}\n\t\tvar x = p2[props[0]] - p1[props[0]];\n\t\tvar y = p2[props[1]] - p1[props[1]];\n\t\treturn sqrt((x * x) + (y * y));\n\t};\n\t/**\n\t * scale\n\t * @param {Object} starts\n\t * @param {Object} moves\n\t */\n\tvar getScale = function(starts, moves) {\n\t\tif(starts.length >= 2 && moves.length >= 2) {\n\t\t\tvar props = ['pageX', 'pageY'];\n\t\t\treturn getDistance(moves[1], moves[0], props) / getDistance(starts[1], starts[0], props);\n\t\t}\n\t\treturn 1;\n\t};\n\t/**\n\t * angle\n\t * @param {type} p1\n\t * @param {type} p2\n\t * @returns {Number}\n\t */\n\tvar getAngle = function(p1, p2, props) {\n\t\tif(!props) {\n\t\t\tprops = ['x', 'y'];\n\t\t}\n\t\tvar x = p2[props[0]] - p1[props[0]];\n\t\tvar y = p2[props[1]] - p1[props[1]];\n\t\treturn atan2(y, x) * 180 / Math.PI;\n\t};\n\t/**\n\t * direction\n\t * @param {Object} x\n\t * @param {Object} y\n\t */\n\tvar getDirection = function(x, y) {\n\t\tif(x === y) {\n\t\t\treturn '';\n\t\t}\n\t\tif(abs(x) >= abs(y)) {\n\t\t\treturn x > 0 ? 'left' : 'right';\n\t\t}\n\t\treturn y > 0 ? 'up' : 'down';\n\t};\n\t/**\n\t * rotation\n\t * @param {Object} start\n\t * @param {Object} end\n\t */\n\tvar getRotation = function(start, end) {\n\t\tvar props = ['pageX', 'pageY'];\n\t\treturn getAngle(end[1], end[0], props) - getAngle(start[1], start[0], props);\n\t};\n\t/**\n\t * px per ms\n\t * @param {Object} deltaTime\n\t * @param {Object} x\n\t * @param {Object} y\n\t */\n\tvar getVelocity = function(deltaTime, x, y) {\n\t\treturn {\n\t\t\tx: x / deltaTime || 0,\n\t\t\ty: y / deltaTime || 0\n\t\t};\n\t};\n\t/**\n\t * detect gestures\n\t * @param {type} event\n\t * @param {type} touch\n\t * @returns {undefined}\n\t */\n\tvar detect = function(event, touch) {\n\t\tif($.gestures.stoped) {\n\t\t\treturn;\n\t\t}\n\t\t$.doAction('gestures', function(index, gesture) {\n\t\t\tif(!$.gestures.stoped) {\n\t\t\t\tif($.options.gestureConfig[gesture.name] !== false) {\n\t\t\t\t\tgesture.handle(event, touch);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t/**\n\t * 暂时无用\n\t * @param {Object} node\n\t * @param {Object} parent\n\t */\n\tvar hasParent = function(node, parent) {\n\t\twhile(node) {\n\t\t\tif(node == parent) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tnode = node.parentNode;\n\t\t}\n\t\treturn false;\n\t};\n\n\tvar uniqueArray = function(src, key, sort) {\n\t\tvar results = [];\n\t\tvar values = [];\n\t\tvar i = 0;\n\n\t\twhile(i < src.length) {\n\t\t\tvar val = key ? src[i][key] : src[i];\n\t\t\tif(values.indexOf(val) < 0) {\n\t\t\t\tresults.push(src[i]);\n\t\t\t}\n\t\t\tvalues[i] = val;\n\t\t\ti++;\n\t\t}\n\n\t\tif(sort) {\n\t\t\tif(!key) {\n\t\t\t\tresults = results.sort();\n\t\t\t} else {\n\t\t\t\tresults = results.sort(function sortUniqueArray(a, b) {\n\t\t\t\t\treturn a[key] > b[key];\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t};\n\tvar getMultiCenter = function(touches) {\n\t\tvar touchesLength = touches.length;\n\t\tif(touchesLength === 1) {\n\t\t\treturn {\n\t\t\t\tx: round(touches[0].pageX),\n\t\t\t\ty: round(touches[0].pageY)\n\t\t\t};\n\t\t}\n\n\t\tvar x = 0;\n\t\tvar y = 0;\n\t\tvar i = 0;\n\t\twhile(i < touchesLength) {\n\t\t\tx += touches[i].pageX;\n\t\t\ty += touches[i].pageY;\n\t\t\ti++;\n\t\t}\n\n\t\treturn {\n\t\t\tx: round(x / touchesLength),\n\t\t\ty: round(y / touchesLength)\n\t\t};\n\t};\n\tvar multiTouch = function() {\n\t\treturn $.options.gestureConfig.pinch;\n\t};\n\tvar copySimpleTouchData = function(touch) {\n\t\tvar touches = [];\n\t\tvar i = 0;\n\t\twhile(i < touch.touches.length) {\n\t\t\ttouches[i] = {\n\t\t\t\tpageX: round(touch.touches[i].pageX),\n\t\t\t\tpageY: round(touch.touches[i].pageY)\n\t\t\t};\n\t\t\ti++;\n\t\t}\n\t\treturn {\n\t\t\ttimestamp: $.now(),\n\t\t\tgesture: touch.gesture,\n\t\t\ttouches: touches,\n\t\t\tcenter: getMultiCenter(touch.touches),\n\t\t\tdeltaX: touch.deltaX,\n\t\t\tdeltaY: touch.deltaY\n\t\t};\n\t};\n\n\tvar calDelta = function(touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar center = touch.center;\n\t\tvar offset = session.offsetDelta || {};\n\t\tvar prevDelta = session.prevDelta || {};\n\t\tvar prevTouch = session.prevTouch || {};\n\n\t\tif(touch.gesture.type === $.EVENT_START || touch.gesture.type === $.EVENT_END) {\n\t\t\tprevDelta = session.prevDelta = {\n\t\t\t\tx: prevTouch.deltaX || 0,\n\t\t\t\ty: prevTouch.deltaY || 0\n\t\t\t};\n\n\t\t\toffset = session.offsetDelta = {\n\t\t\t\tx: center.x,\n\t\t\t\ty: center.y\n\t\t\t};\n\t\t}\n\t\ttouch.deltaX = prevDelta.x + (center.x - offset.x);\n\t\ttouch.deltaY = prevDelta.y + (center.y - offset.y);\n\t};\n\tvar calTouchData = function(touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar touches = touch.touches;\n\t\tvar touchesLength = touches.length;\n\n\t\tif(!session.firstTouch) {\n\t\t\tsession.firstTouch = copySimpleTouchData(touch);\n\t\t}\n\n\t\tif(multiTouch() && touchesLength > 1 && !session.firstMultiTouch) {\n\t\t\tsession.firstMultiTouch = copySimpleTouchData(touch);\n\t\t} else if(touchesLength === 1) {\n\t\t\tsession.firstMultiTouch = false;\n\t\t}\n\n\t\tvar firstTouch = session.firstTouch;\n\t\tvar firstMultiTouch = session.firstMultiTouch;\n\t\tvar offsetCenter = firstMultiTouch ? firstMultiTouch.center : firstTouch.center;\n\n\t\tvar center = touch.center = getMultiCenter(touches);\n\t\ttouch.timestamp = $.now();\n\t\ttouch.deltaTime = touch.timestamp - firstTouch.timestamp;\n\n\t\ttouch.angle = getAngle(offsetCenter, center);\n\t\ttouch.distance = getDistance(offsetCenter, center);\n\n\t\tcalDelta(touch);\n\n\t\ttouch.offsetDirection = getDirection(touch.deltaX, touch.deltaY);\n\n\t\ttouch.scale = firstMultiTouch ? getScale(firstMultiTouch.touches, touches) : 1;\n\t\ttouch.rotation = firstMultiTouch ? getRotation(firstMultiTouch.touches, touches) : 0;\n\n\t\tcalIntervalTouchData(touch);\n\n\t};\n\tvar CAL_INTERVAL = 25;\n\tvar calIntervalTouchData = function(touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar last = session.lastInterval || touch;\n\t\tvar deltaTime = touch.timestamp - last.timestamp;\n\t\tvar velocity;\n\t\tvar velocityX;\n\t\tvar velocityY;\n\t\tvar direction;\n\n\t\tif(touch.gesture.type != $.EVENT_CANCEL && (deltaTime > CAL_INTERVAL || last.velocity === undefined)) {\n\t\t\tvar deltaX = last.deltaX - touch.deltaX;\n\t\t\tvar deltaY = last.deltaY - touch.deltaY;\n\n\t\t\tvar v = getVelocity(deltaTime, deltaX, deltaY);\n\t\t\tvelocityX = v.x;\n\t\t\tvelocityY = v.y;\n\t\t\tvelocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n\t\t\tdirection = getDirection(deltaX, deltaY) || last.direction;\n\n\t\t\tsession.lastInterval = touch;\n\t\t} else {\n\t\t\tvelocity = last.velocity;\n\t\t\tvelocityX = last.velocityX;\n\t\t\tvelocityY = last.velocityY;\n\t\t\tdirection = last.direction;\n\t\t}\n\n\t\ttouch.velocity = velocity;\n\t\ttouch.velocityX = velocityX;\n\t\ttouch.velocityY = velocityY;\n\t\ttouch.direction = direction;\n\t};\n\tvar targetIds = {};\n\tvar convertTouches = function(touches) {\n\t\tfor(var i = 0; i < touches.length; i++) {\n\t\t\t!touches['identifier'] && (touches['identifier'] = 0);\n\t\t}\n\t\treturn touches;\n\t};\n\tvar getTouches = function(event, touch) {\n\t\tvar allTouches = convertTouches($.slice.call(event.touches || [event]));\n\n\t\tvar type = event.type;\n\n\t\tvar targetTouches = [];\n\t\tvar changedTargetTouches = [];\n\n\t\t//当touchstart或touchmove且touches长度为1，直接获得all和changed\n\t\tif((type === $.EVENT_START || type === $.EVENT_MOVE) && allTouches.length === 1) {\n\t\t\ttargetIds[allTouches[0].identifier] = true;\n\t\t\ttargetTouches = allTouches;\n\t\t\tchangedTargetTouches = allTouches;\n\t\t\ttouch.target = event.target;\n\t\t} else {\n\t\t\tvar i = 0;\n\t\t\tvar targetTouches = [];\n\t\t\tvar changedTargetTouches = [];\n\t\t\tvar changedTouches = convertTouches($.slice.call(event.changedTouches || [event]));\n\n\t\t\ttouch.target = event.target;\n\t\t\tvar sessionTarget = $.gestures.session.target || event.target;\n\t\t\ttargetTouches = allTouches.filter(function(touch) {\n\t\t\t\treturn hasParent(touch.target, sessionTarget);\n\t\t\t});\n\n\t\t\tif(type === $.EVENT_START) {\n\t\t\t\ti = 0;\n\t\t\t\twhile(i < targetTouches.length) {\n\t\t\t\t\ttargetIds[targetTouches[i].identifier] = true;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti = 0;\n\t\t\twhile(i < changedTouches.length) {\n\t\t\t\tif(targetIds[changedTouches[i].identifier]) {\n\t\t\t\t\tchangedTargetTouches.push(changedTouches[i]);\n\t\t\t\t}\n\t\t\t\tif(type === $.EVENT_END || type === $.EVENT_CANCEL) {\n\t\t\t\t\tdelete targetIds[changedTouches[i].identifier];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\tif(!changedTargetTouches.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\ttargetTouches = uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true);\n\t\tvar touchesLength = targetTouches.length;\n\t\tvar changedTouchesLength = changedTargetTouches.length;\n\t\tif(type === $.EVENT_START && touchesLength - changedTouchesLength === 0) { //first\n\t\t\ttouch.isFirst = true;\n\t\t\t$.gestures.touch = $.gestures.session = {\n\t\t\t\ttarget: event.target\n\t\t\t};\n\t\t}\n\t\ttouch.isFinal = ((type === $.EVENT_END || type === $.EVENT_CANCEL) && (touchesLength - changedTouchesLength === 0));\n\n\t\ttouch.touches = targetTouches;\n\t\ttouch.changedTouches = changedTargetTouches;\n\t\treturn true;\n\n\t};\n\tvar handleTouchEvent = function(event) {\n\t\tvar touch = {\n\t\t\tgesture: event\n\t\t};\n\t\tvar touches = getTouches(event, touch);\n\t\tif(!touches) {\n\t\t\treturn;\n\t\t}\n\t\tcalTouchData(touch);\n\t\tdetect(event, touch);\n\t\t$.gestures.session.prevTouch = touch;\n\t\tif(event.type === $.EVENT_END && !$.isTouchable) {\n\t\t\t$.gestures.touch = $.gestures.session = {};\n\t\t}\n\t};\n\tvar supportsPassive = (function checkPassiveListener() {\n\t\tvar supportsPassive = false;\n\t\ttry {\n\t\t\tvar opts = Object.defineProperty({}, 'passive', {\n\t\t\t\tget: function get() {\n\t\t\t\t\tsupportsPassive = true;\n\t\t\t\t},\n\t\t\t});\n\t\t\twindow.addEventListener('testPassiveListener', null, opts);\n\t\t} catch(e) {\n\t\t\t// No support\n\t\t}\n\t\treturn supportsPassive;\n\t}())\n\twindow.addEventListener($.EVENT_START, handleTouchEvent);\n\twindow.addEventListener($.EVENT_MOVE, handleTouchEvent, supportsPassive ? {\n\t\tpassive: false,\n\t\tcapture: false\n\t} : false);\n\twindow.addEventListener($.EVENT_END, handleTouchEvent);\n\twindow.addEventListener($.EVENT_CANCEL, handleTouchEvent);\n\t//fixed hashchange(android)\n\twindow.addEventListener($.EVENT_CLICK, function(e) {\n\t\t//TODO 应该判断当前target是不是在targets.popover内部，而不是非要相等\n\t\tif(($.os.android || $.os.ios) && (($.targets.popover && e.target === $.targets.popover) || ($.targets.tab) || $.targets.offcanvas || $.targets.modal)) {\n\t\t\te.preventDefault();\n\t\t}\n\t}, true);\n\n\t//增加原生滚动识别\n\t$.isScrolling = false;\n\tvar scrollingTimeout = null;\n\twindow.addEventListener('scroll', function() {\n\t\t$.isScrolling = true;\n\t\tscrollingTimeout && clearTimeout(scrollingTimeout);\n\t\tscrollingTimeout = setTimeout(function() {\n\t\t\t$.isScrolling = false;\n\t\t}, 250);\n\t});\n})(mui, window);\n/**\n * mui gesture flick[left|right|up|down]\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar flickStartTime = 0;\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar options = this.options;\n\t\tvar now = $.now();\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_MOVE:\n\t\t\t\tif (now - flickStartTime > 300) {\n\t\t\t\t\tflickStartTime = now;\n\t\t\t\t\tsession.flickStart = touch.center;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\ttouch.flick = false;\n\t\t\t\tif (session.flickStart && options.flickMaxTime > (now - flickStartTime) && touch.distance > options.flickMinDistince) {\n\t\t\t\t\ttouch.flick = true;\n\t\t\t\t\ttouch.flickTime = now - flickStartTime;\n\t\t\t\t\ttouch.flickDistanceX = touch.center.x - session.flickStart.x;\n\t\t\t\t\ttouch.flickDistanceY = touch.center.y - session.flickStart.y;\n\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t\t$.trigger(session.target, name + touch.direction, touch);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t};\n\t/**\n\t * mui gesture flick\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 5,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tflickMaxTime: 200,\n\t\t\tflickMinDistince: 10\n\t\t}\n\t});\n})(mui, 'flick');\n/**\n * mui gesture swipe[left|right|up|down]\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tif (event.type === $.EVENT_END || event.type === $.EVENT_CANCEL) {\n\t\t\tvar options = this.options;\n\t\t\ttouch.swipe = false;\n\t\t\t//TODO 后续根据velocity计算\n\t\t\tif (touch.direction && options.swipeMaxTime > touch.deltaTime && touch.distance > options.swipeMinDistince) {\n\t\t\t\ttouch.swipe = true;\n\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t$.trigger(session.target, name + touch.direction, touch);\n\t\t\t}\n\t\t}\n\t};\n\t/**\n\t * mui gesture swipe\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 10,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tswipeMaxTime: 300,\n\t\t\tswipeMinDistince: 18\n\t\t}\n\t});\n})(mui, 'swipe');\n/**\n * mui gesture drag[start|left|right|up|down|end]\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_START:\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_MOVE:\n\t\t\t\tif (!touch.direction || !session.target) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//修正direction,可在session期间自行锁定拖拽方向，方便开发scroll类不同方向拖拽插件嵌套\n\t\t\t\tif (session.lockDirection && session.startDirection) {\n\t\t\t\t\tif (session.startDirection && session.startDirection !== touch.direction) {\n\t\t\t\t\t\tif (session.startDirection === 'up' || session.startDirection === 'down') {\n\t\t\t\t\t\t\ttouch.direction = touch.deltaY < 0 ? 'up' : 'down';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttouch.direction = touch.deltaX < 0 ? 'left' : 'right';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!session.drag) {\n\t\t\t\t\tsession.drag = true;\n\t\t\t\t\t$.trigger(session.target, name + 'start', touch);\n\t\t\t\t}\n\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t$.trigger(session.target, name + touch.direction, touch);\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tif (session.drag && touch.isFinal) {\n\t\t\t\t\t$.trigger(session.target, name + 'end', touch);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t/**\n\t * mui gesture drag\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 20,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tfingers: 1\n\t\t}\n\t});\n})(mui, 'drag');\n/**\n * mui gesture tap and doubleTap\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar lastTarget;\n\tvar lastTapTime;\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar options = this.options;\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_END:\n\t\t\t\tif (!touch.isFinal) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar target = session.target;\n\t\t\t\tif (!target || (target.disabled || (target.classList && target.classList.contains('mui-disabled')))) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (touch.distance < options.tapMaxDistance && touch.deltaTime < options.tapMaxTime) {\n\t\t\t\t\tif ($.options.gestureConfig.doubletap && lastTarget && (lastTarget === target)) { //same target\n\t\t\t\t\t\tif (lastTapTime && (touch.timestamp - lastTapTime) < options.tapMaxInterval) {\n\t\t\t\t\t\t\t$.trigger(target, 'doubletap', touch);\n\t\t\t\t\t\t\tlastTapTime = $.now();\n\t\t\t\t\t\t\tlastTarget = target;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$.trigger(target, name, touch);\n\t\t\t\t\tlastTapTime = $.now();\n\t\t\t\t\tlastTarget = target;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t/**\n\t * mui gesture tap\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 30,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tfingers: 1,\n\t\t\ttapMaxInterval: 300,\n\t\t\ttapMaxDistance: 5,\n\t\t\ttapMaxTime: 250\n\t\t}\n\t});\n})(mui, 'tap');\n/**\n * mui gesture longtap\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar timer;\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar options = this.options;\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_START:\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = setTimeout(function() {\n\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t}, options.holdTimeout);\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_MOVE:\n\t\t\t\tif (touch.distance > options.holdThreshold) {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tclearTimeout(timer);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t/**\n\t * mui gesture longtap\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 10,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tfingers: 1,\n\t\t\tholdTimeout: 500,\n\t\t\tholdThreshold: 2\n\t\t}\n\t});\n})(mui, 'longtap');\n/**\n * mui gesture hold\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar timer;\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar options = this.options;\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_START:\n\t\t\t\tif ($.options.gestureConfig.hold) {\n\t\t\t\t\ttimer && clearTimeout(timer);\n\t\t\t\t\ttimer = setTimeout(function() {\n\t\t\t\t\t\ttouch.hold = true;\n\t\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t\t}, options.holdTimeout);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_MOVE:\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tif (timer) {\n\t\t\t\t\tclearTimeout(timer) && (timer = null);\n\t\t\t\t\t$.trigger(session.target, 'release', touch);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t/**\n\t * mui gesture hold\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 10,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tfingers: 1,\n\t\t\tholdTimeout: 0\n\t\t}\n\t});\n})(mui, 'hold');\n/**\n * mui gesture pinch\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar handle = function(event, touch) {\n\t\tvar options = this.options;\n\t\tvar session = $.gestures.session;\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_START:\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_MOVE:\n\t\t\t\tif ($.options.gestureConfig.pinch) {\n\t\t\t\t\tif (touch.touches.length < 2) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (!session.pinch) { //start\n\t\t\t\t\t\tsession.pinch = true;\n\t\t\t\t\t\t$.trigger(session.target, name + 'start', touch);\n\t\t\t\t\t}\n\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t\tvar scale = touch.scale;\n\t\t\t\t\tvar rotation = touch.rotation;\n\t\t\t\t\tvar lastScale = typeof touch.lastScale === 'undefined' ? 1 : touch.lastScale;\n\t\t\t\t\tvar scaleDiff = 0.000000000001; //防止scale与lastScale相等，不触发事件的情况。\n\t\t\t\t\tif (scale > lastScale) { //out\n\t\t\t\t\t\tlastScale = scale - scaleDiff;\n\t\t\t\t\t\t$.trigger(session.target, name + 'out', touch);\n\t\t\t\t\t} //in\n\t\t\t\t\telse if (scale < lastScale) {\n\t\t\t\t\t\tlastScale = scale + scaleDiff;\n\t\t\t\t\t\t$.trigger(session.target, name + 'in', touch);\n\t\t\t\t\t}\n\t\t\t\t\tif (Math.abs(rotation) > options.minRotationAngle) {\n\t\t\t\t\t\t$.trigger(session.target, 'rotate', touch);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tif ($.options.gestureConfig.pinch && session.pinch && touch.touches.length === 2) {\n\t\t\t\t\tsession.pinch = false;\n\t\t\t\t\t$.trigger(session.target, name + 'end', touch);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t/**\n\t * mui gesture pinch\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 10,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tminRotationAngle: 0\n\t\t}\n\t});\n})(mui, 'pinch');\n/**\n * mui.init\n * @param {type} $\n * @returns {undefined}\n */\n(function($) {\n\t$.global = $.options = {\n\t\tgestureConfig: {\n\t\t\ttap: true,\n\t\t\tdoubletap: false,\n\t\t\tlongtap: false,\n\t\t\thold: false,\n\t\t\tflick: true,\n\t\t\tswipe: true,\n\t\t\tdrag: true,\n\t\t\tpinch: false\n\t\t}\n\t};\n\t/**\n\t *\n\t * @param {type} options\n\t * @returns {undefined}\n\t */\n\t$.initGlobal = function(options) {\n\t\t$.options = $.extend(true, $.global, options);\n\t\treturn this;\n\t};\n\tvar inits = {};\n\n\t/**\n\t * 单页配置 初始化\n\t * @param {object} options\n\t */\n\t$.init = function(options) {\n\t\t$.options = $.extend(true, $.global, options || {});\n\t\t$.ready(function() {\n\t\t\t$.doAction('inits', function(index, init) {\n\t\t\t\tvar isInit = !!(!inits[init.name] || init.repeat);\n\t\t\t\tif (isInit) {\n\t\t\t\t\tinit.handle.call($);\n\t\t\t\t\tinits[init.name] = true;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn this;\n\t};\n\n\t/**\n\t * 增加初始化执行流程\n\t * @param {function} init\n\t */\n\t$.addInit = function(init) {\n\t\treturn $.addAction('inits', init);\n\t};\n\t/**\n\t * 处理html5版本subpages \n\t */\n\t$.addInit({\n\t\tname: 'iframe',\n\t\tindex: 100,\n\t\thandle: function() {\n\t\t\tvar options = $.options;\n\t\t\tvar subpages = options.subpages || [];\n\t\t\tif (!$.os.plus && subpages.length) {\n\t\t\t\t//暂时只处理单个subpage。后续可以考虑支持多个subpage\n\t\t\t\tcreateIframe(subpages[0]);\n\t\t\t}\n\t\t}\n\t});\n\tvar createIframe = function(options) {\n\t\tvar wrapper = document.createElement('div');\n\t\twrapper.className = 'mui-iframe-wrapper';\n\t\tvar styles = options.styles || {};\n\t\tif (typeof styles.top !== 'string') {\n\t\t\tstyles.top = '0px';\n\t\t}\n\t\tif (typeof styles.bottom !== 'string') {\n\t\t\tstyles.bottom = '0px';\n\t\t}\n\t\twrapper.style.top = styles.top;\n\t\twrapper.style.bottom = styles.bottom;\n\t\tvar iframe = document.createElement('iframe');\n\t\tiframe.src = options.url;\n\t\tiframe.id = options.id || options.url;\n\t\tiframe.name = iframe.id;\n\t\twrapper.appendChild(iframe);\n\t\tdocument.body.appendChild(wrapper);\n\t\t//目前仅处理微信\n\t\t$.os.wechat && handleScroll(wrapper, iframe);\n\t};\n\n\tfunction handleScroll(wrapper, iframe) {\n\t\tvar key = 'MUI_SCROLL_POSITION_' + document.location.href + '_' + iframe.src;\n\t\tvar scrollTop = (parseFloat(localStorage.getItem(key)) || 0);\n\t\tif (scrollTop) {\n\t\t\t(function(y) {\n\t\t\t\tiframe.onload = function() {\n\t\t\t\t\twindow.scrollTo(0, y);\n\t\t\t\t};\n\t\t\t})(scrollTop);\n\t\t}\n\t\tsetInterval(function() {\n\t\t\tvar _scrollTop = window.scrollY;\n\t\t\tif (scrollTop !== _scrollTop) {\n\t\t\t\tlocalStorage.setItem(key, _scrollTop + '');\n\t\t\t\tscrollTop = _scrollTop;\n\t\t\t}\n\t\t}, 100);\n\t};\n\t$(function() {\n\t\tvar classList = document.body.classList;\n\t\tvar os = [];\n\t\tif ($.os.ios) {\n\t\t\tos.push({\n\t\t\t\tos: 'ios',\n\t\t\t\tversion: $.os.version\n\t\t\t});\n\t\t\tclassList.add('mui-ios');\n\t\t} else if ($.os.android) {\n\t\t\tos.push({\n\t\t\t\tos: 'android',\n\t\t\t\tversion: $.os.version\n\t\t\t});\n\t\t\tclassList.add('mui-android');\n\t\t}\n\t\tif ($.os.wechat) {\n\t\t\tos.push({\n\t\t\t\tos: 'wechat',\n\t\t\t\tversion: $.os.wechat.version\n\t\t\t});\n\t\t\tclassList.add('mui-wechat');\n\t\t}\n\t\tif (os.length) {\n\t\t\t$.each(os, function(index, osObj) {\n\t\t\t\tvar version = '';\n\t\t\t\tvar classArray = [];\n\t\t\t\tif (osObj.version) {\n\t\t\t\t\t$.each(osObj.version.split('.'), function(i, v) {\n\t\t\t\t\t\tversion = version + (version ? '-' : '') + v;\n\t\t\t\t\t\tclassList.add($.className(osObj.os + '-' + version));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n})(mui);\n/**\n * mui.init 5+\n * @param {type} $\n * @returns {undefined}\n */\n(function($) {\n\tvar defaultOptions = {\n\t\tswipeBack: false,\n\t\tpreloadPages: [], //5+ lazyLoad webview\n\t\tpreloadLimit: 10, //预加载窗口的数量限制(一旦超出，先进先出)\n\t\tkeyEventBind: {\n\t\t\tbackbutton: true,\n\t\t\tmenubutton: true\n\t\t},\n\t\ttitleConfig: {\n\t\t\theight: \"44px\",\n\t\t\tbackgroundColor: \"#f7f7f7\", //导航栏背景色\n\t\t\tbottomBorderColor: \"#cccccc\", //底部边线颜色\n\t\t\ttitle: { //标题配置\n\t\t\t\ttext: \"\", //标题文字\n\t\t\t\tposition: {\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\theight: \"100%\"\n\t\t\t\t},\n\t\t\t\tstyles: {\n\t\t\t\t\tcolor: \"#000000\",\n\t\t\t\t\talign: \"center\",\n\t\t\t\t\tfamily: \"'Helvetica Neue',Helvetica,sans-serif\",\n\t\t\t\t\tsize: \"17px\",\n\t\t\t\t\tstyle: \"normal\",\n\t\t\t\t\tweight: \"normal\",\n\t\t\t\t\tfontSrc: \"\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tback: {\n\t\t\t\timage: {\n\t\t\t\t\tbase64Data: '',\n\t\t\t\t\timgSrc: '',\n\t\t\t\t\tsprite: {\n\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '100%'\n\t\t\t\t\t},\n\t\t\t\t\tposition: {\n\t\t\t\t\t\ttop: \"10px\",\n\t\t\t\t\t\tleft: \"10px\",\n\t\t\t\t\t\twidth: \"24px\",\n\t\t\t\t\t\theight: \"24px\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t//默认页面动画\n\tvar defaultShow = {\n\t\tevent:\"titleUpdate\",\n\t\tautoShow: true,\n\t\tduration: 300,\n\t\taniShow: 'slide-in-right',\n\t\textras:{}\n\t};\n\t//若执行了显示动画初始化操作，则要覆盖默认配置\n\tif($.options.show) {\n\t\tdefaultShow = $.extend(true, defaultShow, $.options.show);\n\t}\n\n\t$.currentWebview = null;\n\n\t$.extend(true, $.global, defaultOptions);\n\t$.extend(true, $.options, defaultOptions);\n\t/**\n\t * 等待动画配置\n\t * @param {type} options\n\t * @returns {Object}\n\t */\n\t$.waitingOptions = function(options) {\n\t\treturn $.extend(true, {}, {\n\t\t\tautoShow: true,\n\t\t\ttitle: '',\n\t\t\tmodal: false\n\t\t}, options);\n\t};\n\t/**\n\t * 窗口显示配置\n\t * @param {type} options\n\t * @returns {Object}\n\t */\n\t$.showOptions = function(options) {\n\t\treturn $.extend(true, {}, defaultShow, options);\n\t};\n\t/**\n\t * 窗口默认配置\n\t * @param {type} options\n\t * @returns {Object}\n\t */\n\t$.windowOptions = function(options) {\n\t\treturn $.extend({\n\t\t\tscalable: false,\n\t\t\tbounce: \"\" //vertical\n\t\t}, options);\n\t};\n\t/**\n\t * plusReady\n\t * @param {type} callback\n\t * @returns {_L6.$}\n\t */\n\t$.plusReady = function(callback) {\n\t\tif(window.plus) {\n\t\t\tsetTimeout(function() { //解决callback与plusready事件的执行时机问题(典型案例:showWaiting,closeWaiting)\n\t\t\t\tcallback();\n\t\t\t}, 0);\n\t\t} else {\n\t\t\tdocument.addEventListener(\"plusready\", function() {\n\t\t\t\tcallback();\n\t\t\t}, false);\n\t\t}\n\t\treturn this;\n\t};\n\t/**\n\t * 5+ event(5+没提供之前我自己实现)\n\t * @param {type} webview\n\t * @param {type} eventType\n\t * @param {type} data\n\t * @returns {undefined}\n\t */\n\t$.fire = function(webview, eventType, data) {\n\t\tif(webview) {\n\t\t\tif(typeof data === 'undefined') {\n\t\t\t\tdata = '';\n\t\t\t} else if(typeof data === 'boolean' || typeof data === 'number') {\n\t\t\t\twebview.evalJS(\"typeof mui!=='undefined'&&mui.receive('\" + eventType + \"',\" + data + \")\");\n\t\t\t\treturn;\n\t\t\t} else if($.isPlainObject(data) || $.isArray(data)) {\n\t\t\t\tdata = JSON.stringify(data || {}).replace(/\\'/g, \"\\\\u0027\").replace(/\\\\/g, \"\\\\u005c\");\n\t\t\t}\n\t\t\twebview.evalJS(\"typeof mui!=='undefined'&&mui.receive('\" + eventType + \"','\" + data + \"')\");\n\t\t}\n\t};\n\t/**\n\t * 5+ event(5+没提供之前我自己实现)\n\t * @param {type} eventType\n\t * @param {type} data\n\t * @returns {undefined}\n\t */\n\t$.receive = function(eventType, data) {\n\t\tif(eventType) {\n\t\t\ttry {\n\t\t\t\tif(data && typeof data === 'string') {\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\t$.trigger(document, eventType, data);\n\t\t}\n\t};\n\tvar triggerPreload = function(webview) {\n\t\tif(!webview.preloaded) { //保证仅触发一次\n\t\t\t$.fire(webview, 'preload');\n\t\t\tvar list = webview.children();\n\t\t\tfor(var i = 0; i < list.length; i++) {\n\t\t\t\t$.fire(list[i], 'preload');\n\t\t\t}\n\t\t\twebview.preloaded = true;\n\t\t}\n\t};\n\tvar trigger = function(webview, eventType, timeChecked) {\n\t\tif(timeChecked) {\n\t\t\tif(!webview[eventType + 'ed']) {\n\t\t\t\t$.fire(webview, eventType);\n\t\t\t\tvar list = webview.children();\n\t\t\t\tfor(var i = 0; i < list.length; i++) {\n\t\t\t\t\t$.fire(list[i], eventType);\n\t\t\t\t}\n\t\t\t\twebview[eventType + 'ed'] = true;\n\t\t\t}\n\t\t} else {\n\t\t\t$.fire(webview, eventType);\n\t\t\tvar list = webview.children();\n\t\t\tfor(var i = 0; i < list.length; i++) {\n\t\t\t\t$.fire(list[i], eventType);\n\t\t\t}\n\t\t}\n\n\t};\n\t/**\n\t * 打开新窗口\n\t * @param {string} url 要打开的页面地址\n\t * @param {string} id 指定页面ID\n\t * @param {object} options 可选:参数,等待,窗口,显示配置{params:{},waiting:{},styles:{},show:{}}\n\t */\n\t$.openWindow = function(url, id, options) {\n\t\tif(typeof url === 'object') {\n\t\t\toptions = url;\n\t\t\turl = options.url;\n\t\t\tid = options.id || url;\n\t\t} else {\n\t\t\tif(typeof id === 'object') {\n\t\t\t\toptions = id;\n\t\t\t\tid = options.id || url;\n\t\t\t} else {\n\t\t\t\tid = id || url;\n\t\t\t}\n\t\t}\n\t\tif(!$.os.plus) {\n\t\t\t//TODO 先临时这么处理：手机上顶层跳，PC上parent跳\n\t\t\tif($.os.ios || $.os.android) {\n\t\t\t\twindow.top.location.href = url;\n\t\t\t} else {\n\t\t\t\twindow.parent.location.href = url;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif(!window.plus) {\n\t\t\treturn;\n\t\t}\n\n\t\toptions = options || {};\n\t\tvar params = options.params || {};\n\t\tvar webview = null,\n\t\t\twebviewCache = null,\n\t\t\tnShow, nWaiting;\n\n\t\tif($.webviews[id]) {\n\t\t\twebviewCache = $.webviews[id];\n\t\t\t//webview真实存在，才能获取\n\t\t\tif(plus.webview.getWebviewById(id)) {\n\t\t\t\twebview = webviewCache.webview;\n\t\t\t}\n\t\t} else if(options.createNew !== true) {\n\t\t\twebview = plus.webview.getWebviewById(id);\n\t\t}\n\n\t\tif(webview) { //已缓存\n\t\t\t//每次show都需要传递动画参数；\n\t\t\t//预加载的动画参数优先级：openWindow配置>preloadPages配置>mui默认配置；\n\t\t\tnShow = webviewCache ? webviewCache.show : defaultShow;\n\t\t\tnShow = options.show ? $.extend(nShow, options.show) : nShow;\n\t\t\tnShow.autoShow && webview.show(nShow.aniShow, nShow.duration, function() {\n\t\t\t\ttriggerPreload(webview);\n\t\t\t\ttrigger(webview, 'pagebeforeshow', false);\n\t\t\t});\n\t\t\tif(webviewCache) {\n\t\t\t\twebviewCache.afterShowMethodName && webview.evalJS(webviewCache.afterShowMethodName + '(\\'' + JSON.stringify(params) + '\\')');\n\t\t\t}\n\t\t\treturn webview;\n\t\t} else { //新窗口\n\t\t\tif(!url) {\n\t\t\t\tthrow new Error('webview[' + id + '] does not exist');\n\t\t\t}\n\n\t\t\t//显示waiting\n\t\t\tvar waitingConfig = $.waitingOptions(options.waiting);\n\t\t\tif(waitingConfig.autoShow) {\n\t\t\t\tnWaiting = plus.nativeUI.showWaiting(waitingConfig.title, waitingConfig.options);\n\t\t\t}\n\n\t\t\t//创建页面\n\t\t\toptions = $.extend(options, {\n\t\t\t\tid: id,\n\t\t\t\turl: url\n\t\t\t});\n\n\t\t\twebview = $.createWindow(options);\n\n\t\t\t//显示\n\t\t\tnShow = $.showOptions(options.show);\n\t\t\tif(nShow.autoShow) {\n\t\t\t\tvar showWebview = function() {\n\t\t\t\t\t//关闭等待框\n\t\t\t\t\tif(nWaiting) {\n\t\t\t\t\t\tnWaiting.close();\n\t\t\t\t\t}\n\t\t\t\t\t//显示页面\n\t\t\t\t\twebview.show(nShow.aniShow, nShow.duration, function() {},nShow.extras);\n\t\t\t\t\toptions.afterShowMethodName && webview.evalJS(options.afterShowMethodName + '(\\'' + JSON.stringify(params) + '\\')');\n\t\t\t\t};\n\t\t\t\t//titleUpdate触发时机早于loaded，更换为titleUpdate后，可以更早的显示webview\n\t\t\t\twebview.addEventListener(nShow.event, showWebview, false);\n\t\t\t\t//loaded事件发生后，触发预加载和pagebeforeshow事件\n\t\t\t\twebview.addEventListener(\"loaded\", function() {\n\t\t\t\t\ttriggerPreload(webview);\n\t\t\t\t\ttrigger(webview, 'pagebeforeshow', false);\n\t\t\t\t}, false);\n\t\t\t}\n\t\t}\n\t\treturn webview;\n\t};\n\n\t$.openWindowWithTitle = function(options, titleConfig) {\n\t\toptions = options || {};\n\t\tvar url = options.url;\n\t\tvar id = options.id || url;\n\n\t\tif(!$.os.plus) {\n\t\t\t//TODO 先临时这么处理：手机上顶层跳，PC上parent跳\n\t\t\tif($.os.ios || $.os.android) {\n\t\t\t\twindow.top.location.href = url;\n\t\t\t} else {\n\t\t\t\twindow.parent.location.href = url;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif(!window.plus) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar params = options.params || {};\n\t\tvar webview = null,\n\t\t\twebviewCache = null,\n\t\t\tnShow, nWaiting;\n\n\t\tif($.webviews[id]) {\n\t\t\twebviewCache = $.webviews[id];\n\t\t\t//webview真实存在，才能获取\n\t\t\tif(plus.webview.getWebviewById(id)) {\n\t\t\t\twebview = webviewCache.webview;\n\t\t\t}\n\t\t} else if(options.createNew !== true) {\n\t\t\twebview = plus.webview.getWebviewById(id);\n\t\t}\n\n\t\tif(webview) { //已缓存\n\t\t\t//每次show都需要传递动画参数；\n\t\t\t//预加载的动画参数优先级：openWindow配置>preloadPages配置>mui默认配置；\n\t\t\tnShow = webviewCache ? webviewCache.show : defaultShow;\n\t\t\tnShow = options.show ? $.extend(nShow, options.show) : nShow;\n\t\t\tnShow.autoShow && webview.show(nShow.aniShow, nShow.duration, function() {\n\t\t\t\ttriggerPreload(webview);\n\t\t\t\ttrigger(webview, 'pagebeforeshow', false);\n\t\t\t});\n\t\t\tif(webviewCache) {\n\t\t\t\twebviewCache.afterShowMethodName && webview.evalJS(webviewCache.afterShowMethodName + '(\\'' + JSON.stringify(params) + '\\')');\n\t\t\t}\n\t\t\treturn webview;\n\t\t} else { //新窗口\n\t\t\tif(!url) {\n\t\t\t\tthrow new Error('webview[' + id + '] does not exist');\n\t\t\t}\n\n\t\t\t//显示waiting\n\t\t\tvar waitingConfig = $.waitingOptions(options.waiting);\n\t\t\tif(waitingConfig.autoShow) {\n\t\t\t\tnWaiting = plus.nativeUI.showWaiting(waitingConfig.title, waitingConfig.options);\n\t\t\t}\n\n\t\t\t//创建页面\n\t\t\toptions = $.extend(options, {\n\t\t\t\tid: id,\n\t\t\t\turl: url\n\t\t\t});\n\n\t\t\twebview = $.createWindow(options);\n\n\t\t\tif(titleConfig) { //处理原生头\n\t\t\t\t$.extend(true, $.options.titleConfig, titleConfig);\n\t\t\t\tvar tid = $.options.titleConfig.id ? $.options.titleConfig.id : id + \"_title\";\n\t\t\t\tvar view = new plus.nativeObj.View(tid, {\n\t\t\t\t\ttop: 0,\n\t\t\t\t\theight: $.options.titleConfig.height,\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\tdock: \"top\",\n\t\t\t\t\tposition: \"dock\"\n\t\t\t\t});\n\t\t\t\tview.drawRect($.options.titleConfig.backgroundColor); //绘制背景色\n\t\t\t\tvar _b = parseInt($.options.titleConfig.height) - 1;\n\t\t\t\tview.drawRect($.options.titleConfig.bottomBorderColor, {\n\t\t\t\t\ttop: _b + \"px\",\n\t\t\t\t\tleft: \"0px\"\n\t\t\t\t}); //绘制底部边线\n\n\t\t\t\t//绘制文字\n\t\t\t\tif($.options.titleConfig.title.text){\n\t\t\t\t\tvar _title = $.options.titleConfig.title;\n\t\t\t\t\tview.drawText(_title.text,_title.position , _title.styles);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//返回图标绘制\n\t\t\t\tvar _back = $.options.titleConfig.back;\n\t\t\t\tvar backClick = null;\n\t\t\t\t//优先字体\n\n\t\t\t\t//其次是图片\n\t\t\t\tvar _backImage = _back.image;\n\t\t\t\tif(_backImage.base64Data || _backImage.imgSrc) {\n\t\t\t\t\t//TODO 此处需要处理百分比的情况\n\t\t\t\t\tbackClick = {\n\t\t\t\t\t\tleft:parseInt(_backImage.position.left),\n\t\t\t\t\t\tright:parseInt(_backImage.position.left) + parseInt(_backImage.position.width)\n\t\t\t\t\t};\n\t\t\t\t\tvar bitmap = new plus.nativeObj.Bitmap(id + \"_back\");\n\t\t\t\t\tif(_backImage.base64Data) { //优先base64编码字符串\n\t\t\t\t\t\tbitmap.loadBase64Data(_backImage.base64Data);\n\t\t\t\t\t} else { //其次加载图片文件\n\t\t\t\t\t\tbitmap.load(_backImage.imgSrc);\n\t\t\t\t\t}\n\t\t\t\t\tview.drawBitmap(bitmap,_backImage.sprite , _backImage.position);\n\t\t\t\t}\n\n\t\t\t\t//处理点击事件\n\t\t\t\tview.setTouchEventRect({\n\t\t\t\t\ttop: \"0px\",\n\t\t\t\t\tleft: \"0px\",\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\theight: \"100%\"\n\t\t\t\t});\n\t\t\t\tview.interceptTouchEvent(true);\n\t\t\t\tview.addEventListener(\"click\", function(e) {\n\t\t\t\t\tvar x = e.clientX;\n\t\t\t\t\t\n\t\t\t\t\t//返回按钮点击\n\t\t\t\t\tif(backClick&& x > backClick.left && x < backClick.right){\n\t\t\t\t\t\tif( _back.click && $.isFunction(_back.click)){\n\t\t\t\t\t\t\t_back.click();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\twebview.evalJS(\"window.mui&&mui.back();\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, false);\n\t\t\t\twebview.append(view);\n\n\t\t\t}\n\n\t\t\t//显示\n\t\t\tnShow = $.showOptions(options.show);\n\t\t\tif(nShow.autoShow) {\n\t\t\t\t//titleUpdate触发时机早于loaded，更换为titleUpdate后，可以更早的显示webview\n\t\t\t\twebview.addEventListener(nShow.event, function () {\n\t\t\t\t\t//关闭等待框\n\t\t\t\t\tif(nWaiting) {\n\t\t\t\t\t\tnWaiting.close();\n\t\t\t\t\t}\n\t\t\t\t\t//显示页面\n\t\t\t\t\twebview.show(nShow.aniShow, nShow.duration, function() {},nShow.extras);\n\t\t\t\t}, false);\n\t\t\t}\n\t\t}\n\t\treturn webview;\n\t};\n\n\t/**\n\t * 根据配置信息创建一个webview\n\t * @param {type} options\n\t * @param {type} isCreate\n\t * @returns {webview}\n\t */\n\t$.createWindow = function(options, isCreate) {\n\t\tif(!window.plus) {\n\t\t\treturn;\n\t\t}\n\t\tvar id = options.id || options.url;\n\t\tvar webview;\n\t\tif(options.preload) {\n\t\t\tif($.webviews[id] && $.webviews[id].webview.getURL()) { //已经cache\n\t\t\t\twebview = $.webviews[id].webview;\n\t\t\t} else { //新增预加载窗口\n\t\t\t\t//判断是否携带createNew参数，默认为false\n\t\t\t\tif(options.createNew !== true) {\n\t\t\t\t\twebview = plus.webview.getWebviewById(id);\n\t\t\t\t}\n\n\t\t\t\t//之前没有，那就新创建\t\n\t\t\t\tif(!webview) {\n\t\t\t\t\twebview = plus.webview.create(options.url, id, $.windowOptions(options.styles), $.extend({\n\t\t\t\t\t\tpreload: true\n\t\t\t\t\t}, options.extras));\n\t\t\t\t\tif(options.subpages) {\n\t\t\t\t\t\t$.each(options.subpages, function(index, subpage) {\n\t\t\t\t\t\t\tvar subpageId = subpage.id || subpage.url;\n\t\t\t\t\t\t\tif(subpageId) { //过滤空对象\n\t\t\t\t\t\t\t\tvar subWebview = plus.webview.getWebviewById(subpageId);\n\t\t\t\t\t\t\t\tif(!subWebview) { //如果该webview不存在，则创建\n\t\t\t\t\t\t\t\t\tsubWebview = plus.webview.create(subpage.url, subpageId, $.windowOptions(subpage.styles), $.extend({\n\t\t\t\t\t\t\t\t\t\tpreload: true\n\t\t\t\t\t\t\t\t\t}, subpage.extras));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twebview.append(subWebview);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//TODO 理论上，子webview也应该计算到预加载队列中，但这样就麻烦了，要退必须退整体，否则可能出现问题；\n\t\t\t$.webviews[id] = {\n\t\t\t\twebview: webview, //目前仅preload的缓存webview\n\t\t\t\tpreload: true,\n\t\t\t\tshow: $.showOptions(options.show),\n\t\t\t\tafterShowMethodName: options.afterShowMethodName //就不应该用evalJS。应该是通过事件消息通讯\n\t\t\t};\n\t\t\t//索引该预加载窗口\n\t\t\tvar preloads = $.data.preloads;\n\t\t\tvar index = preloads.indexOf(id);\n\t\t\tif(~index) { //删除已存在的(变相调整插入位置)\n\t\t\t\tpreloads.splice(index, 1);\n\t\t\t}\n\t\t\tpreloads.push(id);\n\t\t\tif(preloads.length > $.options.preloadLimit) {\n\t\t\t\t//先进先出\n\t\t\t\tvar first = $.data.preloads.shift();\n\t\t\t\tvar webviewCache = $.webviews[first];\n\t\t\t\tif(webviewCache && webviewCache.webview) {\n\t\t\t\t\t//需要将自己打开的所有页面，全部close；\n\t\t\t\t\t//关闭该预加载webview\t\n\t\t\t\t\t$.closeAll(webviewCache.webview);\n\t\t\t\t}\n\t\t\t\t//删除缓存\n\t\t\t\tdelete $.webviews[first];\n\t\t\t}\n\t\t} else {\n\t\t\tif(isCreate !== false) { //直接创建非预加载窗口\n\t\t\t\twebview = plus.webview.create(options.url, id, $.windowOptions(options.styles), options.extras);\n\t\t\t\tif(options.subpages) {\n\t\t\t\t\t$.each(options.subpages, function(index, subpage) {\n\t\t\t\t\t\tvar subpageId = subpage.id || subpage.url;\n\t\t\t\t\t\tvar subWebview = plus.webview.getWebviewById(subpageId);\n\t\t\t\t\t\tif(!subWebview) {\n\t\t\t\t\t\t\tsubWebview = plus.webview.create(subpage.url, subpageId, $.windowOptions(subpage.styles), subpage.extras);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twebview.append(subWebview);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn webview;\n\t};\n\n\t/**\n\t * 预加载\n\t */\n\t$.preload = function(options) {\n\t\t//调用预加载函数，不管是否传递preload参数，强制变为true\n\t\tif(!options.preload) {\n\t\t\toptions.preload = true;\n\t\t}\n\t\treturn $.createWindow(options);\n\t};\n\n\t/**\n\t *关闭当前webview打开的所有webview；\n\t */\n\t$.closeOpened = function(webview) {\n\t\tvar opened = webview.opened();\n\t\tif(opened) {\n\t\t\tfor(var i = 0, len = opened.length; i < len; i++) {\n\t\t\t\tvar openedWebview = opened[i];\n\t\t\t\tvar open_open = openedWebview.opened();\n\t\t\t\tif(open_open && open_open.length > 0) {\n\t\t\t\t\t//关闭打开的webview\n\t\t\t\t\t$.closeOpened(openedWebview);\n\t\t\t\t\t//关闭自己\n\t\t\t\t\topenedWebview.close(\"none\");\n\t\t\t\t} else {\n\t\t\t\t\t//如果直接孩子节点，就不用关闭了，因为父关闭的时候，会自动关闭子；\n\t\t\t\t\tif(openedWebview.parent() !== webview) {\n\t\t\t\t\t\topenedWebview.close('none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t$.closeAll = function(webview, aniShow) {\n\t\t$.closeOpened(webview);\n\t\tif(aniShow) {\n\t\t\twebview.close(aniShow);\n\t\t} else {\n\t\t\twebview.close();\n\t\t}\n\t};\n\n\t/**\n\t * 批量创建webview\n\t * @param {type} options\n\t * @returns {undefined}\n\t */\n\t$.createWindows = function(options) {\n\t\t$.each(options, function(index, option) {\n\t\t\t//初始化预加载窗口(创建)和非预加载窗口(仅配置，不创建)\n\t\t\t$.createWindow(option, false);\n\t\t});\n\t};\n\t/**\n\t * 创建当前页面的子webview\n\t * @param {type} options\n\t * @returns {webview}\n\t */\n\t$.appendWebview = function(options) {\n\t\tif(!window.plus) {\n\t\t\treturn;\n\t\t}\n\t\tvar id = options.id || options.url;\n\t\tvar webview;\n\t\tif(!$.webviews[id]) { //保证执行一遍\n\t\t\t//TODO 这里也有隐患，比如某个webview不是作为subpage创建的，而是作为target webview的话；\n\t\t\tif(!plus.webview.getWebviewById(id)) {\n\t\t\t\twebview = plus.webview.create(options.url, id, options.styles, options.extras);\n\t\t\t}\n\t\t\t//之前的实现方案：子窗口loaded之后再append到父窗口中；\n\t\t\t//问题：部分子窗口loaded事件发生较晚，此时执行父窗口的children方法会返回空，导致父子通讯失败；\n\t\t\t//     比如父页面执行完preload事件后，需触发子页面的preload事件，此时未append的话，就无法触发；\n\t\t\t//修改方式：不再监控loaded事件，直接append\n\t\t\t//by chb@20150521\n\t\t\t// webview.addEventListener('loaded', function() {\n\t\t\tplus.webview.currentWebview().append(webview);\n\t\t\t// });\n\t\t\t$.webviews[id] = options;\n\n\t\t}\n\t\treturn webview;\n\t};\n\n\t//全局webviews\n\t$.webviews = {};\n\t//预加载窗口索引\n\t$.data.preloads = [];\n\t//$.currentWebview\n\t$.plusReady(function() {\n\t\t$.currentWebview = plus.webview.currentWebview();\n\t});\n\t$.addInit({\n\t\tname: '5+',\n\t\tindex: 100,\n\t\thandle: function() {\n\t\t\tvar options = $.options;\n\t\t\tvar subpages = options.subpages || [];\n\t\t\tif($.os.plus) {\n\t\t\t\t$.plusReady(function() {\n\t\t\t\t\t//TODO  这里需要判断一下，最好等子窗口加载完毕后，再调用主窗口的show方法；\n\t\t\t\t\t//或者：在openwindow方法中，监听实现；\n\t\t\t\t\t$.each(subpages, function(index, subpage) {\n\t\t\t\t\t\t$.appendWebview(subpage);\n\t\t\t\t\t});\n\t\t\t\t\t//判断是否首页\n\t\t\t\t\tif(plus.webview.currentWebview() === plus.webview.getWebviewById(plus.runtime.appid)) {\n\t\t\t\t\t\t//首页需要自己激活预加载；\n\t\t\t\t\t\t//timeout因为子页面loaded之后才append的，防止子页面尚未append、从而导致其preload未触发的问题；\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\ttriggerPreload(plus.webview.currentWebview());\n\t\t\t\t\t\t}, 300);\n\t\t\t\t\t}\n\t\t\t\t\t//设置ios顶部状态栏颜色；\n\t\t\t\t\tif($.os.ios && $.options.statusBarBackground) {\n\t\t\t\t\t\tplus.navigator.setStatusBarBackground($.options.statusBarBackground);\n\t\t\t\t\t}\n\t\t\t\t\tif($.os.android && parseFloat($.os.version) < 4.4) {\n\t\t\t\t\t\t//解决Android平台4.4版本以下，resume后，父窗体标题延迟渲染的问题；\n\t\t\t\t\t\tif(plus.webview.currentWebview().parent() == null) {\n\t\t\t\t\t\t\tdocument.addEventListener(\"resume\", function() {\n\t\t\t\t\t\t\t\tvar body = document.body;\n\t\t\t\t\t\t\t\tbody.style.display = 'none';\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\tbody.style.display = '';\n\t\t\t\t\t\t\t\t}, 10);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t//已支持iframe嵌入\n\t\t\t\t//\t\t\t\tif (subpages.length > 0) {\n\t\t\t\t//\t\t\t\t\tvar err = document.createElement('div');\n\t\t\t\t//\t\t\t\t\terr.className = 'mui-error';\n\t\t\t\t//\t\t\t\t\t//文字描述\n\t\t\t\t//\t\t\t\t\tvar span = document.createElement('span');\n\t\t\t\t//\t\t\t\t\tspan.innerHTML = '在该浏览器下，不支持创建子页面，具体参考';\n\t\t\t\t//\t\t\t\t\terr.appendChild(span);\n\t\t\t\t//\t\t\t\t\tvar a = document.createElement('a');\n\t\t\t\t//\t\t\t\t\ta.innerHTML = '\"mui框架适用场景\"';\n\t\t\t\t//\t\t\t\t\ta.href = 'http://ask.dcloud.net.cn/article/113';\n\t\t\t\t//\t\t\t\t\terr.appendChild(a);\n\t\t\t\t//\t\t\t\t\tdocument.body.appendChild(err);\n\t\t\t\t//\t\t\t\t\tconsole.log('在该浏览器下，不支持创建子页面');\n\t\t\t\t//\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\t});\n\twindow.addEventListener('preload', function() {\n\t\t//处理预加载部分\n\t\tvar webviews = $.options.preloadPages || [];\n\t\t$.plusReady(function() {\n\t\t\t$.each(webviews, function(index, webview) {\n\t\t\t\t$.createWindow($.extend(webview, {\n\t\t\t\t\tpreload: true\n\t\t\t\t}));\n\t\t\t});\n\n\t\t});\n\t});\n\t$.supportStatusbarOffset = function() {\n\t\treturn $.os.plus && $.os.ios && parseFloat($.os.version) >= 7;\n\t};\n\t$.ready(function() {\n\t\t//标识当前环境支持statusbar\n\t\tif($.supportStatusbarOffset()) {\n\t\t\tdocument.body.classList.add('mui-statusbar');\n\t\t}\n\t});\n})(mui);\n\n/**\n * mui back\n * @param {type} $\n * @param {type} window\n * @returns {undefined}\n */\n(function($, window) {\n\t/**\n\t * register back\n\t * @param {type} back\n\t * @returns {$.gestures}\n\t */\n\t$.addBack = function(back) {\n\t\treturn $.addAction('backs', back);\n\t};\n\t/**\n\t * default\n\t */\n\t$.addBack({\n\t\tname: 'browser',\n\t\tindex: 100,\n\t\thandle: function() {\n\t\t\tif (window.history.length > 1) {\n\t\t\t\twindow.history.back();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t});\n\t/**\n\t * 后退\n\t */\n\t$.back = function() {\n\t\tif (typeof $.options.beforeback === 'function') {\n\t\t\tif ($.options.beforeback() === false) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$.doAction('backs');\n\t};\n\twindow.addEventListener('tap', function(e) {\n\t\tvar action = $.targets.action;\n\t\tif (action && action.classList.contains('mui-action-back')) {\n\t\t\t$.back();\n\t\t\t$.targets.action = false;\n\t\t}\n\t});\n\twindow.addEventListener('swiperight', function(e) {\n\t\tvar detail = e.detail;\n\t\tif ($.options.swipeBack === true && Math.abs(detail.angle) < 3) {\n\t\t\t$.back();\n\t\t}\n\t});\n\n})(mui, window);\n/**\n * mui back 5+\n * @param {type} $\n * @param {type} window\n * @returns {undefined}\n */\n(function($, window) {\n\tif ($.os.plus && $.os.android) {\n\t\t$.addBack({\n\t\t\tname: 'mui',\n\t\t\tindex: 5,\n\t\t\thandle: function() {\n\t\t\t\t//后续重新设计此处，将back放到各个空间内部实现\n\t\t\t\t//popover\n\t\t\t\tif ($.targets._popover && $.targets._popover.classList.contains('mui-active')) {\n\t\t\t\t\t$($.targets._popover).popover('hide');\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t//offcanvas\n\t\t\t\tvar offCanvas = document.querySelector('.mui-off-canvas-wrap.mui-active');\n\t\t\t\tif (offCanvas) {\n\t\t\t\t\t$(offCanvas).offCanvas('close');\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar previewImage = $.isFunction($.getPreviewImage) && $.getPreviewImage();\n\t\t\t\tif (previewImage && previewImage.isShown()) {\n\t\t\t\t\tpreviewImage.close();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t//popup\n\t\t\t\treturn $.closePopup();\n\t\t\t}\n\t\t});\n\t}\n\t//首次按下back按键的时间\n\t$.__back__first = null;\n\t/**\n\t * 5+ back\n\t */\n\t$.addBack({\n\t\tname: '5+',\n\t\tindex: 10,\n\t\thandle: function() {\n\t\t\tif (!window.plus) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar wobj = plus.webview.currentWebview();\n\t\t\tvar parent = wobj.parent();\n\t\t\tif (parent) {\n\t\t\t\tparent.evalJS('mui&&mui.back();');\n\t\t\t} else {\n\t\t\t\twobj.canBack(function(e) {\n\t\t\t\t\t//by chb 暂时注释，在碰到类似popover之类的锚点的时候，需多次点击才能返回；\n\t\t\t\t\tif (e.canBack) { //webview history back\n\t\t\t\t\t\twindow.history.back();\n\t\t\t\t\t} else { //webview close or hide\n\t\t\t\t\t\t//fixed by fxy 此处不应该用opener判断，因为用户有可能自己close掉当前窗口的opener。这样的话。opener就为空了，导致不能执行close\n\t\t\t\t\t\tif (wobj.id === plus.runtime.appid) { //首页\n\t\t\t\t\t\t\t//首页不存在opener的情况下，后退实际上应该是退出应用；\n\t\t\t\t\t\t\t//首次按键，提示‘再按一次退出应用’\n\t\t\t\t\t\t\tif (!$.__back__first) {\n\t\t\t\t\t\t\t\t$.__back__first = new Date().getTime();\n\t\t\t\t\t\t\t\tmui.toast('再按一次退出应用');\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t$.__back__first = null;\n\t\t\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (new Date().getTime() - $.__back__first < 2000) {\n\t\t\t\t\t\t\t\t\tplus.runtime.quit();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else { //其他页面，\n\t\t\t\t\t\t\tif (wobj.preload) {\n\t\t\t\t\t\t\t\twobj.hide(\"auto\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t//关闭页面时，需要将其打开的所有子页面全部关闭；\n\t\t\t\t\t\t\t\t$.closeAll(wobj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t});\n\n\n\t$.menu = function() {\n\t\tvar menu = document.querySelector('.mui-action-menu');\n\t\tif (menu) {\n\t\t\t$.trigger(menu, $.EVENT_START); //临时处理menu无touchstart的话，找不到当前targets的问题\n\t\t\t$.trigger(menu, 'tap');\n\t\t} else { //执行父窗口的menu\n\t\t\tif (window.plus) {\n\t\t\t\tvar wobj = $.currentWebview;\n\t\t\t\tvar parent = wobj.parent();\n\t\t\t\tif (parent) { //又得evalJS\n\t\t\t\t\tparent.evalJS('mui&&mui.menu();');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tvar __back = function() {\n\t\t$.back();\n\t};\n\tvar __menu = function() {\n\t\t$.menu();\n\t};\n\t//默认监听\n\t$.plusReady(function() {\n\t\tif ($.options.keyEventBind.backbutton) {\n\t\t\tplus.key.addEventListener('backbutton', __back, false);\n\t\t}\n\t\tif ($.options.keyEventBind.menubutton) {\n\t\t\tplus.key.addEventListener('menubutton', __menu, false);\n\t\t}\n\t});\n\t//处理按键监听事件\n\t$.addInit({\n\t\tname: 'keyEventBind',\n\t\tindex: 1000,\n\t\thandle: function() {\n\t\t\t$.plusReady(function() {\n\t\t\t\t//如果不为true，则移除默认监听\n\t\t\t\tif (!$.options.keyEventBind.backbutton) {\n\t\t\t\t\tplus.key.removeEventListener('backbutton', __back);\n\t\t\t\t}\n\t\t\t\tif (!$.options.keyEventBind.menubutton) {\n\t\t\t\t\tplus.key.removeEventListener('menubutton', __menu);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n})(mui, window);\n/**\n * mui.init pulldownRefresh\n * @param {type} $\n * @returns {undefined}\n */\n(function($) {\n\t$.addInit({\n\t\tname: 'pullrefresh',\n\t\tindex: 1000,\n\t\thandle: function() {\n\t\t\tvar options = $.options;\n\t\t\tvar pullRefreshOptions = options.pullRefresh || {};\n\t\t\tvar hasPulldown = pullRefreshOptions.down && pullRefreshOptions.down.hasOwnProperty('callback');\n\t\t\tvar hasPullup = pullRefreshOptions.up && pullRefreshOptions.up.hasOwnProperty('callback');\n\t\t\tif(hasPulldown || hasPullup) {\n\t\t\t\tvar container = pullRefreshOptions.container;\n\t\t\t\tif(container) {\n\t\t\t\t\tvar $container = $(container);\n\t\t\t\t\tif($container.length === 1) {\n\t\t\t\t\t\tif($.os.plus) { //5+环境\n\t\t\t\t\t\t\tif(hasPulldown && pullRefreshOptions.down.style == \"circle\") { //原生转圈\n\t\t\t\t\t\t\t\t$.plusReady(function() {\n\t\t\t\t\t\t\t\t\t//这里改写$.fn.pullRefresh\n\t\t\t\t\t\t\t\t\t$.fn.pullRefresh = $.fn.pullRefresh_native;\n\t\t\t\t\t\t\t\t\t$container.pullRefresh(pullRefreshOptions);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t} else if($.os.android) { //非原生转圈，但是Android环境\n\t\t\t\t\t\t\t\t$.plusReady(function() {\n\t\t\t\t\t\t\t\t\t//这里改写$.fn.pullRefresh\n\t\t\t\t\t\t\t\t\t$.fn.pullRefresh = $.fn.pullRefresh_native\n\t\t\t\t\t\t\t\t\tvar webview = plus.webview.currentWebview();\n\t\t\t\t\t\t\t\t\tif(window.__NWin_Enable__ === false) { //不支持多webview\n\t\t\t\t\t\t\t\t\t\t$container.pullRefresh(pullRefreshOptions);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif(hasPullup) {\n\t\t\t\t\t\t\t\t\t\t\t//当前页面初始化pullup\n\t\t\t\t\t\t\t\t\t\t\tvar upOptions = {};\n\t\t\t\t\t\t\t\t\t\t\tupOptions.up = pullRefreshOptions.up;\n\t\t\t\t\t\t\t\t\t\t\tupOptions.webviewId = webview.id || webview.getURL();\n\t\t\t\t\t\t\t\t\t\t\t$container.pullRefresh(upOptions);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif(hasPulldown) {\n\t\t\t\t\t\t\t\t\t\t\tvar parent = webview.parent();\n\t\t\t\t\t\t\t\t\t\t\tvar id = webview.id || webview.getURL();\n\t\t\t\t\t\t\t\t\t\t\tif(parent) {\n\t\t\t\t\t\t\t\t\t\t\t\tif(!hasPullup) { //如果没有上拉加载，需要手动初始化一个默认的pullRefresh，以便当前页面容器可以调用endPulldownToRefresh等方法\n\t\t\t\t\t\t\t\t\t\t\t\t\t$container.pullRefresh({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twebviewId: id\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tvar downOptions = {\n\t\t\t\t\t\t\t\t\t\t\t\t\twebviewId: id//子页面id\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\tdownOptions.down = $.extend({}, pullRefreshOptions.down);\n\t\t\t\t\t\t\t\t\t\t\t\tdownOptions.down.callback = '_CALLBACK';\n\t\t\t\t\t\t\t\t\t\t\t\t//改写父页面的$.fn.pullRefresh\n\t\t\t\t\t\t\t\t\t\t\t\tparent.evalJS(\"mui.fn.pullRefresh=mui.fn.pullRefresh_native\");\n\t\t\t\t\t\t\t\t\t\t\t\t//父页面初始化pulldown\n\t\t\t\t\t\t\t\t\t\t\t\tparent.evalJS(\"mui&&mui(document.querySelector('.mui-content')).pullRefresh('\" + JSON.stringify(downOptions) + \"')\");\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else { //非原生转圈，iOS环境\n\t\t\t\t\t\t\t\t$container.pullRefresh(pullRefreshOptions);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$container.pullRefresh(pullRefreshOptions);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(mui);\n/**\n * mui ajax\n * @param {type} $\n * @returns {undefined}\n */\n(function($, window, undefined) {\n\n\tvar jsonType = 'application/json';\n\tvar htmlType = 'text/html';\n\tvar rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\n\tvar scriptTypeRE = /^(?:text|application)\\/javascript/i;\n\tvar xmlTypeRE = /^(?:text|application)\\/xml/i;\n\tvar blankRE = /^\\s*$/;\n\n\t$.ajaxSettings = {\n\t\ttype: 'GET',\n\t\tbeforeSend: $.noop,\n\t\tsuccess: $.noop,\n\t\terror: $.noop,\n\t\tcomplete: $.noop,\n\t\tcontext: null,\n\t\txhr: function(protocol) {\n\t\t\treturn new window.XMLHttpRequest();\n\t\t},\n\t\taccepts: {\n\t\t\tscript: 'text/javascript, application/javascript, application/x-javascript',\n\t\t\tjson: jsonType,\n\t\t\txml: 'application/xml, text/xml',\n\t\t\thtml: htmlType,\n\t\t\ttext: 'text/plain'\n\t\t},\n\t\ttimeout: 0,\n\t\tprocessData: true,\n\t\tcache: true\n\t};\n\tvar ajaxBeforeSend = function(xhr, settings) {\n\t\tvar context = settings.context\n\t\tif(settings.beforeSend.call(context, xhr, settings) === false) {\n\t\t\treturn false;\n\t\t}\n\t};\n\tvar ajaxSuccess = function(data, xhr, settings) {\n\t\tsettings.success.call(settings.context, data, 'success', xhr);\n\t\tajaxComplete('success', xhr, settings);\n\t};\n\t// type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n\tvar ajaxError = function(error, type, xhr, settings) {\n\t\tsettings.error.call(settings.context, xhr, type, error);\n\t\tajaxComplete(type, xhr, settings);\n\t};\n\t// status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n\tvar ajaxComplete = function(status, xhr, settings) {\n\t\tsettings.complete.call(settings.context, xhr, status);\n\t};\n\n\tvar serialize = function(params, obj, traditional, scope) {\n\t\tvar type, array = $.isArray(obj),\n\t\t\thash = $.isPlainObject(obj);\n\t\t$.each(obj, function(key, value) {\n\t\t\ttype = $.type(value);\n\t\t\tif(scope) {\n\t\t\t\tkey = traditional ? scope :\n\t\t\t\t\tscope + '[' + (hash || type === 'object' || type === 'array' ? key : '') + ']';\n\t\t\t}\n\t\t\t// handle data in serializeArray() format\n\t\t\tif(!scope && array) {\n\t\t\t\tparams.add(value.name, value.value);\n\t\t\t}\n\t\t\t// recurse into nested objects\n\t\t\telse if(type === \"array\" || (!traditional && type === \"object\")) {\n\t\t\t\tserialize(params, value, traditional, key);\n\t\t\t} else {\n\t\t\t\tparams.add(key, value);\n\t\t\t}\n\t\t});\n\t};\n\tvar serializeData = function(options) {\n\t\tif(options.processData && options.data && typeof options.data !== \"string\") {\n\t\t\tvar contentType = options.contentType;\n\t\t\tif(!contentType && options.headers) {\n\t\t\t\tcontentType = options.headers['Content-Type'];\n\t\t\t}\n\t\t\tif(contentType && ~contentType.indexOf(jsonType)) { //application/json\n\t\t\t\toptions.data = JSON.stringify(options.data);\n\t\t\t} else {\n\t\t\t\toptions.data = $.param(options.data, options.traditional);\n\t\t\t}\n\t\t}\n\t\tif(options.data && (!options.type || options.type.toUpperCase() === 'GET')) {\n\t\t\toptions.url = appendQuery(options.url, options.data);\n\t\t\toptions.data = undefined;\n\t\t}\n\t};\n\tvar appendQuery = function(url, query) {\n\t\tif(query === '') {\n\t\t\treturn url;\n\t\t}\n\t\treturn(url + '&' + query).replace(/[&?]{1,2}/, '?');\n\t};\n\tvar mimeToDataType = function(mime) {\n\t\tif(mime) {\n\t\t\tmime = mime.split(';', 2)[0];\n\t\t}\n\t\treturn mime && (mime === htmlType ? 'html' :\n\t\t\tmime === jsonType ? 'json' :\n\t\t\tscriptTypeRE.test(mime) ? 'script' :\n\t\t\txmlTypeRE.test(mime) && 'xml') || 'text';\n\t};\n\tvar parseArguments = function(url, data, success, dataType) {\n\t\tif($.isFunction(data)) {\n\t\t\tdataType = success, success = data, data = undefined;\n\t\t}\n\t\tif(!$.isFunction(success)) {\n\t\t\tdataType = success, success = undefined;\n\t\t}\n\t\treturn {\n\t\t\turl: url,\n\t\t\tdata: data,\n\t\t\tsuccess: success,\n\t\t\tdataType: dataType\n\t\t};\n\t};\n\t$.ajax = function(url, options) {\n\t\tif(typeof url === \"object\") {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\t\tvar settings = options || {};\n\t\tsettings.url = url || settings.url;\n\t\tfor(var key in $.ajaxSettings) {\n\t\t\tif(settings[key] === undefined) {\n\t\t\t\tsettings[key] = $.ajaxSettings[key];\n\t\t\t}\n\t\t}\n\t\tserializeData(settings);\n\t\tvar dataType = settings.dataType;\n\n\t\tif(settings.cache === false || ((!options || options.cache !== true) && ('script' === dataType))) {\n\t\t\tsettings.url = appendQuery(settings.url, '_=' + $.now());\n\t\t}\n\t\tvar mime = settings.accepts[dataType && dataType.toLowerCase()];\n\t\tvar headers = {};\n\t\tvar setHeader = function(name, value) {\n\t\t\theaders[name.toLowerCase()] = [name, value];\n\t\t};\n\t\tvar protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol;        \n\t\tvar xhr = settings.xhr(settings);\n        \n        if(location.protocol === 'file:' && $.os.ios && window.webkit && window.webkit.messageHandlers && !(xhr instanceof plus.net.XMLHttpRequest)){\n            console.error(\"当前运行环境为WKWebview，需在plusReady事件触发后再调用mui.ajax，否则可能会执行失败或报Script error的错误\")\n        }\n\t\tvar nativeSetHeader = xhr.setRequestHeader;\n\t\tvar abortTimeout;\n\n\t\tsetHeader('X-Requested-With', 'XMLHttpRequest');\n\t\tsetHeader('Accept', mime || '*/*');\n\t\tif(!!(mime = settings.mimeType || mime)) {\n\t\t\tif(mime.indexOf(',') > -1) {\n\t\t\t\tmime = mime.split(',', 2)[0];\n\t\t\t}\n\t\t\txhr.overrideMimeType && xhr.overrideMimeType(mime);\n\t\t}\n\t\tif(settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() !== 'GET')) {\n\t\t\tsetHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded');\n\t\t}\n\t\tif(settings.headers) {\n\t\t\tfor(var name in settings.headers)\n\t\t\t\tsetHeader(name, settings.headers[name]);\n\t\t}\n\t\txhr.setRequestHeader = setHeader;\n\n\t\txhr.onreadystatechange = function() {\n\t\t\tif(xhr.readyState === 4) {\n\t\t\t\txhr.onreadystatechange = $.noop;\n\t\t\t\tclearTimeout(abortTimeout);\n\t\t\t\tvar result, error = false;\n\t\t\t\tvar isLocal = protocol === 'file:';\n\t\t\t\tif((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || (xhr.status === 0 && isLocal && xhr.responseText)) {\n\t\t\t\t\tdataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'));\n\t\t\t\t\tresult = xhr.responseText;\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// http://perfectionkills.com/global-eval-what-are-the-options/\n\t\t\t\t\t\tif(dataType === 'script') {\n\t\t\t\t\t\t\t(1, eval)(result);\n\t\t\t\t\t\t} else if(dataType === 'xml') {\n\t\t\t\t\t\t\tresult = xhr.responseXML;\n\t\t\t\t\t\t} else if(dataType === 'json') {\n\t\t\t\t\t\t\tresult = blankRE.test(result) ? null : $.parseJSON(result);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\terror = e;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(error) {\n\t\t\t\t\t\tajaxError(error, 'parsererror', xhr, settings);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tajaxSuccess(result, xhr, settings);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar status = xhr.status ? 'error' : 'abort';\n\t\t\t\t\tvar statusText = xhr.statusText || null;\n\t\t\t\t\tif(isLocal) {\n\t\t\t\t\t\tstatus = 'error';\n\t\t\t\t\t\tstatusText = '404';\n\t\t\t\t\t}\n\t\t\t\t\tajaxError(statusText, status, xhr, settings);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tif(ajaxBeforeSend(xhr, settings) === false) {\n\t\t\txhr.abort();\n\t\t\tajaxError(null, 'abort', xhr, settings);\n\t\t\treturn xhr;\n\t\t}\n\n\t\tif(settings.xhrFields) {\n\t\t\tfor(var name in settings.xhrFields) {\n\t\t\t\txhr[name] = settings.xhrFields[name];\n\t\t\t}\n\t\t}\n\n\t\tvar async = 'async' in settings ? settings.async : true;\n\n\t\txhr.open(settings.type.toUpperCase(), settings.url, async, settings.username, settings.password);\n\n\t\tfor(var name in headers) {\n\t\t\tif(headers.hasOwnProperty(name)) {\n\t\t\t\tnativeSetHeader.apply(xhr, headers[name]);\n\t\t\t}\n\t\t}\n\t\tif(settings.timeout > 0) {\n\t\t\tabortTimeout = setTimeout(function() {\n\t\t\t\txhr.onreadystatechange = $.noop;\n\t\t\t\txhr.abort();\n\t\t\t\tajaxError(null, 'timeout', xhr, settings);\n\t\t\t}, settings.timeout);\n\t\t}\n\t\txhr.send(settings.data ? settings.data : null);\n\t\treturn xhr;\n\t};\n\n\t$.param = function(obj, traditional) {\n\t\tvar params = [];\n\t\tparams.add = function(k, v) {\n\t\t\tthis.push(encodeURIComponent(k) + '=' + encodeURIComponent(v));\n\t\t};\n\t\tserialize(params, obj, traditional);\n\t\treturn params.join('&').replace(/%20/g, '+');\n\t};\n\t$.get = function( /* url, data, success, dataType */ ) {\n\t\treturn $.ajax(parseArguments.apply(null, arguments));\n\t};\n\n\t$.post = function( /* url, data, success, dataType */ ) {\n\t\tvar options = parseArguments.apply(null, arguments);\n\t\toptions.type = 'POST';\n\t\treturn $.ajax(options);\n\t};\n\n\t$.getJSON = function( /* url, data, success */ ) {\n\t\tvar options = parseArguments.apply(null, arguments);\n\t\toptions.dataType = 'json';\n\t\treturn $.ajax(options);\n\t};\n\n\t$.fn.load = function(url, data, success) {\n\t\tif(!this.length)\n\t\t\treturn this;\n\t\tvar self = this,\n\t\t\tparts = url.split(/\\s/),\n\t\t\tselector,\n\t\t\toptions = parseArguments(url, data, success),\n\t\t\tcallback = options.success;\n\t\tif(parts.length > 1)\n\t\t\toptions.url = parts[0], selector = parts[1];\n\t\toptions.success = function(response) {\n\t\t\tif(selector) {\n\t\t\t\tvar div = document.createElement('div');\n\t\t\t\tdiv.innerHTML = response.replace(rscript, \"\");\n\t\t\t\tvar selectorDiv = document.createElement('div');\n\t\t\t\tvar childs = div.querySelectorAll(selector);\n\t\t\t\tif(childs && childs.length > 0) {\n\t\t\t\t\tfor(var i = 0, len = childs.length; i < len; i++) {\n\t\t\t\t\t\tselectorDiv.appendChild(childs[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tself[0].innerHTML = selectorDiv.innerHTML;\n\t\t\t} else {\n\t\t\t\tself[0].innerHTML = response;\n\t\t\t}\n\t\t\tcallback && callback.apply(self, arguments);\n\t\t};\n\t\t$.ajax(options);\n\t\treturn this;\n\t};\n\n})(mui, window);\n/**\n * 5+ ajax\n */\n(function($) {\n\tvar originAnchor = document.createElement('a');\n\toriginAnchor.href = window.location.href;\n\t$.plusReady(function() {\n\t\t$.ajaxSettings = $.extend($.ajaxSettings, {\n\t\t\txhr: function(settings) {\n\t\t\t\tif (settings.crossDomain) { //强制使用plus跨域\n\t\t\t\t\treturn new plus.net.XMLHttpRequest();\n\t\t\t\t}\n\t\t\t\t//仅在webview的url为远程文件，且ajax请求的资源不同源下使用plus.net.XMLHttpRequest\n\t\t\t\tif (originAnchor.protocol !== 'file:') {\n\t\t\t\t\tvar urlAnchor = document.createElement('a');\n\t\t\t\t\turlAnchor.href = settings.url;\n\t\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\t\tsettings.crossDomain = (originAnchor.protocol + '//' + originAnchor.host) !== (urlAnchor.protocol + '//' + urlAnchor.host);\n\t\t\t\t\tif (settings.crossDomain) {\n\t\t\t\t\t\treturn new plus.net.XMLHttpRequest();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ($.os.ios && window.webkit && window.webkit.messageHandlers) { //wkwebview下同样使用5+ xhr\n                    return new plus.net.XMLHttpRequest();\n                }\n\t\t\t\treturn new window.XMLHttpRequest();\n\t\t\t}\n\t\t});\n\t});\n})(mui);\n/**\n * mui layout(offset[,position,width,height...])\n * @param {type} $\n * @param {type} window\n * @param {type} undefined\n * @returns {undefined}\n */\n(function($, window, undefined) {\n\t$.offset = function(element) {\n\t\tvar box = {\n\t\t\ttop : 0,\n\t\t\tleft : 0\n\t\t};\n\t\tif ( typeof element.getBoundingClientRect !== undefined) {\n\t\t\tbox = element.getBoundingClientRect();\n\t\t}\n\t\treturn {\n\t\t\ttop : box.top + window.pageYOffset - element.clientTop,\n\t\t\tleft : box.left + window.pageXOffset - element.clientLeft\n\t\t};\n\t};\n})(mui, window); \n/**\n * mui animation\n */\n(function($, window) {\n\t/**\n\t * scrollTo\n\t */\n\t$.scrollTo = function(scrollTop, duration, callback) {\n\t\tduration = duration || 1000;\n\t\tvar scroll = function(duration) {\n\t\t\tif (duration <= 0) {\n\t\t\t\twindow.scrollTo(0, scrollTop);\n\t\t\t\tcallback && callback();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar distaince = scrollTop - window.scrollY;\n\t\t\tsetTimeout(function() {\n\t\t\t\twindow.scrollTo(0, window.scrollY + distaince / duration * 10);\n\t\t\t\tscroll(duration - 10);\n\t\t\t}, 16.7);\n\t\t};\n\t\tscroll(duration);\n\t};\n\t$.animationFrame = function(cb) {\n\t\tvar args, isQueued, context;\n\t\treturn function() {\n\t\t\targs = arguments;\n\t\t\tcontext = this;\n\t\t\tif (!isQueued) {\n\t\t\t\tisQueued = true;\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tcb.apply(context, args);\n\t\t\t\t\tisQueued = false;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t};\n\n})(mui, window);\n(function($) {\n\tvar initializing = false,\n\t\tfnTest = /xyz/.test(function() {\n\t\t\txyz;\n\t\t}) ? /\\b_super\\b/ : /.*/;\n\n\tvar Class = function() {};\n\tClass.extend = function(prop) {\n\t\tvar _super = this.prototype;\n\t\tinitializing = true;\n\t\tvar prototype = new this();\n\t\tinitializing = false;\n\t\tfor (var name in prop) {\n\t\t\tprototype[name] = typeof prop[name] == \"function\" &&\n\t\t\t\ttypeof _super[name] == \"function\" && fnTest.test(prop[name]) ?\n\t\t\t\t(function(name, fn) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tvar tmp = this._super;\n\n\t\t\t\t\t\tthis._super = _super[name];\n\n\t\t\t\t\t\tvar ret = fn.apply(this, arguments);\n\t\t\t\t\t\tthis._super = tmp;\n\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t};\n\t\t\t\t})(name, prop[name]) :\n\t\t\t\tprop[name];\n\t\t}\n\t\tfunction Class() {\n\t\t\tif (!initializing && this.init)\n\t\t\t\tthis.init.apply(this, arguments);\n\t\t}\n\t\tClass.prototype = prototype;\n\t\tClass.prototype.constructor = Class;\n\t\tClass.extend = arguments.callee;\n\t\treturn Class;\n\t};\n\t$.Class = Class;\n})(mui);\n(function($, document, undefined) {\n    var CLASS_PULL_TOP_POCKET = 'mui-pull-top-pocket';\n    var CLASS_PULL_BOTTOM_POCKET = 'mui-pull-bottom-pocket';\n    var CLASS_PULL = 'mui-pull';\n    var CLASS_PULL_LOADING = 'mui-pull-loading';\n    var CLASS_PULL_CAPTION = 'mui-pull-caption';\n    var CLASS_PULL_CAPTION_DOWN = 'mui-pull-caption-down';\n    var CLASS_PULL_CAPTION_REFRESH = 'mui-pull-caption-refresh';\n    var CLASS_PULL_CAPTION_NOMORE = 'mui-pull-caption-nomore';\n\n    var CLASS_ICON = 'mui-icon';\n    var CLASS_SPINNER = 'mui-spinner';\n    var CLASS_ICON_PULLDOWN = 'mui-icon-pulldown';\n\n    var CLASS_BLOCK = 'mui-block';\n    var CLASS_HIDDEN = 'mui-hidden';\n    var CLASS_VISIBILITY = 'mui-visibility';\n\n    var CLASS_LOADING_UP = CLASS_PULL_LOADING + ' ' + CLASS_ICON + ' ' + CLASS_ICON_PULLDOWN;\n    var CLASS_LOADING_DOWN = CLASS_PULL_LOADING + ' ' + CLASS_ICON + ' ' + CLASS_ICON_PULLDOWN;\n    var CLASS_LOADING = CLASS_PULL_LOADING + ' ' + CLASS_ICON + ' ' + CLASS_SPINNER;\n\n    var pocketHtml = ['<div class=\"' + CLASS_PULL + '\">', '<div class=\"{icon}\"></div>', '<div class=\"' + CLASS_PULL_CAPTION + '\">{contentrefresh}</div>', '</div>'].join('');\n\n    var PullRefresh = {\n        init: function(element, options) {\n            this._super(element, $.extend(true, {\n                scrollY: true,\n                scrollX: false,\n                indicators: true,\n                deceleration: 0.003,\n                down: {\n                    height: 50,\n                    contentinit: '下拉可以刷新',\n                    contentdown: '下拉可以刷新',\n                    contentover: '释放立即刷新',\n                    contentrefresh: '正在刷新...'\n                },\n                up: {\n                    height: 50,\n                    auto: false,\n                    contentinit: '上拉显示更多',\n                    contentdown: '上拉显示更多',\n                    contentrefresh: '正在加载...',\n                    contentnomore: '没有更多数据了',\n                    duration: 300\n                }\n            }, options));\n        },\n        _init: function() {\n            this._super();\n            this._initPocket();\n        },\n        _initPulldownRefresh: function() {\n            this.pulldown = true;\n            if (this.topPocket) {\n                this.pullPocket = this.topPocket;\n                this.pullPocket.classList.add(CLASS_BLOCK);\n                this.pullPocket.classList.add(CLASS_VISIBILITY);\n                this.pullCaption = this.topCaption;\n                this.pullLoading = this.topLoading;\n            }\n        },\n        _initPullupRefresh: function() {\n            this.pulldown = false;\n            if (this.bottomPocket) {\n                this.pullPocket = this.bottomPocket;\n                this.pullPocket.classList.add(CLASS_BLOCK);\n                this.pullPocket.classList.add(CLASS_VISIBILITY);\n                this.pullCaption = this.bottomCaption;\n                this.pullLoading = this.bottomLoading;\n            }\n        },\n        _initPocket: function() {\n            var options = this.options;\n            if (options.down && options.down.hasOwnProperty('callback')) {\n                this.topPocket = this.scroller.querySelector('.' + CLASS_PULL_TOP_POCKET);\n                if (!this.topPocket) {\n                    this.topPocket = this._createPocket(CLASS_PULL_TOP_POCKET, options.down, CLASS_LOADING_DOWN);\n                    this.wrapper.insertBefore(this.topPocket, this.wrapper.firstChild);\n                }\n                this.topLoading = this.topPocket.querySelector('.' + CLASS_PULL_LOADING);\n                this.topCaption = this.topPocket.querySelector('.' + CLASS_PULL_CAPTION);\n            }\n            if (options.up && options.up.hasOwnProperty('callback')) {\n                this.bottomPocket = this.scroller.querySelector('.' + CLASS_PULL_BOTTOM_POCKET);\n                if (!this.bottomPocket) {\n                    this.bottomPocket = this._createPocket(CLASS_PULL_BOTTOM_POCKET, options.up, CLASS_LOADING);\n                    this.scroller.appendChild(this.bottomPocket);\n                }\n                this.bottomLoading = this.bottomPocket.querySelector('.' + CLASS_PULL_LOADING);\n                this.bottomCaption = this.bottomPocket.querySelector('.' + CLASS_PULL_CAPTION);\n                //TODO only for h5\n                this.wrapper.addEventListener('scrollbottom', this);\n            }\n        },\n        _createPocket: function(clazz, options, iconClass) {\n            var pocket = document.createElement('div');\n            pocket.className = clazz;\n            pocket.innerHTML = pocketHtml.replace('{contentrefresh}', options.contentinit).replace('{icon}', iconClass);\n            return pocket;\n        },\n        _resetPullDownLoading: function() {\n            var loading = this.pullLoading;\n            if (loading) {\n                this.pullCaption.innerHTML = this.options.down.contentdown;\n                loading.style.webkitTransition = \"\";\n                loading.style.webkitTransform = \"\";\n                loading.style.webkitAnimation = \"\";\n                loading.className = CLASS_LOADING_DOWN;\n            }\n        },\n        _setCaptionClass: function(isPulldown, caption, title) {\n            if (!isPulldown) {\n                switch (title) {\n                    case this.options.up.contentdown:\n                        caption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_DOWN;\n                        break;\n                    case this.options.up.contentrefresh:\n                        caption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_REFRESH\n                        break;\n                    case this.options.up.contentnomore:\n                        caption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_NOMORE;\n                        break;\n                }\n            }\n        },\n        _setCaption: function(title, reset) {\n            if (this.loading) {\n                return;\n            }\n            var options = this.options;\n            var pocket = this.pullPocket;\n            var caption = this.pullCaption;\n            var loading = this.pullLoading;\n            var isPulldown = this.pulldown;\n            var self = this;\n            if (pocket) {\n                if (reset) {\n                    setTimeout(function() {\n                        caption.innerHTML = self.lastTitle = title;\n                        if (isPulldown) {\n                            loading.className = CLASS_LOADING_DOWN;\n                        } else {\n                            self._setCaptionClass(false, caption, title);\n                            loading.className = CLASS_LOADING;\n                        }\n                        loading.style.webkitAnimation = \"\";\n                        loading.style.webkitTransition = \"\";\n                        loading.style.webkitTransform = \"\";\n                    }, 100);\n                } else {\n                    if (title !== this.lastTitle) {\n                        caption.innerHTML = title;\n                        if (isPulldown) {\n                            if (title === options.down.contentrefresh) {\n                                loading.className = CLASS_LOADING;\n                                loading.style.webkitAnimation = \"spinner-spin 1s step-end infinite\";\n                            } else if (title === options.down.contentover) {\n                                loading.className = CLASS_LOADING_UP;\n                                loading.style.webkitTransition = \"-webkit-transform 0.3s ease-in\";\n                                loading.style.webkitTransform = \"rotate(180deg)\";\n                            } else if (title === options.down.contentdown) {\n                                loading.className = CLASS_LOADING_DOWN;\n                                loading.style.webkitTransition = \"-webkit-transform 0.3s ease-in\";\n                                loading.style.webkitTransform = \"rotate(0deg)\";\n                            }\n                        } else {\n                            if (title === options.up.contentrefresh) {\n                                loading.className = CLASS_LOADING + ' ' + CLASS_VISIBILITY;\n                            } else {\n                                loading.className = CLASS_LOADING + ' ' + CLASS_HIDDEN;\n                            }\n                            self._setCaptionClass(false, caption, title);\n                        }\n                        this.lastTitle = title;\n                    }\n                }\n\n            }\n        }\n    };\n    $.PullRefresh = PullRefresh;\n})(mui, document);\n(function($, window, document, undefined) {\n\tvar CLASS_SCROLL = 'mui-scroll';\n\tvar CLASS_SCROLLBAR = 'mui-scrollbar';\n\tvar CLASS_INDICATOR = 'mui-scrollbar-indicator';\n\tvar CLASS_SCROLLBAR_VERTICAL = CLASS_SCROLLBAR + '-vertical';\n\tvar CLASS_SCROLLBAR_HORIZONTAL = CLASS_SCROLLBAR + '-horizontal';\n\n\tvar CLASS_ACTIVE = 'mui-active';\n\n\tvar ease = {\n\t\tquadratic: {\n\t\t\tstyle: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n\t\t\tfn: function(k) {\n\t\t\t\treturn k * (2 - k);\n\t\t\t}\n\t\t},\n\t\tcircular: {\n\t\t\tstyle: 'cubic-bezier(0.1, 0.57, 0.1, 1)',\n\t\t\tfn: function(k) {\n\t\t\t\treturn Math.sqrt(1 - (--k * k));\n\t\t\t}\n\t\t},\n\t\toutCirc: {\n\t\t\tstyle: 'cubic-bezier(0.075, 0.82, 0.165, 1)'\n\t\t},\n\t\toutCubic: {\n\t\t\tstyle: 'cubic-bezier(0.165, 0.84, 0.44, 1)'\n\t\t}\n\t}\n\tvar Scroll = $.Class.extend({\n\t\tinit: function(element, options) {\n\t\t\tthis.wrapper = this.element = element;\n\t\t\tthis.scroller = this.wrapper.children[0];\n\t\t\tthis.scrollerStyle = this.scroller && this.scroller.style;\n\t\t\tthis.stopped = false;\n\n\t\t\tthis.options = $.extend(true, {\n\t\t\t\tscrollY: true, //是否竖向滚动\n\t\t\t\tscrollX: false, //是否横向滚动\n\t\t\t\tstartX: 0, //初始化时滚动至x\n\t\t\t\tstartY: 0, //初始化时滚动至y\n\n\t\t\t\tindicators: true, //是否显示滚动条\n\t\t\t\tstopPropagation: false,\n\t\t\t\thardwareAccelerated: true,\n\t\t\t\tfixedBadAndorid: false,\n\t\t\t\tpreventDefaultException: {\n\t\t\t\t\ttagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/\n\t\t\t\t},\n\t\t\t\tmomentum: true,\n\n\t\t\t\tsnapX: 0.5, //横向切换距离(以当前容器宽度为基准)\n\t\t\t\tsnap: false, //图片轮播，拖拽式选项卡\n\n\t\t\t\tbounce: true, //是否启用回弹\n\t\t\t\tbounceTime: 500, //回弹动画时间\n\t\t\t\tbounceEasing: ease.outCirc, //回弹动画曲线\n\n\t\t\t\tscrollTime: 500,\n\t\t\t\tscrollEasing: ease.outCubic, //轮播动画曲线\n\n\t\t\t\tdirectionLockThreshold: 5,\n\n\t\t\t\tparallaxElement: false, //视差元素\n\t\t\t\tparallaxRatio: 0.5\n\t\t\t}, options);\n\n\t\t\tthis.x = 0;\n\t\t\tthis.y = 0;\n\t\t\tthis.translateZ = this.options.hardwareAccelerated ? ' translateZ(0)' : '';\n\n\t\t\tthis._init();\n\t\t\tif (this.scroller) {\n\t\t\t\tthis.refresh();\n\t\t\t\t//\t\t\t\tif (this.options.startX !== 0 || this.options.startY !== 0) { //需要判断吗？后续根据实际情况再看看\n\t\t\t\tthis.scrollTo(this.options.startX, this.options.startY);\n\t\t\t\t//\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_init: function() {\n\t\t\tthis._initParallax();\n\t\t\tthis._initIndicators();\n\t\t\tthis._initEvent();\n\t\t},\n\t\t_initParallax: function() {\n\t\t\tif (this.options.parallaxElement) {\n\t\t\t\tthis.parallaxElement = document.querySelector(this.options.parallaxElement);\n\t\t\t\tthis.parallaxStyle = this.parallaxElement.style;\n\t\t\t\tthis.parallaxHeight = this.parallaxElement.offsetHeight;\n\t\t\t\tthis.parallaxImgStyle = this.parallaxElement.querySelector('img').style;\n\t\t\t}\n\t\t},\n\t\t_initIndicators: function() {\n\t\t\tvar self = this;\n\t\t\tself.indicators = [];\n\t\t\tif (!this.options.indicators) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar indicators = [],\n\t\t\t\tindicator;\n\n\t\t\t// Vertical scrollbar\n\t\t\tif (self.options.scrollY) {\n\t\t\t\tindicator = {\n\t\t\t\t\tel: this._createScrollBar(CLASS_SCROLLBAR_VERTICAL),\n\t\t\t\t\tlistenX: false\n\t\t\t\t};\n\n\t\t\t\tthis.wrapper.appendChild(indicator.el);\n\t\t\t\tindicators.push(indicator);\n\t\t\t}\n\n\t\t\t// Horizontal scrollbar\n\t\t\tif (this.options.scrollX) {\n\t\t\t\tindicator = {\n\t\t\t\t\tel: this._createScrollBar(CLASS_SCROLLBAR_HORIZONTAL),\n\t\t\t\t\tlistenY: false\n\t\t\t\t};\n\n\t\t\t\tthis.wrapper.appendChild(indicator.el);\n\t\t\t\tindicators.push(indicator);\n\t\t\t}\n\n\t\t\tfor (var i = indicators.length; i--;) {\n\t\t\t\tthis.indicators.push(new Indicator(this, indicators[i]));\n\t\t\t}\n\n\t\t},\n\t\t_initSnap: function() {\n\t\t\tthis.currentPage = {};\n\t\t\tthis.pages = [];\n\t\t\tvar snaps = this.snaps;\n\t\t\tvar length = snaps.length;\n\t\t\tvar m = 0;\n\t\t\tvar n = -1;\n\t\t\tvar x = 0;\n\t\t\tvar leftX = 0;\n\t\t\tvar rightX = 0;\n\t\t\tvar snapX = 0;\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tvar snap = snaps[i];\n\t\t\t\tvar offsetLeft = snap.offsetLeft;\n\t\t\t\tvar offsetWidth = snap.offsetWidth;\n\t\t\t\tif (i === 0 || offsetLeft <= snaps[i - 1].offsetLeft) {\n\t\t\t\t\tm = 0;\n\t\t\t\t\tn++;\n\t\t\t\t}\n\t\t\t\tif (!this.pages[m]) {\n\t\t\t\t\tthis.pages[m] = [];\n\t\t\t\t}\n\t\t\t\tx = this._getSnapX(offsetLeft);\n\t\t\t\tsnapX = Math.round((offsetWidth) * this.options.snapX);\n\t\t\t\tleftX = x - snapX;\n\t\t\t\trightX = x - offsetWidth + snapX;\n\t\t\t\tthis.pages[m][n] = {\n\t\t\t\t\tx: x,\n\t\t\t\t\tleftX: leftX,\n\t\t\t\t\trightX: rightX,\n\t\t\t\t\tpageX: m,\n\t\t\t\t\telement: snap\n\t\t\t\t}\n\t\t\t\tif (snap.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\tthis.currentPage = this.pages[m][0];\n\t\t\t\t}\n\t\t\t\tif (x >= this.maxScrollX) {\n\t\t\t\t\tm++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.options.startX = this.currentPage.x || 0;\n\t\t},\n\t\t_getSnapX: function(offsetLeft) {\n\t\t\treturn Math.max(Math.min(0, -offsetLeft + (this.wrapperWidth / 2)), this.maxScrollX);\n\t\t},\n\t\t_gotoPage: function(index) {\n\t\t\tthis.currentPage = this.pages[Math.min(index, this.pages.length - 1)][0];\n\t\t\tfor (var i = 0, len = this.snaps.length; i < len; i++) {\n\t\t\t\tif (i === index) {\n\t\t\t\t\tthis.snaps[i].classList.add(CLASS_ACTIVE);\n\t\t\t\t} else {\n\t\t\t\t\tthis.snaps[i].classList.remove(CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.scrollTo(this.currentPage.x, 0, this.options.scrollTime);\n\t\t},\n\t\t_nearestSnap: function(x) {\n\t\t\tif (!this.pages.length) {\n\t\t\t\treturn {\n\t\t\t\t\tx: 0,\n\t\t\t\t\tpageX: 0\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar i = 0;\n\t\t\tvar length = this.pages.length;\n\t\t\tif (x > 0) {\n\t\t\t\tx = 0;\n\t\t\t} else if (x < this.maxScrollX) {\n\t\t\t\tx = this.maxScrollX;\n\t\t\t}\n\t\t\tfor (; i < length; i++) {\n\t\t\t\tvar nearestX = this.direction === 'left' ? this.pages[i][0].leftX : this.pages[i][0].rightX;\n\t\t\t\tif (x >= nearestX) {\n\t\t\t\t\treturn this.pages[i][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: 0,\n\t\t\t\tpageX: 0\n\t\t\t};\n\t\t},\n\t\t_initEvent: function(detach) {\n\t\t\tvar action = detach ? 'removeEventListener' : 'addEventListener';\n\t\t\twindow[action]('orientationchange', this);\n\t\t\twindow[action]('resize', this);\n\n\t\t\tthis.scroller[action]('webkitTransitionEnd', this);\n\n\t\t\tthis.wrapper[action]($.EVENT_START, this);\n\t\t\tthis.wrapper[action]($.EVENT_CANCEL, this);\n\t\t\tthis.wrapper[action]($.EVENT_END, this);\n\t\t\tthis.wrapper[action]('drag', this);\n\t\t\tthis.wrapper[action]('dragend', this);\n\t\t\tthis.wrapper[action]('flick', this);\n\t\t\tthis.wrapper[action]('scrollend', this);\n\t\t\tif (this.options.scrollX) {\n\t\t\t\tthis.wrapper[action]('swiperight', this);\n\t\t\t}\n\t\t\tvar segmentedControl = this.wrapper.querySelector('.mui-segmented-control');\n\t\t\tif (segmentedControl) { //靠，这个bug排查了一下午，阻止hash跳转，一旦hash跳转会导致可拖拽选项卡的tab不见\n\t\t\t\tmui(segmentedControl)[detach ? 'off' : 'on']('click', 'a', $.preventDefault);\n\t\t\t}\n\n\t\t\tthis.wrapper[action]('scrollstart', this);\n\t\t\tthis.wrapper[action]('refresh', this);\n\t\t},\n\t\t_handleIndicatorScrollend: function() {\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.fade();\n\t\t\t});\n\t\t},\n\t\t_handleIndicatorScrollstart: function() {\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.fade(1);\n\t\t\t});\n\t\t},\n\t\t_handleIndicatorRefresh: function() {\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.refresh();\n\t\t\t});\n\t\t},\n\t\thandleEvent: function(e) {\n\t\t\tif (this.stopped) {\n\t\t\t\tthis.resetPosition();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch (e.type) {\n\t\t\t\tcase $.EVENT_START:\n\t\t\t\t\tthis._start(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'drag':\n\t\t\t\t\tthis.options.stopPropagation && e.stopPropagation();\n\t\t\t\t\tthis._drag(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'dragend':\n\t\t\t\tcase 'flick':\n\t\t\t\t\tthis.options.stopPropagation && e.stopPropagation();\n\t\t\t\t\tthis._flick(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tcase $.EVENT_END:\n\t\t\t\t\tthis._end(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'webkitTransitionEnd':\n\t\t\t\t\tthis.transitionTimer && this.transitionTimer.cancel();\n\t\t\t\t\tthis._transitionEnd(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scrollstart':\n\t\t\t\t\tthis._handleIndicatorScrollstart(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scrollend':\n\t\t\t\t\tthis._handleIndicatorScrollend(e);\n\t\t\t\t\tthis._scrollend(e);\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'orientationchange':\n\t\t\t\tcase 'resize':\n\t\t\t\t\tthis._resize();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'swiperight':\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'refresh':\n\t\t\t\t\tthis._handleIndicatorRefresh(e);\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t},\n\t\t_start: function(e) {\n\t\t\tthis.moved = this.needReset = false;\n\t\t\tthis._transitionTime();\n\t\t\tif (this.isInTransition) {\n\t\t\t\tthis.needReset = true;\n\t\t\t\tthis.isInTransition = false;\n\t\t\t\tvar pos = $.parseTranslateMatrix($.getStyles(this.scroller, 'webkitTransform'));\n\t\t\t\tthis.setTranslate(Math.round(pos.x), Math.round(pos.y));\n\t\t\t\t//\t\t\t\tthis.resetPosition(); //reset\n\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\t\t\t//\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\tthis.reLayout();\n\t\t\t$.trigger(this.scroller, 'beforescrollstart', this);\n\t\t},\n\t\t_getDirectionByAngle: function(angle) {\n\t\t\tif (angle < -80 && angle > -100) {\n\t\t\t\treturn 'up';\n\t\t\t} else if (angle >= 80 && angle < 100) {\n\t\t\t\treturn 'down';\n\t\t\t} else if (angle >= 170 || angle <= -170) {\n\t\t\t\treturn 'left';\n\t\t\t} else if (angle >= -35 && angle <= 10) {\n\t\t\t\treturn 'right';\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\t_drag: function(e) {\n\t\t\t//\t\t\tif (this.needReset) {\n\t\t\t//\t\t\t\te.stopPropagation(); //disable parent drag(nested scroller)\n\t\t\t//\t\t\t\treturn;\n\t\t\t//\t\t\t}\n\t\t\tvar detail = e.detail;\n\t\t\tif (this.options.scrollY || detail.direction === 'up' || detail.direction === 'down') { //如果是竖向滚动或手势方向是上或下\n\t\t\t\t//ios8 hack\n\t\t\t\tif ($.os.ios && parseFloat($.os.version) >= 8) { //多webview时，离开当前webview会导致后续touch事件不触发\n\t\t\t\t\tvar clientY = detail.gesture.touches[0].clientY;\n\t\t\t\t\t//下拉刷新 or 上拉加载\n\t\t\t\t\tif ((clientY + 10) > window.innerHeight || clientY < 10) {\n\t\t\t\t\t\tthis.resetPosition(this.options.bounceTime);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar isPreventDefault = isReturn = false;\n\t\t\tvar direction = this._getDirectionByAngle(detail.angle);\n\t\t\tif (detail.direction === 'left' || detail.direction === 'right') {\n\t\t\t\tif (this.options.scrollX) {\n\t\t\t\t\tisPreventDefault = true;\n\t\t\t\t\tif (!this.moved) { //识别角度(该角度导致轮播不灵敏)\n\t\t\t\t\t\t//\t\t\t\t\t\tif (direction !== 'left' && direction !== 'right') {\n\t\t\t\t\t\t//\t\t\t\t\t\t\tisReturn = true;\n\t\t\t\t\t\t//\t\t\t\t\t\t} else {\n\t\t\t\t\t\t$.gestures.session.lockDirection = true; //锁定方向\n\t\t\t\t\t\t$.gestures.session.startDirection = detail.direction;\n\t\t\t\t\t\t//\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (this.options.scrollY && !this.moved) {\n\t\t\t\t\tisReturn = true;\n\t\t\t\t}\n\t\t\t} else if (detail.direction === 'up' || detail.direction === 'down') {\n\t\t\t\tif (this.options.scrollY) {\n\t\t\t\t\tisPreventDefault = true;\n\t\t\t\t\t//\t\t\t\t\tif (!this.moved) { //识别角度,竖向滚动似乎没必要进行小角度验证\n\t\t\t\t\t//\t\t\t\t\t\tif (direction !== 'up' && direction !== 'down') {\n\t\t\t\t\t//\t\t\t\t\t\t\tisReturn = true;\n\t\t\t\t\t//\t\t\t\t\t\t}\n\t\t\t\t\t//\t\t\t\t\t}\n\t\t\t\t\tif (!this.moved) {\n\t\t\t\t\t\t$.gestures.session.lockDirection = true; //锁定方向\n\t\t\t\t\t\t$.gestures.session.startDirection = detail.direction;\n\t\t\t\t\t}\n\t\t\t\t} else if (this.options.scrollX && !this.moved) {\n\t\t\t\t\tisReturn = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisReturn = true;\n\t\t\t}\n\t\t\tif (this.moved || isPreventDefault) {\n\t\t\t\te.stopPropagation(); //阻止冒泡(scroll类嵌套)\n\t\t\t\tdetail.gesture && detail.gesture.preventDefault();\n\t\t\t}\n\t\t\tif (isReturn) { //禁止非法方向滚动\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.moved) {\n\t\t\t\t$.trigger(this.scroller, 'scrollstart', this);\n\t\t\t} else {\n\t\t\t\te.stopPropagation(); //move期间阻止冒泡(scroll嵌套)\n\t\t\t}\n\t\t\tvar deltaX = 0;\n\t\t\tvar deltaY = 0;\n\t\t\tif (!this.moved) { //start\n\t\t\t\tdeltaX = detail.deltaX;\n\t\t\t\tdeltaY = detail.deltaY;\n\t\t\t} else { //move\n\t\t\t\tdeltaX = detail.deltaX - $.gestures.session.prevTouch.deltaX;\n\t\t\t\tdeltaY = detail.deltaY - $.gestures.session.prevTouch.deltaY;\n\t\t\t}\n\t\t\tvar absDeltaX = Math.abs(detail.deltaX);\n\t\t\tvar absDeltaY = Math.abs(detail.deltaY);\n\t\t\tif (absDeltaX > absDeltaY + this.options.directionLockThreshold) {\n\t\t\t\tdeltaY = 0;\n\t\t\t} else if (absDeltaY >= absDeltaX + this.options.directionLockThreshold) {\n\t\t\t\tdeltaX = 0;\n\t\t\t}\n\n\t\t\tdeltaX = this.hasHorizontalScroll ? deltaX : 0;\n\t\t\tdeltaY = this.hasVerticalScroll ? deltaY : 0;\n\t\t\tvar newX = this.x + deltaX;\n\t\t\tvar newY = this.y + deltaY;\n\t\t\t// Slow down if outside of the boundaries\n\t\t\tif (newX > 0 || newX < this.maxScrollX) {\n\t\t\t\tnewX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;\n\t\t\t}\n\t\t\tif (newY > 0 || newY < this.maxScrollY) {\n\t\t\t\tnewY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\n\t\t\t}\n\n\t\t\tif (!this.requestAnimationFrame) {\n\t\t\t\tthis._updateTranslate();\n\t\t\t}\n\t\t\tthis.direction = detail.deltaX > 0 ? 'right' : 'left';\n\t\t\tthis.moved = true;\n\t\t\tthis.x = newX;\n\t\t\tthis.y = newY;\n\t\t\t$.trigger(this.scroller, 'scroll', this);\n\t\t},\n\t\t_flick: function(e) {\n\t\t\t//\t\t\tif (!this.moved || this.needReset) {\n\t\t\t//\t\t\t\treturn;\n\t\t\t//\t\t\t}\n\t\t\tif (!this.moved) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t\tvar detail = e.detail;\n\t\t\tthis._clearRequestAnimationFrame();\n\t\t\tif (e.type === 'dragend' && detail.flick) { //dragend\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar newX = Math.round(this.x);\n\t\t\tvar newY = Math.round(this.y);\n\n\t\t\tthis.isInTransition = false;\n\t\t\t// reset if we are outside of the boundaries\n\t\t\tif (this.resetPosition(this.options.bounceTime)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.scrollTo(newX, newY); // ensures that the last position is rounded\n\n\t\t\tif (e.type === 'dragend') { //dragend\n\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = 0;\n\t\t\tvar easing = '';\n\t\t\t// start momentum animation if needed\n\t\t\tif (this.options.momentum && detail.flickTime < 300) {\n\t\t\t\tmomentumX = this.hasHorizontalScroll ? this._momentum(this.x, detail.flickDistanceX, detail.flickTime, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : {\n\t\t\t\t\tdestination: newX,\n\t\t\t\t\tduration: 0\n\t\t\t\t};\n\t\t\t\tmomentumY = this.hasVerticalScroll ? this._momentum(this.y, detail.flickDistanceY, detail.flickTime, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : {\n\t\t\t\t\tdestination: newY,\n\t\t\t\t\tduration: 0\n\t\t\t\t};\n\t\t\t\tnewX = momentumX.destination;\n\t\t\t\tnewY = momentumY.destination;\n\t\t\t\ttime = Math.max(momentumX.duration, momentumY.duration);\n\t\t\t\tthis.isInTransition = true;\n\t\t\t}\n\n\t\t\tif (newX != this.x || newY != this.y) {\n\t\t\t\tif (newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY) {\n\t\t\t\t\teasing = ease.quadratic;\n\t\t\t\t}\n\t\t\t\tthis.scrollTo(newX, newY, time, easing);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\t\t//\t\t\te.stopPropagation();\n\t\t},\n\t\t_end: function(e) {\n\t\t\tthis.needReset = false;\n\t\t\tif ((!this.moved && this.needReset) || e.type === $.EVENT_CANCEL) {\n\t\t\t\tthis.resetPosition();\n\t\t\t}\n\t\t},\n\t\t_transitionEnd: function(e) {\n\t\t\tif (e.target != this.scroller || !this.isInTransition) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._transitionTime();\n\t\t\tif (!this.resetPosition(this.options.bounceTime)) {\n\t\t\t\tthis.isInTransition = false;\n\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\t\t}\n\t\t},\n\t\t_scrollend: function(e) {\n\t\t\tif ((this.y === 0 && this.maxScrollY === 0) || (Math.abs(this.y) > 0 && this.y <= this.maxScrollY)) {\n\t\t\t\t$.trigger(this.scroller, 'scrollbottom', this);\n\t\t\t}\n\t\t},\n\t\t_resize: function() {\n\t\t\tvar that = this;\n\t\t\tclearTimeout(that.resizeTimeout);\n\t\t\tthat.resizeTimeout = setTimeout(function() {\n\t\t\t\tthat.refresh();\n\t\t\t}, that.options.resizePolling);\n\t\t},\n\t\t_transitionTime: function(time) {\n\t\t\ttime = time || 0;\n\t\t\tthis.scrollerStyle['webkitTransitionDuration'] = time + 'ms';\n\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\n\t\t\t\tthis.parallaxStyle['webkitTransitionDuration'] = time + 'ms';\n\t\t\t}\n\t\t\tif (this.options.fixedBadAndorid && !time && $.os.isBadAndroid) {\n\t\t\t\tthis.scrollerStyle['webkitTransitionDuration'] = '0.001s';\n\t\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\n\t\t\t\t\tthis.parallaxStyle['webkitTransitionDuration'] = '0.001s';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.indicators) {\n\t\t\t\tfor (var i = this.indicators.length; i--;) {\n\t\t\t\t\tthis.indicators[i].transitionTime(time);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (time) { //自定义timer，保证webkitTransitionEnd始终触发\n\t\t\t\tthis.transitionTimer && this.transitionTimer.cancel();\n\t\t\t\tthis.transitionTimer = $.later(function() {\n\t\t\t\t\t$.trigger(this.scroller, 'webkitTransitionEnd');\n\t\t\t\t}, time + 100, this);\n\t\t\t}\n\t\t},\n\t\t_transitionTimingFunction: function(easing) {\n\t\t\tthis.scrollerStyle['webkitTransitionTimingFunction'] = easing;\n\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\n\t\t\t\tthis.parallaxStyle['webkitTransitionDuration'] = easing;\n\t\t\t}\n\t\t\tif (this.indicators) {\n\t\t\t\tfor (var i = this.indicators.length; i--;) {\n\t\t\t\t\tthis.indicators[i].transitionTimingFunction(easing);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_translate: function(x, y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t},\n\t\t_clearRequestAnimationFrame: function() {\n\t\t\tif (this.requestAnimationFrame) {\n\t\t\t\tcancelAnimationFrame(this.requestAnimationFrame);\n\t\t\t\tthis.requestAnimationFrame = null;\n\t\t\t}\n\t\t},\n\t\t_updateTranslate: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.x !== self.lastX || self.y !== self.lastY) {\n\t\t\t\tself.setTranslate(self.x, self.y);\n\t\t\t}\n\t\t\tself.requestAnimationFrame = requestAnimationFrame(function() {\n\t\t\t\tself._updateTranslate();\n\t\t\t});\n\t\t},\n\t\t_createScrollBar: function(clazz) {\n\t\t\tvar scrollbar = document.createElement('div');\n\t\t\tvar indicator = document.createElement('div');\n\t\t\tscrollbar.className = CLASS_SCROLLBAR + ' ' + clazz;\n\t\t\tindicator.className = CLASS_INDICATOR;\n\t\t\tscrollbar.appendChild(indicator);\n\t\t\tif (clazz === CLASS_SCROLLBAR_VERTICAL) {\n\t\t\t\tthis.scrollbarY = scrollbar;\n\t\t\t\tthis.scrollbarIndicatorY = indicator;\n\t\t\t} else if (clazz === CLASS_SCROLLBAR_HORIZONTAL) {\n\t\t\t\tthis.scrollbarX = scrollbar;\n\t\t\t\tthis.scrollbarIndicatorX = indicator;\n\t\t\t}\n\t\t\tthis.wrapper.appendChild(scrollbar);\n\t\t\treturn scrollbar;\n\t\t},\n\t\t_preventDefaultException: function(el, exceptions) {\n\t\t\tfor (var i in exceptions) {\n\t\t\t\tif (exceptions[i].test(el[i])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t_reLayout: function() {\n\t\t\tif (!this.hasHorizontalScroll) {\n\t\t\t\tthis.maxScrollX = 0;\n\t\t\t\tthis.scrollerWidth = this.wrapperWidth;\n\t\t\t}\n\n\t\t\tif (!this.hasVerticalScroll) {\n\t\t\t\tthis.maxScrollY = 0;\n\t\t\t\tthis.scrollerHeight = this.wrapperHeight;\n\t\t\t}\n\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.refresh();\n\t\t\t});\n\n\t\t\t//以防slider类嵌套使用\n\t\t\tif (this.options.snap && typeof this.options.snap === 'string') {\n\t\t\t\tvar items = this.scroller.querySelectorAll(this.options.snap);\n\t\t\t\tthis.itemLength = 0;\n\t\t\t\tthis.snaps = [];\n\t\t\t\tfor (var i = 0, len = items.length; i < len; i++) {\n\t\t\t\t\tvar item = items[i];\n\t\t\t\t\tif (item.parentNode === this.scroller) {\n\t\t\t\t\t\tthis.itemLength++;\n\t\t\t\t\t\tthis.snaps.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._initSnap(); //需要每次都_initSnap么。其实init的时候执行一次，后续resize的时候执行一次就行了吧.先这么做吧，如果影响性能，再调整\n\t\t\t}\n\t\t},\n\t\t_momentum: function(current, distance, time, lowerMargin, wrapperSize, deceleration) {\n\t\t\tvar speed = parseFloat(Math.abs(distance) / time),\n\t\t\t\tdestination,\n\t\t\t\tduration;\n\n\t\t\tdeceleration = deceleration === undefined ? 0.0006 : deceleration;\n\t\t\tdestination = current + (speed * speed) / (2 * deceleration) * (distance < 0 ? -1 : 1);\n\t\t\tduration = speed / deceleration;\n\t\t\tif (destination < lowerMargin) {\n\t\t\t\tdestination = wrapperSize ? lowerMargin - (wrapperSize / 2.5 * (speed / 8)) : lowerMargin;\n\t\t\t\tdistance = Math.abs(destination - current);\n\t\t\t\tduration = distance / speed;\n\t\t\t} else if (destination > 0) {\n\t\t\t\tdestination = wrapperSize ? wrapperSize / 2.5 * (speed / 8) : 0;\n\t\t\t\tdistance = Math.abs(current) + destination;\n\t\t\t\tduration = distance / speed;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdestination: Math.round(destination),\n\t\t\t\tduration: duration\n\t\t\t};\n\t\t},\n\t\t_getTranslateStr: function(x, y) {\n\t\t\tif (this.options.hardwareAccelerated) {\n\t\t\t\treturn 'translate3d(' + x + 'px,' + y + 'px,0px) ' + this.translateZ;\n\t\t\t}\n\t\t\treturn 'translate(' + x + 'px,' + y + 'px) ';\n\t\t},\n\t\t//API\n\t\tsetStopped: function(stopped) {\n\t\t\t// this.stopped = !!stopped;\n\n\t\t\t// fixed ios双webview模式下拉刷新\n\t\t\tif(stopped) {\n\t\t\t\tthis.disablePullupToRefresh();\n\t\t\t\tthis.disablePulldownToRefresh();\n\t\t\t} else {\n\t\t\t\tthis.enablePullupToRefresh();\n\t\t\t\tthis.enablePulldownToRefresh();\n\t\t\t}\n\t\t},\n\t\tsetTranslate: function(x, y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.scrollerStyle['webkitTransform'] = this._getTranslateStr(x, y);\n\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\n\t\t\t\tvar parallaxY = y * this.options.parallaxRatio;\n\t\t\t\tvar scale = 1 + parallaxY / ((this.parallaxHeight - parallaxY) / 2);\n\t\t\t\tif (scale > 1) {\n\t\t\t\t\tthis.parallaxImgStyle['opacity'] = 1 - parallaxY / 100 * this.options.parallaxRatio;\n\t\t\t\t\tthis.parallaxStyle['webkitTransform'] = this._getTranslateStr(0, -parallaxY) + ' scale(' + scale + ',' + scale + ')';\n\t\t\t\t} else {\n\t\t\t\t\tthis.parallaxImgStyle['opacity'] = 1;\n\t\t\t\t\tthis.parallaxStyle['webkitTransform'] = this._getTranslateStr(0, -1) + ' scale(1,1)';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.indicators) {\n\t\t\t\tfor (var i = this.indicators.length; i--;) {\n\t\t\t\t\tthis.indicators[i].updatePosition();\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.lastX = this.x;\n\t\t\tthis.lastY = this.y;\n\t\t\t$.trigger(this.scroller, 'scroll', this);\n\t\t},\n\t\treLayout: function() {\n\t\t\tthis.wrapper.offsetHeight;\n\n\t\t\tvar paddingLeft = parseFloat($.getStyles(this.wrapper, 'padding-left')) || 0;\n\t\t\tvar paddingRight = parseFloat($.getStyles(this.wrapper, 'padding-right')) || 0;\n\t\t\tvar paddingTop = parseFloat($.getStyles(this.wrapper, 'padding-top')) || 0;\n\t\t\tvar paddingBottom = parseFloat($.getStyles(this.wrapper, 'padding-bottom')) || 0;\n\n\t\t\tvar clientWidth = this.wrapper.clientWidth;\n\t\t\tvar clientHeight = this.wrapper.clientHeight;\n\n\t\t\tthis.scrollerWidth = this.scroller.offsetWidth;\n\t\t\tthis.scrollerHeight = this.scroller.offsetHeight;\n\n\t\t\tthis.wrapperWidth = clientWidth - paddingLeft - paddingRight;\n\t\t\tthis.wrapperHeight = clientHeight - paddingTop - paddingBottom;\n\n\t\t\tthis.maxScrollX = Math.min(this.wrapperWidth - this.scrollerWidth, 0);\n\t\t\tthis.maxScrollY = Math.min(this.wrapperHeight - this.scrollerHeight, 0);\n\t\t\tthis.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < 0;\n\t\t\tthis.hasVerticalScroll = this.options.scrollY && this.maxScrollY < 0;\n\t\t\tthis._reLayout();\n\t\t},\n\t\tresetPosition: function(time) {\n\t\t\tvar x = this.x,\n\t\t\t\ty = this.y;\n\n\t\t\ttime = time || 0;\n\t\t\tif (!this.hasHorizontalScroll || this.x > 0) {\n\t\t\t\tx = 0;\n\t\t\t} else if (this.x < this.maxScrollX) {\n\t\t\t\tx = this.maxScrollX;\n\t\t\t}\n\n\t\t\tif (!this.hasVerticalScroll || this.y > 0) {\n\t\t\t\ty = 0;\n\t\t\t} else if (this.y < this.maxScrollY) {\n\t\t\t\ty = this.maxScrollY;\n\t\t\t}\n\n\t\t\tif (x == this.x && y == this.y) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.scrollTo(x, y, time, this.options.scrollEasing);\n\n\t\t\treturn true;\n\t\t},\n\t\t_reInit: function() {\n\t\t\tvar groups = this.wrapper.querySelectorAll('.' + CLASS_SCROLL);\n\t\t\tfor (var i = 0, len = groups.length; i < len; i++) {\n\t\t\t\tif (groups[i].parentNode === this.wrapper) {\n\t\t\t\t\tthis.scroller = groups[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.scrollerStyle = this.scroller && this.scroller.style;\n\t\t},\n\t\trefresh: function() {\n\t\t\tthis._reInit();\n\t\t\tthis.reLayout();\n\t\t\t$.trigger(this.scroller, 'refresh', this);\n\t\t\tthis.resetPosition();\n\t\t},\n\t\tscrollTo: function(x, y, time, easing) {\n\t\t\tvar easing = easing || ease.circular;\n\t\t\t//\t\t\tthis.isInTransition = time > 0 && (this.lastX != x || this.lastY != y);\n\t\t\t//暂不严格判断x,y，否则会导致部分版本上不正常触发轮播\n\t\t\tthis.isInTransition = time > 0;\n\t\t\tif (this.isInTransition) {\n\t\t\t\tthis._clearRequestAnimationFrame();\n\t\t\t\tthis._transitionTimingFunction(easing.style);\n\t\t\t\tthis._transitionTime(time);\n\t\t\t\tthis.setTranslate(x, y);\n\t\t\t} else {\n\t\t\t\tthis.setTranslate(x, y);\n\t\t\t}\n\n\t\t},\n\t\tscrollToBottom: function(time, easing) {\n\t\t\ttime = time || this.options.scrollTime;\n\t\t\tthis.scrollTo(0, this.maxScrollY, time, easing);\n\t\t},\n\t\tgotoPage: function(index) {\n\t\t\tthis._gotoPage(index);\n\t\t},\n\t\tdestroy: function() {\n\t\t\tthis._initEvent(true); //detach\n\t\t\tdelete $.data[this.wrapper.getAttribute('data-scroll')];\n\t\t\tthis.wrapper.setAttribute('data-scroll', '');\n\t\t}\n\t});\n\t//Indicator\n\tvar Indicator = function(scroller, options) {\n\t\tthis.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;\n\t\tthis.wrapperStyle = this.wrapper.style;\n\t\tthis.indicator = this.wrapper.children[0];\n\t\tthis.indicatorStyle = this.indicator.style;\n\t\tthis.scroller = scroller;\n\n\t\tthis.options = $.extend({\n\t\t\tlistenX: true,\n\t\t\tlistenY: true,\n\t\t\tfade: false,\n\t\t\tspeedRatioX: 0,\n\t\t\tspeedRatioY: 0\n\t\t}, options);\n\n\t\tthis.sizeRatioX = 1;\n\t\tthis.sizeRatioY = 1;\n\t\tthis.maxPosX = 0;\n\t\tthis.maxPosY = 0;\n\n\t\tif (this.options.fade) {\n\t\t\tthis.wrapperStyle['webkitTransform'] = this.scroller.translateZ;\n\t\t\tthis.wrapperStyle['webkitTransitionDuration'] = this.options.fixedBadAndorid && $.os.isBadAndroid ? '0.001s' : '0ms';\n\t\t\tthis.wrapperStyle.opacity = '0';\n\t\t}\n\t}\n\tIndicator.prototype = {\n\t\thandleEvent: function(e) {\n\n\t\t},\n\t\ttransitionTime: function(time) {\n\t\t\ttime = time || 0;\n\t\t\tthis.indicatorStyle['webkitTransitionDuration'] = time + 'ms';\n\t\t\tif (this.scroller.options.fixedBadAndorid && !time && $.os.isBadAndroid) {\n\t\t\t\tthis.indicatorStyle['webkitTransitionDuration'] = '0.001s';\n\t\t\t}\n\t\t},\n\t\ttransitionTimingFunction: function(easing) {\n\t\t\tthis.indicatorStyle['webkitTransitionTimingFunction'] = easing;\n\t\t},\n\t\trefresh: function() {\n\t\t\tthis.transitionTime();\n\n\t\t\tif (this.options.listenX && !this.options.listenY) {\n\t\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';\n\t\t\t} else if (this.options.listenY && !this.options.listenX) {\n\t\t\t\tthis.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';\n\t\t\t} else {\n\t\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';\n\t\t\t}\n\n\t\t\tthis.wrapper.offsetHeight; // force refresh\n\n\t\t\tif (this.options.listenX) {\n\t\t\t\tthis.wrapperWidth = this.wrapper.clientWidth;\n\t\t\t\tthis.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);\n\t\t\t\tthis.indicatorStyle.width = this.indicatorWidth + 'px';\n\n\t\t\t\tthis.maxPosX = this.wrapperWidth - this.indicatorWidth;\n\n\t\t\t\tthis.minBoundaryX = 0;\n\t\t\t\tthis.maxBoundaryX = this.maxPosX;\n\n\t\t\t\tthis.sizeRatioX = this.options.speedRatioX || (this.scroller.maxScrollX && (this.maxPosX / this.scroller.maxScrollX));\n\t\t\t}\n\n\t\t\tif (this.options.listenY) {\n\t\t\t\tthis.wrapperHeight = this.wrapper.clientHeight;\n\t\t\t\tthis.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);\n\t\t\t\tthis.indicatorStyle.height = this.indicatorHeight + 'px';\n\n\t\t\t\tthis.maxPosY = this.wrapperHeight - this.indicatorHeight;\n\n\t\t\t\tthis.minBoundaryY = 0;\n\t\t\t\tthis.maxBoundaryY = this.maxPosY;\n\n\t\t\t\tthis.sizeRatioY = this.options.speedRatioY || (this.scroller.maxScrollY && (this.maxPosY / this.scroller.maxScrollY));\n\t\t\t}\n\n\t\t\tthis.updatePosition();\n\t\t},\n\n\t\tupdatePosition: function() {\n\t\t\tvar x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,\n\t\t\t\ty = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;\n\n\t\t\tif (x < this.minBoundaryX) {\n\t\t\t\tthis.width = Math.max(this.indicatorWidth + x, 8);\n\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t\tx = this.minBoundaryX;\n\t\t\t} else if (x > this.maxBoundaryX) {\n\t\t\t\tthis.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);\n\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t\tx = this.maxPosX + this.indicatorWidth - this.width;\n\t\t\t} else if (this.width != this.indicatorWidth) {\n\t\t\t\tthis.width = this.indicatorWidth;\n\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t}\n\n\t\t\tif (y < this.minBoundaryY) {\n\t\t\t\tthis.height = Math.max(this.indicatorHeight + y * 3, 8);\n\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t\ty = this.minBoundaryY;\n\t\t\t} else if (y > this.maxBoundaryY) {\n\t\t\t\tthis.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);\n\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t\ty = this.maxPosY + this.indicatorHeight - this.height;\n\t\t\t} else if (this.height != this.indicatorHeight) {\n\t\t\t\tthis.height = this.indicatorHeight;\n\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t}\n\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\n\t\t\tthis.indicatorStyle['webkitTransform'] = this.scroller._getTranslateStr(x, y);\n\n\t\t},\n\t\tfade: function(val, hold) {\n\t\t\tif (hold && !this.visible) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(this.fadeTimeout);\n\t\t\tthis.fadeTimeout = null;\n\n\t\t\tvar time = val ? 250 : 500,\n\t\t\t\tdelay = val ? 0 : 300;\n\n\t\t\tval = val ? '1' : '0';\n\n\t\t\tthis.wrapperStyle['webkitTransitionDuration'] = time + 'ms';\n\n\t\t\tthis.fadeTimeout = setTimeout((function(val) {\n\t\t\t\tthis.wrapperStyle.opacity = val;\n\t\t\t\tthis.visible = +val;\n\t\t\t}).bind(this, val), delay);\n\t\t}\n\t};\n\n\t$.Scroll = Scroll;\n\n\t$.fn.scroll = function(options) {\n\t\tvar scrollApis = [];\n\t\tthis.each(function() {\n\t\t\tvar scrollApi = null;\n\t\t\tvar self = this;\n\t\t\tvar id = self.getAttribute('data-scroll');\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\tvar _options = $.extend({}, options);\n\t\t\t\tif (self.classList.contains('mui-segmented-control')) {\n\t\t\t\t\t_options = $.extend(_options, {\n\t\t\t\t\t\tscrollY: false,\n\t\t\t\t\t\tscrollX: true,\n\t\t\t\t\t\tindicators: false,\n\t\t\t\t\t\tsnap: '.mui-control-item'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t$.data[id] = scrollApi = new Scroll(self, _options);\n\t\t\t\tself.setAttribute('data-scroll', id);\n\t\t\t} else {\n\t\t\t\tscrollApi = $.data[id];\n\t\t\t}\n\t\t\tscrollApis.push(scrollApi);\n\t\t});\n\t\treturn scrollApis.length === 1 ? scrollApis[0] : scrollApis;\n\t};\n})(mui, window, document);\n(function($, window, document, undefined) {\n\n    var CLASS_VISIBILITY = 'mui-visibility';\n    var CLASS_HIDDEN = 'mui-hidden';\n\n    var PullRefresh = $.Scroll.extend($.extend({\n        handleEvent: function(e) {\n            this._super(e);\n            if (e.type === 'scrollbottom') {\n                if (e.target === this.scroller) {\n                    this._scrollbottom();\n                }\n            }\n        },\n        _scrollbottom: function() {\n            if (!this.pulldown && !this.loading) {\n                this.pulldown = false;\n                this._initPullupRefresh();\n                this.pullupLoading();\n            }\n        },\n        _start: function(e) {\n            //仅下拉刷新在start阻止默认事件\n            if (e.touches && e.touches.length && e.touches[0].clientX > 30) {\n                e.target && !this._preventDefaultException(e.target, this.options.preventDefaultException) && e.preventDefault();\n            }\n            if (!this.loading) {\n                this.pulldown = this.pullPocket = this.pullCaption = this.pullLoading = false\n            }\n            this._super(e);\n        },\n        _drag: function(e) {\n            if (this.y >= 0 && this.disablePulldown && e.detail.direction === 'down') { //禁用下拉刷新\n                return;\n            }\n            this._super(e);\n            if (!this.pulldown && !this.loading && this.topPocket && e.detail.direction === 'down' && this.y >= 0) {\n                this._initPulldownRefresh();\n            }\n            if (this.pulldown) {\n                this._setCaption(this.y > this.options.down.height ? this.options.down.contentover : this.options.down.contentdown);\n            }\n        },\n\n        _reLayout: function() {\n            this.hasVerticalScroll = true;\n            this._super();\n        },\n        //API\n        resetPosition: function(time) {\n            if (this.pulldown && !this.disablePulldown) {\n                if (this.y >= this.options.down.height) {\n                    this.pulldownLoading(undefined, time || 0);\n                    return true;\n                } else {\n                    !this.loading && this.topPocket.classList.remove(CLASS_VISIBILITY);\n                }\n            }\n            return this._super(time);\n        },\n        pulldownLoading: function(y, time) {\n            typeof y === 'undefined' && (y = this.options.down.height); //默认高度\n            this.scrollTo(0, y, time, this.options.bounceEasing);\n            if (this.loading) {\n                return;\n            }\n            //\t\t\tif (!this.pulldown) {\n            this._initPulldownRefresh();\n            //\t\t\t}\n            this._setCaption(this.options.down.contentrefresh);\n            this.loading = true;\n            this.indicators.map(function(indicator) {\n                indicator.fade(0);\n            });\n            var callback = this.options.down.callback;\n            callback && callback.call(this);\n        },\n        endPulldownToRefresh: function() {\n            var self = this;\n            if (self.topPocket && self.loading && this.pulldown) {\n                self.scrollTo(0, 0, self.options.bounceTime, self.options.bounceEasing);\n                self.loading = false;\n                self._setCaption(self.options.down.contentdown, true);\n                setTimeout(function() {\n                    self.loading || self.topPocket.classList.remove(CLASS_VISIBILITY);\n                }, 350);\n            }\n        },\n        pullupLoading: function(callback, x, time) {\n            x = x || 0;\n            this.scrollTo(x, this.maxScrollY, time, this.options.bounceEasing);\n            if (this.loading) {\n                return;\n            }\n            this._initPullupRefresh();\n            this._setCaption(this.options.up.contentrefresh);\n            this.indicators.map(function(indicator) {\n                indicator.fade(0);\n            });\n            this.loading = true;\n            callback = callback || this.options.up.callback;\n            callback && callback.call(this);\n        },\n        endPullupToRefresh: function(finished) {\n            var self = this;\n            if (self.bottomPocket) { // && self.loading && !this.pulldown\n                self.loading = false;\n                if (finished) {\n                    this.finished = true;\n                    self._setCaption(self.options.up.contentnomore);\n                    //\t\t\t\t\tself.bottomPocket.classList.remove(CLASS_VISIBILITY);\n                    //\t\t\t\t\tself.bottomPocket.classList.add(CLASS_HIDDEN);\n                    self.wrapper.removeEventListener('scrollbottom', self);\n                } else {\n                    self._setCaption(self.options.up.contentdown);\n                    //\t\t\t\t\tsetTimeout(function() {\n                    self.loading || self.bottomPocket.classList.remove(CLASS_VISIBILITY);\n                    //\t\t\t\t\t}, 300);\n                }\n            }\n        },\n        disablePullupToRefresh: function() {\n            this._initPullupRefresh();\n            this.bottomPocket.className = 'mui-pull-bottom-pocket' + ' ' + CLASS_HIDDEN;\n            this.wrapper.removeEventListener('scrollbottom', this);\n        },\n        disablePulldownToRefresh: function() {\n            this._initPulldownRefresh();\n            this.topPocket.className = 'mui-pull-top-pocket' + ' ' + CLASS_HIDDEN;\n            this.disablePulldown = true;\n        },\n        enablePulldownToRefresh: function() {\n            this._initPulldownRefresh();\n            this.topPocket.classList.remove(CLASS_HIDDEN);\n            this._setCaption(this.options.down.contentdown);\n            this.disablePulldown = false;\n        },\n        enablePullupToRefresh: function() {\n            this._initPullupRefresh();\n            this.bottomPocket.classList.remove(CLASS_HIDDEN);\n            this._setCaption(this.options.up.contentdown);\n            this.wrapper.addEventListener('scrollbottom', this);\n        },\n        refresh: function(isReset) {\n            if (isReset && this.finished) {\n                this.enablePullupToRefresh();\n                this.finished = false;\n            }\n            this._super();\n        },\n    }, $.PullRefresh));\n    $.fn.pullRefresh = function(options) {\n        if (this.length === 1) {\n            var self = this[0];\n            var pullRefreshApi = null;\n            var id = self.getAttribute('data-pullrefresh');\n            if (!id && typeof options === 'undefined') {\n                return false;\n            }\n            options = options || {};\n            if (!id) {\n                id = ++$.uuid;\n                $.data[id] = pullRefreshApi = new PullRefresh(self, options);\n                self.setAttribute('data-pullrefresh', id);\n            } else {\n                pullRefreshApi = $.data[id];\n            }\n            if (options.down && options.down.auto) { //如果设置了auto，则自动下拉一次\n                pullRefreshApi.pulldownLoading(options.down.autoY);\n            } else if (options.up && options.up.auto) { //如果设置了auto，则自动上拉一次\n                pullRefreshApi.pullupLoading();\n            }\n            //暂不提供这种调用方式吧\t\t\t\n            //\t\t\tif (typeof options === 'string') {\n            //\t\t\t\tvar methodValue = pullRefreshApi[options].apply(pullRefreshApi, $.slice.call(arguments, 1));\n            //\t\t\t\tif (methodValue !== undefined) {\n            //\t\t\t\t\treturn methodValue;\n            //\t\t\t\t}\n            //\t\t\t}\n            return pullRefreshApi;\n        }\n    };\n})(mui, window, document);\n/**\n * snap 重构\n * @param {Object} $\n * @param {Object} window\n */\n(function($, window) {\n\tvar CLASS_SLIDER = 'mui-slider';\n\tvar CLASS_SLIDER_GROUP = 'mui-slider-group';\n\tvar CLASS_SLIDER_LOOP = 'mui-slider-loop';\n\tvar CLASS_SLIDER_INDICATOR = 'mui-slider-indicator';\n\tvar CLASS_ACTION_PREVIOUS = 'mui-action-previous';\n\tvar CLASS_ACTION_NEXT = 'mui-action-next';\n\tvar CLASS_SLIDER_ITEM = 'mui-slider-item';\n\n\tvar CLASS_ACTIVE = 'mui-active';\n\n\tvar SELECTOR_SLIDER_ITEM = '.' + CLASS_SLIDER_ITEM;\n\tvar SELECTOR_SLIDER_INDICATOR = '.' + CLASS_SLIDER_INDICATOR;\n\tvar SELECTOR_SLIDER_PROGRESS_BAR = '.mui-slider-progress-bar';\n\n\tvar Slider = $.Slider = $.Scroll.extend({\n\t\tinit: function(element, options) {\n\t\t\tthis._super(element, $.extend(true, {\n\t\t\t\tfingers: 1,\n\t\t\t\tinterval: 0, //设置为0，则不定时轮播\n\t\t\t\tscrollY: false,\n\t\t\t\tscrollX: true,\n\t\t\t\tindicators: false,\n\t\t\t\tscrollTime: 1000,\n\t\t\t\tstartX: false,\n\t\t\t\tslideTime: 0, //滑动动画时间\n\t\t\t\tsnap: SELECTOR_SLIDER_ITEM\n\t\t\t}, options));\n\t\t\tif (this.options.startX) {\n\t\t\t\t//\t\t\t\t$.trigger(this.wrapper, 'scrollend', this);\n\t\t\t}\n\t\t},\n\t\t_init: function() {\n\t\t\tthis._reInit();\n\t\t\tif (this.scroller) {\n\t\t\t\tthis.scrollerStyle = this.scroller.style;\n\t\t\t\tthis.progressBar = this.wrapper.querySelector(SELECTOR_SLIDER_PROGRESS_BAR);\n\t\t\t\tif (this.progressBar) {\n\t\t\t\t\tthis.progressBarWidth = this.progressBar.offsetWidth;\n\t\t\t\t\tthis.progressBarStyle = this.progressBar.style;\n\t\t\t\t}\n\t\t\t\t//忘记这个代码是干什么的了？\n\t\t\t\t//\t\t\t\tthis.x = this._getScroll();\n\t\t\t\t//\t\t\t\tif (this.options.startX === false) {\n\t\t\t\t//\t\t\t\t\tthis.options.startX = this.x;\n\t\t\t\t//\t\t\t\t}\n\t\t\t\t//根据active修正startX\n\n\t\t\t\tthis._super();\n\t\t\t\tthis._initTimer();\n\t\t\t}\n\t\t},\n\t\t_triggerSlide: function() {\n\t\t\tvar self = this;\n\t\t\tself.isInTransition = false;\n\t\t\tvar page = self.currentPage;\n\t\t\tself.slideNumber = self._fixedSlideNumber();\n\t\t\tif (self.loop) {\n\t\t\t\tif (self.slideNumber === 0) {\n\t\t\t\t\tself.setTranslate(self.pages[1][0].x, 0);\n\t\t\t\t} else if (self.slideNumber === self.itemLength - 3) {\n\t\t\t\t\tself.setTranslate(self.pages[self.itemLength - 2][0].x, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (self.lastSlideNumber != self.slideNumber) {\n\t\t\t\tself.lastSlideNumber = self.slideNumber;\n\t\t\t\tself.lastPage = self.currentPage;\n\t\t\t\t$.trigger(self.wrapper, 'slide', {\n\t\t\t\t\tslideNumber: self.slideNumber\n\t\t\t\t});\n\t\t\t}\n\t\t\tself._initTimer();\n\t\t},\n\t\t_handleSlide: function(e) {\n\t\t\tvar self = this;\n\t\t\tif (e.target !== self.wrapper) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar detail = e.detail;\n\t\t\tdetail.slideNumber = detail.slideNumber || 0;\n\t\t\tvar temps = self.scroller.querySelectorAll(SELECTOR_SLIDER_ITEM);\n\t\t\tvar items = [];\n\t\t\tfor (var i = 0, len = temps.length; i < len; i++) {\n\t\t\t\tvar item = temps[i];\n\t\t\t\tif (item.parentNode === self.scroller) {\n\t\t\t\t\titems.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar _slideNumber = detail.slideNumber;\n\t\t\tif (self.loop) {\n\t\t\t\t_slideNumber += 1;\n\t\t\t}\n\t\t\tif (!self.wrapper.classList.contains('mui-segmented-control')) {\n\t\t\t\tfor (var i = 0, len = items.length; i < len; i++) {\n\t\t\t\t\tvar item = items[i];\n\t\t\t\t\tif (item.parentNode === self.scroller) {\n\t\t\t\t\t\tif (i === _slideNumber) {\n\t\t\t\t\t\t\titem.classList.add(CLASS_ACTIVE);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.classList.remove(CLASS_ACTIVE);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar indicatorWrap = self.wrapper.querySelector('.mui-slider-indicator');\n\t\t\tif (indicatorWrap) {\n\t\t\t\tif (indicatorWrap.getAttribute('data-scroll')) { //scroll\n\t\t\t\t\t$(indicatorWrap).scroll().gotoPage(detail.slideNumber);\n\t\t\t\t}\n\t\t\t\tvar indicators = indicatorWrap.querySelectorAll('.mui-indicator');\n\t\t\t\tif (indicators.length > 0) { //图片轮播\n\t\t\t\t\tfor (var i = 0, len = indicators.length; i < len; i++) {\n\t\t\t\t\t\tindicators[i].classList[i === detail.slideNumber ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar number = indicatorWrap.querySelector('.mui-number span');\n\t\t\t\t\tif (number) { //图文表格\n\t\t\t\t\t\tnumber.innerText = (detail.slideNumber + 1);\n\t\t\t\t\t} else { //segmented controls\n\t\t\t\t\t\tvar controlItems = indicatorWrap.querySelectorAll('.mui-control-item');\n\t\t\t\t\t\tfor (var i = 0, len = controlItems.length; i < len; i++) {\n\t\t\t\t\t\t\tcontrolItems[i].classList[i === detail.slideNumber ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t},\n\t\t_handleTabShow: function(e) {\n\t\t\tvar self = this;\n\t\t\tself.gotoItem((e.detail.tabNumber || 0), self.options.slideTime);\n\t\t},\n\t\t_handleIndicatorTap: function(event) {\n\t\t\tvar self = this;\n\t\t\tvar target = event.target;\n\t\t\tif (target.classList.contains(CLASS_ACTION_PREVIOUS) || target.classList.contains(CLASS_ACTION_NEXT)) {\n\t\t\t\tself[target.classList.contains(CLASS_ACTION_PREVIOUS) ? 'prevItem' : 'nextItem']();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\t_initEvent: function(detach) {\n\t\t\tvar self = this;\n\t\t\tself._super(detach);\n\t\t\tvar action = detach ? 'removeEventListener' : 'addEventListener';\n\t\t\tself.wrapper[action]('slide', this);\n\t\t\tself.wrapper[action]($.eventName('shown', 'tab'), this);\n\t\t},\n\t\thandleEvent: function(e) {\n\t\t\tthis._super(e);\n\t\t\tswitch (e.type) {\n\t\t\t\tcase 'slide':\n\t\t\t\t\tthis._handleSlide(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.eventName('shown', 'tab'):\n\t\t\t\t\tif (~this.snaps.indexOf(e.target)) { //避免嵌套监听错误的tab show\n\t\t\t\t\t\tthis._handleTabShow(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t_scrollend: function(e) {\n\t\t\tthis._super(e);\n\t\t\tthis._triggerSlide(e);\n\t\t},\n\t\t_drag: function(e) {\n\t\t\tthis._super(e);\n\t\t\tvar direction = e.detail.direction;\n\t\t\tif (direction === 'left' || direction === 'right') {\n\t\t\t\t//拖拽期间取消定时\n\t\t\t\tvar slidershowTimer = this.wrapper.getAttribute('data-slidershowTimer');\n\t\t\t\tslidershowTimer && window.clearTimeout(slidershowTimer);\n\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t},\n\t\t_initTimer: function() {\n\t\t\tvar self = this;\n\t\t\tvar slider = self.wrapper;\n\t\t\tvar interval = self.options.interval;\n\t\t\tvar slidershowTimer = slider.getAttribute('data-slidershowTimer');\n\t\t\tslidershowTimer && window.clearTimeout(slidershowTimer);\n\t\t\tif (interval) {\n\t\t\t\tslidershowTimer = window.setTimeout(function() {\n\t\t\t\t\tif (!slider) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t//仅slider显示状态进行自动轮播\n\t\t\t\t\tif (!!(slider.offsetWidth || slider.offsetHeight)) {\n\t\t\t\t\t\tself.nextItem(true);\n\t\t\t\t\t\t//下一个\n\t\t\t\t\t}\n\t\t\t\t\tself._initTimer();\n\t\t\t\t}, interval);\n\t\t\t\tslider.setAttribute('data-slidershowTimer', slidershowTimer);\n\t\t\t}\n\t\t},\n\n\t\t_fixedSlideNumber: function(page) {\n\t\t\tpage = page || this.currentPage;\n\t\t\tvar slideNumber = page.pageX;\n\t\t\tif (this.loop) {\n\t\t\t\tif (page.pageX === 0) {\n\t\t\t\t\tslideNumber = this.itemLength - 3;\n\t\t\t\t} else if (page.pageX === (this.itemLength - 1)) {\n\t\t\t\t\tslideNumber = 0;\n\t\t\t\t} else {\n\t\t\t\t\tslideNumber = page.pageX - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn slideNumber;\n\t\t},\n\t\t_reLayout: function() {\n\t\t\tthis.hasHorizontalScroll = true;\n\t\t\tthis.loop = this.scroller.classList.contains(CLASS_SLIDER_LOOP);\n\t\t\tthis._super();\n\t\t},\n\t\t_getScroll: function() {\n\t\t\tvar result = $.parseTranslateMatrix($.getStyles(this.scroller, 'webkitTransform'));\n\t\t\treturn result ? result.x : 0;\n\t\t},\n\t\t_transitionEnd: function(e) {\n\t\t\tif (e.target !== this.scroller || !this.isInTransition) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._transitionTime();\n\t\t\tthis.isInTransition = false;\n\t\t\t$.trigger(this.wrapper, 'scrollend', this);\n\t\t},\n\t\t_flick: function(e) {\n\t\t\tif (!this.moved) { //无moved\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar detail = e.detail;\n\t\t\tvar direction = detail.direction;\n\t\t\tthis._clearRequestAnimationFrame();\n\t\t\tthis.isInTransition = true;\n\t\t\t//\t\t\tif (direction === 'up' || direction === 'down') {\n\t\t\t//\t\t\t\tthis.resetPosition(this.options.bounceTime);\n\t\t\t//\t\t\t\treturn;\n\t\t\t//\t\t\t}\n\t\t\tif (e.type === 'flick') {\n\t\t\t\tif (detail.deltaTime < 200) { //flick，太容易触发，额外校验一下deltaTime\n\t\t\t\t\tthis.x = this._getPage((this.slideNumber + (direction === 'right' ? -1 : 1)), true).x;\n\t\t\t\t}\n\t\t\t\tthis.resetPosition(this.options.bounceTime);\n\t\t\t} else if (e.type === 'dragend' && !detail.flick) {\n\t\t\t\tthis.resetPosition(this.options.bounceTime);\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t},\n\t\t_initSnap: function() {\n\t\t\tthis.scrollerWidth = this.itemLength * this.scrollerWidth;\n\t\t\tthis.maxScrollX = Math.min(this.wrapperWidth - this.scrollerWidth, 0);\n\t\t\tthis._super();\n\t\t\tif (!this.currentPage.x) {\n\t\t\t\t//当slider处于隐藏状态时，导致snap计算是错误的，临时先这么判断一下，后续要考虑解决所有scroll在隐藏状态下初始化属性不正确的问题\n\t\t\t\tvar currentPage = this.pages[this.loop ? 1 : 0];\n\t\t\t\tcurrentPage = currentPage || this.pages[0];\n\t\t\t\tif (!currentPage) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.currentPage = currentPage[0];\n\t\t\t\tthis.slideNumber = 0;\n\t\t\t\tthis.lastSlideNumber = typeof this.lastSlideNumber === 'undefined' ? 0 : this.lastSlideNumber;\n\t\t\t} else {\n\t\t\t\tthis.slideNumber = this._fixedSlideNumber();\n\t\t\t\tthis.lastSlideNumber = typeof this.lastSlideNumber === 'undefined' ? this.slideNumber : this.lastSlideNumber;\n\t\t\t}\n\t\t\tthis.options.startX = this.currentPage.x || 0;\n\t\t},\n\t\t_getSnapX: function(offsetLeft) {\n\t\t\treturn Math.max(-offsetLeft, this.maxScrollX);\n\t\t},\n\t\t_getPage: function(slideNumber, isFlick) {\n\t\t\tif (this.loop) {\n\t\t\t\tif (slideNumber > (this.itemLength - (isFlick ? 2 : 3))) {\n\t\t\t\t\tslideNumber = 1;\n\t\t\t\t\ttime = 0;\n\t\t\t\t} else if (slideNumber < (isFlick ? -1 : 0)) {\n\t\t\t\t\tslideNumber = this.itemLength - 2;\n\t\t\t\t\ttime = 0;\n\t\t\t\t} else {\n\t\t\t\t\tslideNumber += 1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!isFlick) {\n\t\t\t\t\tif (slideNumber > (this.itemLength - 1)) {\n\t\t\t\t\t\tslideNumber = 0;\n\t\t\t\t\t\ttime = 0;\n\t\t\t\t\t} else if (slideNumber < 0) {\n\t\t\t\t\t\tslideNumber = this.itemLength - 1;\n\t\t\t\t\t\ttime = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tslideNumber = Math.min(Math.max(0, slideNumber), this.itemLength - 1);\n\t\t\t}\n\t\t\treturn this.pages[slideNumber][0];\n\t\t},\n\t\t_gotoItem: function(slideNumber, time) {\n\t\t\tthis.currentPage = this._getPage(slideNumber, true); //此处传true。可保证程序切换时，动画与人手操作一致(第一张，最后一张的切换动画)\n\t\t\tthis.scrollTo(this.currentPage.x, 0, time, this.options.scrollEasing);\n\t\t\tif (time === 0) {\n\t\t\t\t$.trigger(this.wrapper, 'scrollend', this);\n\t\t\t}\n\t\t},\n\t\t//API\n\t\tsetTranslate: function(x, y) {\n\t\t\tthis._super(x, y);\n\t\t\tvar progressBar = this.progressBar;\n\t\t\tif (progressBar) {\n\t\t\t\tthis.progressBarStyle.webkitTransform = this._getTranslateStr((-x * (this.progressBarWidth / this.wrapperWidth)), 0);\n\t\t\t}\n\t\t},\n\t\tresetPosition: function(time) {\n\t\t\ttime = time || 0;\n\t\t\tif (this.x > 0) {\n\t\t\t\tthis.x = 0;\n\t\t\t} else if (this.x < this.maxScrollX) {\n\t\t\t\tthis.x = this.maxScrollX;\n\t\t\t}\n\t\t\tthis.currentPage = this._nearestSnap(this.x);\n\t\t\tthis.scrollTo(this.currentPage.x, 0, time, this.options.scrollEasing);\n\t\t\treturn true;\n\t\t},\n\t\tgotoItem: function(slideNumber, time) {\n\t\t\tthis._gotoItem(slideNumber, typeof time === 'undefined' ? this.options.scrollTime : time);\n\t\t},\n\t\tnextItem: function() {\n\t\t\tthis._gotoItem(this.slideNumber + 1, this.options.scrollTime);\n\t\t},\n\t\tprevItem: function() {\n\t\t\tthis._gotoItem(this.slideNumber - 1, this.options.scrollTime);\n\t\t},\n\t\tgetSlideNumber: function() {\n\t\t\treturn this.slideNumber || 0;\n\t\t},\n\t\t_reInit: function() {\n\t\t\tvar groups = this.wrapper.querySelectorAll('.' + CLASS_SLIDER_GROUP);\n\t\t\tfor (var i = 0, len = groups.length; i < len; i++) {\n\t\t\t\tif (groups[i].parentNode === this.wrapper) {\n\t\t\t\t\tthis.scroller = groups[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.scrollerStyle = this.scroller && this.scroller.style;\n\t\t\tif (this.progressBar) {\n\t\t\t\tthis.progressBarWidth = this.progressBar.offsetWidth;\n\t\t\t\tthis.progressBarStyle = this.progressBar.style;\n\t\t\t}\n\t\t},\n\t\trefresh: function(options) {\n\t\t\tif (options) {\n\t\t\t\t$.extend(this.options, options);\n\t\t\t\tthis._super();\n\t\t\t\tthis._initTimer();\n\t\t\t} else {\n\t\t\t\tthis._super();\n\t\t\t}\n\t\t},\n\t\tdestroy: function() {\n\t\t\tthis._initEvent(true); //detach\n\t\t\tdelete $.data[this.wrapper.getAttribute('data-slider')];\n\t\t\tthis.wrapper.setAttribute('data-slider', '');\n\t\t}\n\t});\n\t$.fn.slider = function(options) {\n\t\tvar slider = null;\n\t\tthis.each(function() {\n\t\t\tvar sliderElement = this;\n\t\t\tif (!this.classList.contains(CLASS_SLIDER)) {\n\t\t\t\tsliderElement = this.querySelector('.' + CLASS_SLIDER);\n\t\t\t}\n\t\t\tif (sliderElement && sliderElement.querySelector(SELECTOR_SLIDER_ITEM)) {\n\t\t\t\tvar id = sliderElement.getAttribute('data-slider');\n\t\t\t\tif (!id) {\n\t\t\t\t\tid = ++$.uuid;\n\t\t\t\t\t$.data[id] = slider = new Slider(sliderElement, options);\n\t\t\t\t\tsliderElement.setAttribute('data-slider', id);\n\t\t\t\t} else {\n\t\t\t\t\tslider = $.data[id];\n\t\t\t\t\tif (slider && options) {\n\t\t\t\t\t\tslider.refresh(options);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn slider;\n\t};\n\t$.ready(function() {\n\t\t//\t\tsetTimeout(function() {\n\t\t$('.mui-slider').slider();\n\t\t$('.mui-scroll-wrapper.mui-slider-indicator.mui-segmented-control').scroll({\n\t\t\tscrollY: false,\n\t\t\tscrollX: true,\n\t\t\tindicators: false,\n\t\t\tsnap: '.mui-control-item'\n\t\t});\n\t\t//\t\t}, 500); //临时处理slider宽度计算不正确的问题(初步确认是scrollbar导致的)\n\n\t});\n})(mui, window);\n/**\n * pullRefresh 5+\n * @param {type} $\n * @returns {undefined}\n */\n(function($, document) {\n    if (!($.os.plus)) { //仅在5+android支持多webview的使用\n        return;\n    }\n    $.plusReady(function() {\n        if (window.__NWin_Enable__ === false) { //不支持多webview，则不用5+下拉刷新\n            return;\n        }\n        var CLASS_PLUS_PULLREFRESH = 'mui-plus-pullrefresh';\n        var CLASS_VISIBILITY = 'mui-visibility';\n        var CLASS_HIDDEN = 'mui-hidden';\n        var CLASS_BLOCK = 'mui-block';\n\n        var CLASS_PULL_CAPTION = 'mui-pull-caption';\n        var CLASS_PULL_CAPTION_DOWN = 'mui-pull-caption-down';\n        var CLASS_PULL_CAPTION_REFRESH = 'mui-pull-caption-refresh';\n        var CLASS_PULL_CAPTION_NOMORE = 'mui-pull-caption-nomore';\n\n        var PlusPullRefresh = $.Class.extend({\n            init: function(element, options) {\n                this.element = element;\n                this.options = options;\n                this.wrapper = this.scroller = element;\n                this._init();\n                this._initPulldownRefreshEvent();\n            },\n            _init: function() {\n                var self = this;\n                //document.addEventListener('plusscrollbottom', this);\n                window.addEventListener('dragup', self);\n                document.addEventListener(\"plusscrollbottom\", self);\n                self.scrollInterval = window.setInterval(function() {\n                    if (self.isScroll && !self.loading) {\n                        if (window.pageYOffset + window.innerHeight + 10 >= document.documentElement.scrollHeight) {\n                            self.isScroll = false; //放在这里是因为快速滚动的话，有可能检测时，还没到底，所以只要有滚动，没到底之前一直检测高度变化\n                            if (self.bottomPocket) {\n                                self.pullupLoading();\n                            }\n                        }\n                    }\n                }, 100);\n            },\n            _initPulldownRefreshEvent: function() {\n                var self = this;\n                $.plusReady(function() {\n                    if (self.options.down.style == \"circle\") {\n                        //单webview、原生转圈\n                        self.options.webview = plus.webview.currentWebview();\n                        self.options.webview.setPullToRefresh({\n                            support: true,\n                            color: self.options.down.color || '#2BD009',\n                            height: self.options.down.height || '50px',\n                            range: self.options.down.range || '100px',\n                            style: 'circle',\n                            offset: self.options.down.offset || '0px'\n                        }, function() {\n                            self.options.down.callback();\n                        });\n                    } else if (self.topPocket && self.options.webviewId) {\n                        var webview = plus.webview.getWebviewById(self.options.webviewId); //子窗口\n                        if (!webview) {\n                            return;\n                        }\n                        self.options.webview = webview;\n                        var downOptions = self.options.down;\n                        var height = downOptions.height;\n                        webview.addEventListener('close', function() {\n                            var attrWebviewId = self.options.webviewId && self.options.webviewId.replace(/\\//g, \"_\"); //替换所有\"/\" \n                            self.element.removeAttribute('data-pullrefresh-plus-' + attrWebviewId);\n                        });\n                        webview.addEventListener(\"dragBounce\", function(e) {\n                            if (!self.pulldown) {\n                                self._initPulldownRefresh();\n                            } else {\n                                self.pullPocket.classList.add(CLASS_BLOCK);\n                            }\n                            switch (e.status) {\n                                case \"beforeChangeOffset\": //下拉可刷新状态\n                                    self._setCaption(downOptions.contentdown);\n                                    break;\n                                case \"afterChangeOffset\": //松开可刷新状态\n                                    self._setCaption(downOptions.contentover);\n                                    break;\n                                case \"dragEndAfterChangeOffset\": //正在刷新状态\n                                    //执行下拉刷新所在webview的回调函数\n                                    webview.evalJS(\"window.mui&&mui.options.pullRefresh.down.callback()\");\n                                    self._setCaption(downOptions.contentrefresh);\n                                    break;\n                                default:\n                                    break;\n                            }\n                        }, false);\n\n                        webview.setBounce({\n                            position: {\n                                top: height * 2 + 'px'\n                            },\n                            changeoffset: {\n                                top: height + 'px'\n                            }\n                        });\n\n                    }\n                });\n            },\n            handleEvent: function(e) {\n                var self = this;\n                if (self.stopped) {\n                    return;\n                }\n                self.isScroll = false;\n                if (e.type === 'dragup' || e.type === 'plusscrollbottom') {\n                    self.isScroll = true;\n                    setTimeout(function() {\n                        self.isScroll = false;\n                    }, 1000);\n                }\n            }\n        }).extend($.extend({\n            setStopped: function(stopped) { //该方法是子页面调用的\n                this.stopped = !!stopped;\n                // TODO 此处需要设置当前webview的bounce为none,目前5+有BUG\n                if (this.stopped) {\n                    this.disablePullupToRefresh();\n                    this.disablePulldownToRefresh();\n                } else {\n                    this.enablePullupToRefresh();\n                    this.enablePulldownToRefresh();\n                }\n            },\n            beginPulldown: function() {\n                var self = this;\n                $.plusReady(function() {\n                    //这里延时的目的是为了保证下拉刷新组件初始化完成，后续应该做成有状态的\n                    setTimeout(function() {\n                        if (self.options.down.style == \"circle\") { //单webview下拉刷新\n                            plus.webview.currentWebview().beginPullToRefresh();\n                        } else { //双webview模式\n                            var webview = self.options.webview;\n                            if (webview) {\n                                webview.setBounce({\n                                    offset: {\n                                        top: self.options.down.height + \"px\"\n                                    }\n                                });\n                            }\n                        }\n                    }, 15);\n                }.bind(this));\n            },\n            pulldownLoading: function() { //该方法是子页面调用的，兼容老的历史API\n                this.beginPulldown();\n            },\n            _pulldownLoading: function() { //该方法是父页面调用的\n                var self = this;\n                $.plusReady(function() {\n                    var childWebview = plus.webview.getWebviewById(self.options.webviewId);\n                    childWebview && childWebview.setBounce({\n                        offset: {\n                            top: self.options.down.height + \"px\"\n                        }\n                    });\n                });\n            },\n            endPulldown: function() {\n                var _wv = plus.webview.currentWebview();\n                //双webview的下拉刷新，需要修改父窗口提示信息\n                if (_wv.parent() && this.options.down.style !== \"circle\") {\n                    _wv.parent().evalJS(\"mui&&mui(document.querySelector('.mui-content')).pullRefresh('\" + JSON.stringify({\n                        webviewId: _wv.id\n                    }) + \"')._endPulldownToRefresh()\");\n                } else {\n                    _wv.endPullToRefresh();\n                }\n            },\n            endPulldownToRefresh: function() { //该方法是子页面调用的，兼容老的历史API\n                this.endPulldown();\n            },\n            _endPulldownToRefresh: function() { //该方法是父页面调用的\n                var self = this;\n                if (self.topPocket && self.options.webview) {\n                    self.options.webview.endPullToRefresh(); //下拉刷新所在webview回弹\n                    self.loading = false;\n                    self._setCaption(self.options.down.contentdown, true);\n                    setTimeout(function() {\n                        self.loading || self.topPocket.classList.remove(CLASS_BLOCK);\n                    }, 350);\n                }\n            },\n            beginPullup: function(callback) { //开始上拉加载\n                var self = this;\n                if (self.isLoading) return;\n                self.isLoading = true;\n                if (self.pulldown !== false) {\n                    self._initPullupRefresh();\n                } else {\n                    this.pullPocket.classList.add(CLASS_BLOCK);\n                }\n                setTimeout(function() {\n                    self.pullLoading.classList.add(CLASS_VISIBILITY);\n                    self.pullLoading.classList.remove(CLASS_HIDDEN);\n                    self.pullCaption.innerHTML = ''; //修正5+里边第一次加载时，文字显示的bug(还会显示出来个“多”,猜测应该是渲染问题导致的)\n                    self.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_REFRESH;\n                    self.pullCaption.innerHTML = self.options.up.contentrefresh;\n                    callback = callback || self.options.up.callback;\n                    callback && callback.call(self);\n                }, 300);\n            },\n            pullupLoading: function(callback) { //兼容老的API\n                this.beginPullup(callback);\n            },\n            endPullup: function(finished) { //上拉加载结束\n                var self = this;\n                if (self.pullLoading) {\n                    self.pullLoading.classList.remove(CLASS_VISIBILITY);\n                    self.pullLoading.classList.add(CLASS_HIDDEN);\n                    self.isLoading = false;\n                    if (finished) {\n                        self.finished = true;\n                        self.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_NOMORE;\n                        self.pullCaption.innerHTML = self.options.up.contentnomore;\n                        //取消5+的plusscrollbottom事件\n                        document.removeEventListener('plusscrollbottom', self);\n                        window.removeEventListener('dragup', self);\n                    } else { //初始化时隐藏，后续不再隐藏\n                        self.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_DOWN;\n                        self.pullCaption.innerHTML = self.options.up.contentdown;\n                    }\n                }\n            },\n            endPullupToRefresh: function(finished) { //上拉加载结束，兼容老的API\n                this.endPullup(finished);\n            },\n            disablePulldownToRefresh: function() {\n                var webview = plus.webview.currentWebview();\n                if (this.options.down.style && this.options.down.style == 'circle') { // 单webview模式禁止原生下拉刷新\n                    this.options.webview.setPullToRefresh({\n                        support: false,\n                        style: 'circle'\n                    });\n                } else { // 双webview模式禁止下拉刷新\n                    webview.setStyle({\n                        bounce: 'none'\n                    });\n                    webview.setBounce({\n                        position: {\n                            top: 'none'\n                        }\n                    });\n                }\n            },\n            enablePulldownToRefresh: function() {\n                var self = this,\n                    webview = plus.webview.currentWebview(),\n                    height = this.options.down.height;\n                // 单webview模式禁止原生下拉刷新\n                if (this.options.down.style && this.options.down.style == 'circle') {\n                    webview.setPullToRefresh({\n                        support: true,\n                        height: height || '50px',\n                        range: self.options.down.range || '100px',\n                        style: 'circle',\n                        offset: self.options.down.offset || '0px'\n                    });\n                } else { // 重新初始化双webview模式下拉刷新\n                    webview.setStyle({\n                        bounce: 'vertical'\n                    });\n                    webview.setBounce({\n                        position: {\n                            top: height * 2 + 'px'\n                        },\n                        changeoffset: {\n                            top: height + 'px'\n                        }\n                    });\n                }\n            },\n            disablePullupToRefresh: function() {\n                this._initPullupRefresh();\n                this.bottomPocket.className = 'mui-pull-bottom-pocket' + ' ' + CLASS_HIDDEN;\n                window.removeEventListener('dragup', this);\n            },\n            enablePullupToRefresh: function() {\n                this._initPullupRefresh();\n                this.bottomPocket.classList.remove(CLASS_HIDDEN);\n                this.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_DOWN;\n                this.pullCaption.innerHTML = this.options.up.contentdown;\n                document.addEventListener(\"plusscrollbottom\", this);\n                window.addEventListener('dragup', this);\n            },\n            scrollTo: function(x, y, time) {\n                $.scrollTo(y, time);\n            },\n            scrollToBottom: function(time) {\n                $.scrollTo(document.documentElement.scrollHeight, time);\n            },\n            refresh: function(isReset) {\n                if (isReset && this.finished) {\n                    this.enablePullupToRefresh();\n                    this.finished = false;\n                }\n            }\n        }, $.PullRefresh));\n\n        //override h5 pullRefresh\n        $.fn.pullRefresh_native = function(options) {\n            var self;\n            if (this.length === 0) {\n                self = document.createElement('div');\n                self.className = 'mui-content';\n                document.body.appendChild(self);\n            } else {\n                self = this[0];\n            }\n            var args = options;\n            //一个父需要支持多个子下拉刷新\n            options = options || {}\n            if (typeof options === 'string') {\n                options = $.parseJSON(options);\n            };\n            !options.webviewId && (options.webviewId = (plus.webview.currentWebview().id || plus.webview.currentWebview().getURL()));\n            var pullRefreshApi = null;\n            var attrWebviewId = options.webviewId && options.webviewId.replace(/\\//g, \"_\"); //替换所有\"/\"\n            var id = self.getAttribute('data-pullrefresh-plus-' + attrWebviewId);\n            if (!id && typeof args === 'undefined') {\n                return false;\n            }\n            if (!id) { //避免重复初始化5+ pullrefresh\n                id = ++$.uuid;\n                self.setAttribute('data-pullrefresh-plus-' + attrWebviewId, id);\n                document.body.classList.add(CLASS_PLUS_PULLREFRESH);\n                $.data[id] = pullRefreshApi = new PlusPullRefresh(self, options);\n            } else {\n                pullRefreshApi = $.data[id];\n            }\n            if (options.down && options.down.auto) { //如果设置了auto，则自动下拉一次\n                //pullRefreshApi._pulldownLoading(); //parent webview\n                pullRefreshApi.beginPulldown();\n            } else if (options.up && options.up.auto) { //如果设置了auto，则自动上拉一次\n                pullRefreshApi.beginPullup();\n            }\n            return pullRefreshApi;\n        };\n    });\n\n})(mui, document);\n/**\n * off-canvas\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @param {type} action\n * @returns {undefined}\n */\n(function($, window, document, name) {\n\tvar CLASS_OFF_CANVAS_LEFT = 'mui-off-canvas-left';\n\tvar CLASS_OFF_CANVAS_RIGHT = 'mui-off-canvas-right';\n\tvar CLASS_ACTION_BACKDROP = 'mui-off-canvas-backdrop';\n\tvar CLASS_OFF_CANVAS_WRAP = 'mui-off-canvas-wrap';\n\n\tvar CLASS_SLIDE_IN = 'mui-slide-in';\n\tvar CLASS_ACTIVE = 'mui-active';\n\n\n\tvar CLASS_TRANSITIONING = 'mui-transitioning';\n\n\tvar SELECTOR_INNER_WRAP = '.mui-inner-wrap';\n\n\n\tvar OffCanvas = $.Class.extend({\n\t\tinit: function(element, options) {\n\t\t\tthis.wrapper = this.element = element;\n\t\t\tthis.scroller = this.wrapper.querySelector(SELECTOR_INNER_WRAP);\n\t\t\tthis.classList = this.wrapper.classList;\n\t\t\tif (this.scroller) {\n\t\t\t\tthis.options = $.extend(true, {\n\t\t\t\t\tdragThresholdX: 10,\n\t\t\t\t\tscale: 0.8,\n\t\t\t\t\topacity: 0.1,\n\t\t\t\t\tpreventDefaultException: {\n\t\t\t\t\t\ttagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/\n\t\t\t\t\t},\n\t\t\t\t}, options);\n\t\t\t\tdocument.body.classList.add('mui-fullscreen'); //fullscreen\n\t\t\t\tthis.refresh();\n\t\t\t\tthis.initEvent();\n\t\t\t}\n\t\t},\n\t\t_preventDefaultException: function(el, exceptions) {\n\t\t\tfor (var i in exceptions) {\n\t\t\t\tif (exceptions[i].test(el[i])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\trefresh: function(offCanvas) {\n\t\t\t//\t\t\toffCanvas && !offCanvas.classList.contains(CLASS_ACTIVE) && this.classList.remove(CLASS_ACTIVE);\n\t\t\tthis.slideIn = this.classList.contains(CLASS_SLIDE_IN);\n\t\t\tthis.scalable = this.classList.contains('mui-scalable') && !this.slideIn;\n\t\t\tthis.scroller = this.wrapper.querySelector(SELECTOR_INNER_WRAP);\n\t\t\t//\t\t\t!offCanvas && this.scroller.classList.remove(CLASS_TRANSITIONING);\n\t\t\t//\t\t\t!offCanvas && this.scroller.setAttribute('style', '');\n\t\t\tthis.offCanvasLefts = this.wrapper.querySelectorAll('.' + CLASS_OFF_CANVAS_LEFT);\n\t\t\tthis.offCanvasRights = this.wrapper.querySelectorAll('.' + CLASS_OFF_CANVAS_RIGHT);\n\t\t\tif (offCanvas) {\n\t\t\t\tif (offCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT)) {\n\t\t\t\t\tthis.offCanvasLeft = offCanvas;\n\t\t\t\t} else if (offCanvas.classList.contains(CLASS_OFF_CANVAS_RIGHT)) {\n\t\t\t\t\tthis.offCanvasRight = offCanvas;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.offCanvasRight = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT);\n\t\t\t\tthis.offCanvasLeft = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT);\n\t\t\t}\n\t\t\tthis.offCanvasRightWidth = this.offCanvasLeftWidth = 0;\n\t\t\tthis.offCanvasLeftSlideIn = this.offCanvasRightSlideIn = false;\n\t\t\tif (this.offCanvasRight) {\n\t\t\t\tthis.offCanvasRightWidth = this.offCanvasRight.offsetWidth;\n\t\t\t\tthis.offCanvasRightSlideIn = this.slideIn && (this.offCanvasRight.parentNode === this.wrapper);\n\t\t\t\t//\t\t\t\tthis.offCanvasRight.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t//\t\t\t\tthis.offCanvasRight.classList.remove(CLASS_ACTIVE);\n\t\t\t\t//\t\t\t\tthis.offCanvasRight.setAttribute('style', '');\n\t\t\t}\n\t\t\tif (this.offCanvasLeft) {\n\t\t\t\tthis.offCanvasLeftWidth = this.offCanvasLeft.offsetWidth;\n\t\t\t\tthis.offCanvasLeftSlideIn = this.slideIn && (this.offCanvasLeft.parentNode === this.wrapper);\n\t\t\t\t//\t\t\t\tthis.offCanvasLeft.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t//\t\t\t\tthis.offCanvasLeft.classList.remove(CLASS_ACTIVE);\n\t\t\t\t//\t\t\t\tthis.offCanvasLeft.setAttribute('style', '');\n\t\t\t}\n\t\t\tthis.backdrop = this.scroller.querySelector('.' + CLASS_ACTION_BACKDROP);\n\n\t\t\tthis.options.dragThresholdX = this.options.dragThresholdX || 10;\n\n\t\t\tthis.visible = false;\n\t\t\tthis.startX = null;\n\t\t\tthis.lastX = null;\n\t\t\tthis.offsetX = null;\n\t\t\tthis.lastTranslateX = null;\n\t\t},\n\t\thandleEvent: function(e) {\n\t\t\tswitch (e.type) {\n\t\t\t\tcase $.EVENT_START:\n\t\t\t\t\te.target && !this._preventDefaultException(e.target, this.options.preventDefaultException) && e.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'webkitTransitionEnd': //有个bug需要处理，需要考虑假设没有触发webkitTransitionEnd的情况\n\t\t\t\t\tif (e.target === this.scroller) {\n\t\t\t\t\t\tthis._dispatchEvent();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'drag':\n\t\t\t\t\tvar detail = e.detail;\n\t\t\t\t\tif (!this.startX) {\n\t\t\t\t\t\tthis.startX = detail.center.x;\n\t\t\t\t\t\tthis.lastX = this.startX;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.lastX = detail.center.x;\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.isDragging && Math.abs(this.lastX - this.startX) > this.options.dragThresholdX && (detail.direction === 'left' || (detail.direction === 'right'))) {\n\t\t\t\t\t\tif (this.slideIn) {\n\t\t\t\t\t\t\tthis.scroller = this.wrapper.querySelector(SELECTOR_INNER_WRAP);\n\t\t\t\t\t\t\tif (this.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\t\t\t\tif (this.offCanvasRight && this.offCanvasRight.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (detail.direction === 'left' && this.offCanvasRight) {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t} else if (detail.direction === 'right' && this.offCanvasLeft) {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.scroller = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (this.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\t\t\t\tif (detail.direction === 'left') {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (detail.direction === 'right') {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.offCanvas && this.scroller) {\n\t\t\t\t\t\t\tthis.startX = this.lastX;\n\t\t\t\t\t\t\tthis.isDragging = true;\n\n\t\t\t\t\t\t\t$.gestures.session.lockDirection = true; //锁定方向\n\t\t\t\t\t\t\t$.gestures.session.startDirection = detail.direction;\n\n\t\t\t\t\t\t\tthis.offCanvas.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t\t\t\tthis.scroller.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t\t\t\tthis.offsetX = this.getTranslateX();\n\t\t\t\t\t\t\tthis._initOffCanvasVisible();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isDragging) {\n\t\t\t\t\t\tthis.updateTranslate(this.offsetX + (this.lastX - this.startX));\n\t\t\t\t\t\tdetail.gesture.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'dragend':\n\t\t\t\t\tif (this.isDragging) {\n\t\t\t\t\t\tvar detail = e.detail;\n\t\t\t\t\t\tvar direction = detail.direction;\n\t\t\t\t\t\tthis.isDragging = false;\n\t\t\t\t\t\tthis.offCanvas.classList.add(CLASS_TRANSITIONING);\n\t\t\t\t\t\tthis.scroller.classList.add(CLASS_TRANSITIONING);\n\t\t\t\t\t\tvar ratio = 0;\n\t\t\t\t\t\tvar x = this.getTranslateX();\n\t\t\t\t\t\tif (!this.slideIn) {\n\t\t\t\t\t\t\tif (x >= 0) {\n\t\t\t\t\t\t\t\tratio = (this.offCanvasLeftWidth && (x / this.offCanvasLeftWidth)) || 0;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tratio = (this.offCanvasRightWidth && (x / this.offCanvasRightWidth)) || 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (ratio === 0) {\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t\tthis._dispatchEvent(); //此处不触发webkitTransitionEnd,所以手动dispatch\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (direction === 'right' && ratio >= 0 && (ratio >= 0.5 || detail.swipe)) { //右滑打开\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio < 0 && (ratio > -0.5 || detail.swipe)) { //右滑关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio > 0 && ratio < 0.5) { //右滑还原关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio < 0.5) { //右滑还原打开\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio <= 0 && (ratio <= -0.5 || detail.swipe)) { //左滑打开\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio > 0 && (ratio <= 0.5 || detail.swipe)) { //左滑关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio < 0 && ratio >= -0.5) { //左滑还原关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio > 0.5) { //左滑还原打开\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t} else { //默认关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (ratio === 1 || ratio === -1) { //此处不触发webkitTransitionEnd,所以手动dispatch\n\t\t\t\t\t\t\t\tthis._dispatchEvent();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (x >= 0) {\n\t\t\t\t\t\t\t\tratio = (this.offCanvasRightWidth && (x / this.offCanvasRightWidth)) || 0;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tratio = (this.offCanvasLeftWidth && (x / this.offCanvasLeftWidth)) || 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (direction === 'right' && ratio <= 0 && (ratio >= -0.5 || detail.swipe)) { //右滑打开\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio > 0 && (ratio >= 0.5 || detail.swipe)) { //右滑关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio <= -0.5) { //右滑还原关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio > 0 && ratio <= 0.5) { //右滑还原打开\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio >= 0 && (ratio <= 0.5 || detail.swipe)) { //左滑打开\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio < 0 && (ratio <= -0.5 || detail.swipe)) { //左滑关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio >= 0.5) { //左滑还原关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio >= -0.5 && ratio < 0) { //左滑还原打开\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (ratio === 1 || ratio === -1 || ratio === 0) {\n\t\t\t\t\t\t\t\tthis._dispatchEvent();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t_dispatchEvent: function() {\n\t\t\tif (this.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t$.trigger(this.wrapper, 'shown', this);\n\t\t\t} else {\n\t\t\t\t$.trigger(this.wrapper, 'hidden', this);\n\t\t\t}\n\t\t},\n\t\t_initOffCanvasVisible: function() {\n\t\t\tif (!this.visible) {\n\t\t\t\tthis.visible = true;\n\t\t\t\tif (this.offCanvasLeft) {\n\t\t\t\t\tthis.offCanvasLeft.style.visibility = 'visible';\n\t\t\t\t}\n\t\t\t\tif (this.offCanvasRight) {\n\t\t\t\t\tthis.offCanvasRight.style.visibility = 'visible';\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tinitEvent: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.backdrop) {\n\t\t\t\tself.backdrop.addEventListener('tap', function(e) {\n\t\t\t\t\tself.close();\n\t\t\t\t\te.detail.gesture.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.classList.contains('mui-draggable')) {\n\t\t\t\tthis.wrapper.addEventListener($.EVENT_START, this); //临时处理\n\t\t\t\tthis.wrapper.addEventListener('drag', this);\n\t\t\t\tthis.wrapper.addEventListener('dragend', this);\n\t\t\t}\n\t\t\tthis.wrapper.addEventListener('webkitTransitionEnd', this);\n\t\t},\n\t\topenPercentage: function(percentage) {\n\t\t\tvar p = percentage / 100;\n\t\t\tif (!this.slideIn) {\n\t\t\t\tif (this.offCanvasLeft && percentage >= 0) {\n\t\t\t\t\tthis.updateTranslate(this.offCanvasLeftWidth * p);\n\t\t\t\t\tthis.offCanvasLeft.classList[p !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t} else if (this.offCanvasRight && percentage <= 0) {\n\t\t\t\t\tthis.updateTranslate(this.offCanvasRightWidth * p);\n\t\t\t\t\tthis.offCanvasRight.classList[p !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t\tthis.classList[p !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t} else {\n\t\t\t\tif (this.offCanvasLeft && percentage >= 0) {\n\t\t\t\t\tp = p === 0 ? -1 : 0;\n\t\t\t\t\tthis.updateTranslate(this.offCanvasLeftWidth * p);\n\t\t\t\t\tthis.offCanvasLeft.classList[percentage !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t} else if (this.offCanvasRight && percentage <= 0) {\n\t\t\t\t\tp = p === 0 ? 1 : 0;\n\t\t\t\t\tthis.updateTranslate(this.offCanvasRightWidth * p);\n\t\t\t\t\tthis.offCanvasRight.classList[percentage !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t\tthis.classList[percentage !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t}\n\t\t},\n\t\tupdateTranslate: function(x) {\n\t\t\tif (x !== this.lastTranslateX) {\n\t\t\t\tif (!this.slideIn) {\n\t\t\t\t\tif ((!this.offCanvasLeft && x > 0) || (!this.offCanvasRight && x < 0)) {\n\t\t\t\t\t\tthis.setTranslateX(0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.leftShowing && x > this.offCanvasLeftWidth) {\n\t\t\t\t\t\tthis.setTranslateX(this.offCanvasLeftWidth);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.rightShowing && x < -this.offCanvasRightWidth) {\n\t\t\t\t\t\tthis.setTranslateX(-this.offCanvasRightWidth);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.setTranslateX(x);\n\t\t\t\t\tif (x >= 0) {\n\t\t\t\t\t\tthis.leftShowing = true;\n\t\t\t\t\t\tthis.rightShowing = false;\n\t\t\t\t\t\tif (x > 0) {\n\t\t\t\t\t\t\tif (this.offCanvasLeft) {\n\t\t\t\t\t\t\t\t$.each(this.offCanvasLefts, function(index, offCanvas) {\n\t\t\t\t\t\t\t\t\tif (offCanvas === this.offCanvasLeft) {\n\t\t\t\t\t\t\t\t\t\tthis.offCanvasLeft.style.zIndex = 0;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\toffCanvas.style.zIndex = -1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.offCanvasRight) {\n\t\t\t\t\t\t\t\tthis.offCanvasRight.style.zIndex = -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.rightShowing = true;\n\t\t\t\t\t\tthis.leftShowing = false;\n\t\t\t\t\t\tif (this.offCanvasRight) {\n\t\t\t\t\t\t\t$.each(this.offCanvasRights, function(index, offCanvas) {\n\t\t\t\t\t\t\t\tif (offCanvas === this.offCanvasRight) {\n\t\t\t\t\t\t\t\t\toffCanvas.style.zIndex = 0;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\toffCanvas.style.zIndex = -1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.offCanvasLeft) {\n\t\t\t\t\t\t\tthis.offCanvasLeft.style.zIndex = -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (this.offCanvas.classList.contains(CLASS_OFF_CANVAS_RIGHT)) {\n\t\t\t\t\t\tif (x < 0) {\n\t\t\t\t\t\t\tthis.setTranslateX(0);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (x > this.offCanvasRightWidth) {\n\t\t\t\t\t\t\tthis.setTranslateX(this.offCanvasRightWidth);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (x > 0) {\n\t\t\t\t\t\t\tthis.setTranslateX(0);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (x < -this.offCanvasLeftWidth) {\n\t\t\t\t\t\t\tthis.setTranslateX(-this.offCanvasLeftWidth);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.setTranslateX(x);\n\t\t\t\t}\n\t\t\t\tthis.lastTranslateX = x;\n\t\t\t}\n\t\t},\n\t\tsetTranslateX: $.animationFrame(function(x) {\n\t\t\tif (this.scroller) {\n\t\t\t\tif (this.scalable && this.offCanvas.parentNode === this.wrapper) {\n\t\t\t\t\tvar percent = Math.abs(x) / this.offCanvasWidth;\n\t\t\t\t\tvar zoomOutScale = 1 - (1 - this.options.scale) * percent;\n\t\t\t\t\tvar zoomInScale = this.options.scale + (1 - this.options.scale) * percent;\n\t\t\t\t\tvar zoomOutOpacity = 1 - (1 - this.options.opacity) * percent;\n\t\t\t\t\tvar zoomInOpacity = this.options.opacity + (1 - this.options.opacity) * percent;\n\t\t\t\t\tif (this.offCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT)) {\n\t\t\t\t\t\tthis.offCanvas.style.webkitTransformOrigin = '-100%';\n\t\t\t\t\t\tthis.scroller.style.webkitTransformOrigin = 'left';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.offCanvas.style.webkitTransformOrigin = '200%';\n\t\t\t\t\t\tthis.scroller.style.webkitTransformOrigin = 'right';\n\t\t\t\t\t}\n\t\t\t\t\tthis.offCanvas.style.opacity = zoomInOpacity;\n\t\t\t\t\tthis.offCanvas.style.webkitTransform = 'translate3d(0,0,0) scale(' + zoomInScale + ')';\n\t\t\t\t\tthis.scroller.style.webkitTransform = 'translate3d(' + x + 'px,0,0) scale(' + zoomOutScale + ')';\n\t\t\t\t} else {\n\t\t\t\t\tif (this.slideIn) {\n\t\t\t\t\t\tthis.offCanvas.style.webkitTransform = 'translate3d(' + x + 'px,0,0)';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.scroller.style.webkitTransform = 'translate3d(' + x + 'px,0,0)';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}),\n\t\tgetTranslateX: function() {\n\t\t\tif (this.offCanvas) {\n\t\t\t\tvar scroller = this.slideIn ? this.offCanvas : this.scroller;\n\t\t\t\tvar result = $.parseTranslateMatrix($.getStyles(scroller, 'webkitTransform'));\n\t\t\t\treturn (result && result.x) || 0;\n\t\t\t}\n\t\t\treturn 0;\n\t\t},\n\t\tisShown: function(direction) {\n\t\t\tvar shown = false;\n\t\t\tif (!this.slideIn) {\n\t\t\t\tvar x = this.getTranslateX();\n\t\t\t\tif (direction === 'right') {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && x < 0;\n\t\t\t\t} else if (direction === 'left') {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && x > 0;\n\t\t\t\t} else {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && x !== 0;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (direction === 'left') {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT + '.' + CLASS_ACTIVE);\n\t\t\t\t} else if (direction === 'right') {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT + '.' + CLASS_ACTIVE);\n\t\t\t\t} else {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && (this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT + '.' + CLASS_ACTIVE) || this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT + '.' + CLASS_ACTIVE));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn shown;\n\t\t},\n\t\tclose: function() {\n\t\t\tthis._initOffCanvasVisible();\n\t\t\tthis.offCanvas = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT + '.' + CLASS_ACTIVE) || this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT + '.' + CLASS_ACTIVE);\n\t\t\tthis.offCanvasWidth = this.offCanvas.offsetWidth;\n\t\t\tif (this.scroller) {\n\t\t\t\tthis.offCanvas.offsetHeight;\n\t\t\t\tthis.offCanvas.classList.add(CLASS_TRANSITIONING);\n\t\t\t\tthis.scroller.classList.add(CLASS_TRANSITIONING);\n\t\t\t\tthis.openPercentage(0);\n\t\t\t}\n\t\t},\n\t\tshow: function(direction) {\n\t\t\tthis._initOffCanvasVisible();\n\t\t\tif (this.isShown(direction)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!direction) {\n\t\t\t\tdirection = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT) ? 'right' : 'left';\n\t\t\t}\n\t\t\tif (direction === 'right') {\n\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t} else {\n\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t}\n\t\t\tif (this.scroller) {\n\t\t\t\tthis.offCanvas.offsetHeight;\n\t\t\t\tthis.offCanvas.classList.add(CLASS_TRANSITIONING);\n\t\t\t\tthis.scroller.classList.add(CLASS_TRANSITIONING);\n\t\t\t\tthis.openPercentage(direction === 'left' ? 100 : -100);\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\ttoggle: function(directionOrOffCanvas) {\n\t\t\tvar direction = directionOrOffCanvas;\n\t\t\tif (directionOrOffCanvas && directionOrOffCanvas.classList) {\n\t\t\t\tdirection = directionOrOffCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT) ? 'left' : 'right';\n\t\t\t\tthis.refresh(directionOrOffCanvas);\n\t\t\t}\n\t\t\tif (!this.show(direction)) {\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t}\n\t});\n\n\t//hash to offcanvas\n\tvar findOffCanvasContainer = function(target) {\n\t\tparentNode = target.parentNode;\n\t\tif (parentNode) {\n\t\t\tif (parentNode.classList.contains(CLASS_OFF_CANVAS_WRAP)) {\n\t\t\t\treturn parentNode;\n\t\t\t} else {\n\t\t\t\tparentNode = parentNode.parentNode;\n\t\t\t\tif (parentNode.classList.contains(CLASS_OFF_CANVAS_WRAP)) {\n\t\t\t\t\treturn parentNode;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tvar handle = function(event, target) {\n\t\tif (target.tagName === 'A' && target.hash) {\n\t\t\tvar offcanvas = document.getElementById(target.hash.replace('#', ''));\n\t\t\tif (offcanvas) {\n\t\t\t\tvar container = findOffCanvasContainer(offcanvas);\n\t\t\t\tif (container) {\n\t\t\t\t\t$.targets._container = container;\n\t\t\t\t\treturn offcanvas;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 60,\n\t\thandle: handle,\n\t\ttarget: false,\n\t\tisReset: false,\n\t\tisContinue: true\n\t});\n\n\twindow.addEventListener('tap', function(e) {\n\t\tif (!$.targets.offcanvas) {\n\t\t\treturn;\n\t\t}\n\t\t//TODO 此处类型的代码后续考虑统一优化(target机制)，现在的实现费力不讨好\n\t\tvar target = e.target;\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tif (target.tagName === 'A' && target.hash && target.hash === ('#' + $.targets.offcanvas.id)) {\n\t\t\t\te.detail && e.detail.gesture && e.detail.gesture.preventDefault(); //fixed hashchange\n\t\t\t\t$($.targets._container).offCanvas().toggle($.targets.offcanvas);\n\t\t\t\t$.targets.offcanvas = $.targets._container = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n\n\t$.fn.offCanvas = function(options) {\n\t\tvar offCanvasApis = [];\n\t\tthis.each(function() {\n\t\t\tvar offCanvasApi = null;\n\t\t\tvar self = this;\n\t\t\t//hack old version\n\t\t\tif (!self.classList.contains(CLASS_OFF_CANVAS_WRAP)) {\n\t\t\t\tself = findOffCanvasContainer(self);\n\t\t\t}\n\t\t\tvar id = self.getAttribute('data-offCanvas');\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\t$.data[id] = offCanvasApi = new OffCanvas(self, options);\n\t\t\t\tself.setAttribute('data-offCanvas', id);\n\t\t\t} else {\n\t\t\t\toffCanvasApi = $.data[id];\n\t\t\t}\n\t\t\tif (options === 'show' || options === 'close' || options === 'toggle') {\n\t\t\t\toffCanvasApi.toggle();\n\t\t\t}\n\t\t\toffCanvasApis.push(offCanvasApi);\n\t\t});\n\t\treturn offCanvasApis.length === 1 ? offCanvasApis[0] : offCanvasApis;\n\t};\n\t$.ready(function() {\n\t\t$('.mui-off-canvas-wrap').offCanvas();\n\t});\n})(mui, window, document, 'offcanvas');\n/**\n * actions\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar CLASS_ACTION = 'mui-action';\n\n\tvar handle = function(event, target) {\n\t\tvar className = target.className || '';\n\t\tif (typeof className !== 'string') { //svg className(SVGAnimatedString)\n\t\t\tclassName = '';\n\t\t}\n\t\tif (className && ~className.indexOf(CLASS_ACTION)) {\n\t\t\tif (target.classList.contains('mui-action-back')) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t\treturn target;\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 50,\n\t\thandle: handle,\n\t\ttarget: false,\n\t\tisContinue: true\n\t});\n\n})(mui, 'action');\n/**\n * Modals\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @param {type} name\n * @returns {undefined}\n */\n(function($, window, document, name) {\n\tvar CLASS_MODAL = 'mui-modal';\n\n\tvar handle = function(event, target) {\n\t\tif (target.tagName === 'A' && target.hash) {\n\t\t\tvar modal = document.getElementById(target.hash.replace('#', ''));\n\t\t\tif (modal && modal.classList.contains(CLASS_MODAL)) {\n\t\t\t\treturn modal;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 50,\n\t\thandle: handle,\n\t\ttarget: false,\n\t\tisReset: false,\n\t\tisContinue: true\n\t});\n\n\twindow.addEventListener('tap', function(event) {\n\t\tif ($.targets.modal) {\n\t\t\tevent.detail.gesture.preventDefault(); //fixed hashchange\n\t\t\t$.targets.modal.classList.toggle('mui-active');\n\t\t}\n\t});\n})(mui, window, document, 'modal');\n/**\n * Popovers\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @param {type} name\n * @param {type} undefined\n * @returns {undefined}\n */\n(function($, window, document, name) {\n\n\tvar CLASS_POPOVER = 'mui-popover';\n\tvar CLASS_POPOVER_ARROW = 'mui-popover-arrow';\n\tvar CLASS_ACTION_POPOVER = 'mui-popover-action';\n\tvar CLASS_BACKDROP = 'mui-backdrop';\n\tvar CLASS_BAR_POPOVER = 'mui-bar-popover';\n\tvar CLASS_BAR_BACKDROP = 'mui-bar-backdrop';\n\tvar CLASS_ACTION_BACKDROP = 'mui-backdrop-action';\n\tvar CLASS_ACTIVE = 'mui-active';\n\tvar CLASS_BOTTOM = 'mui-bottom';\n\n\n\n\tvar handle = function(event, target) {\n\t\tif (target.tagName === 'A' && target.hash) {\n\t\t\t$.targets._popover = document.getElementById(target.hash.replace('#', ''));\n\t\t\tif ($.targets._popover && $.targets._popover.classList.contains(CLASS_POPOVER)) {\n\t\t\t\treturn target;\n\t\t\t} else {\n\t\t\t\t$.targets._popover = null;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 60,\n\t\thandle: handle,\n\t\ttarget: false,\n\t\tisReset: false,\n\t\tisContinue: true\n\t});\n\n\tvar onPopoverShown = function(e) {\n\t\tthis.removeEventListener('webkitTransitionEnd', onPopoverShown);\n\t\tthis.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\t$.trigger(this, 'shown', this);\n\t}\n\tvar onPopoverHidden = function(e) {\n\t\tsetStyle(this, 'none');\n\t\tthis.removeEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\tthis.removeEventListener($.EVENT_MOVE, $.preventDefault);\n\t\t$.trigger(this, 'hidden', this);\n\t};\n\n\tvar backdrop = (function() {\n\t\tvar element = document.createElement('div');\n\t\telement.classList.add(CLASS_BACKDROP);\n\t\telement.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\telement.addEventListener('tap', function(e) {\n\t\t\tvar popover = $.targets._popover;\n\t\t\tif (popover) {\n\t\t\t\tpopover.addEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\t\t\tpopover.classList.remove(CLASS_ACTIVE);\n\t\t\t\tremoveBackdrop(popover);\n\t\t\t}\n\t\t});\n\n\t\treturn element;\n\t}());\n\tvar removeBackdropTimer;\n\tvar removeBackdrop = function(popover) {\n\t\tbackdrop.setAttribute('style', 'opacity:0');\n\t\t$.targets.popover = $.targets._popover = null; //reset\n\t\tremoveBackdropTimer = $.later(function() {\n\t\t\tif (!popover.classList.contains(CLASS_ACTIVE) && backdrop.parentNode && backdrop.parentNode === document.body) {\n\t\t\t\tdocument.body.removeChild(backdrop);\n\t\t\t}\n\t\t}, 350);\n\t};\n\twindow.addEventListener('tap', function(e) {\n\t\tif (!$.targets.popover) {\n\t\t\treturn;\n\t\t}\n\t\tvar toggle = false;\n\t\tvar target = e.target;\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tif (target === $.targets.popover) {\n\t\t\t\ttoggle = true;\n\t\t\t}\n\t\t}\n\t\tif (toggle) {\n\t\t\te.detail.gesture.preventDefault(); //fixed hashchange\n\t\t\ttogglePopover($.targets._popover, $.targets.popover);\n\t\t}\n\n\t});\n\n\tvar togglePopover = function(popover, anchor, state) {\n\t\tif ((state === 'show' && popover.classList.contains(CLASS_ACTIVE)) || (state === 'hide' && !popover.classList.contains(CLASS_ACTIVE))) {\n\t\t\treturn;\n\t\t}\n\t\tremoveBackdropTimer && removeBackdropTimer.cancel(); //取消remove的timer\n\t\t//remove一遍，以免来回快速切换，导致webkitTransitionEnd不触发，无法remove\n\t\tpopover.removeEventListener('webkitTransitionEnd', onPopoverShown);\n\t\tpopover.removeEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\tbackdrop.classList.remove(CLASS_BAR_BACKDROP);\n\t\tbackdrop.classList.remove(CLASS_ACTION_BACKDROP);\n\t\tvar _popover = document.querySelector('.mui-popover.mui-active');\n\t\tif (_popover) {\n\t\t\t//\t\t\t_popover.setAttribute('style', '');\n\t\t\t_popover.addEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\t\t_popover.classList.remove(CLASS_ACTIVE);\n\t\t\t//\t\t\t_popover.removeEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\t\t//同一个弹出则直接返回，解决同一个popover的toggle\n\t\t\tif (popover === _popover) {\n\t\t\t\tremoveBackdrop(_popover);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tvar isActionSheet = false;\n\t\tif (popover.classList.contains(CLASS_BAR_POPOVER) || popover.classList.contains(CLASS_ACTION_POPOVER)) { //navBar\n\t\t\tif (popover.classList.contains(CLASS_ACTION_POPOVER)) { //action sheet popover\n\t\t\t\tisActionSheet = true;\n\t\t\t\tbackdrop.classList.add(CLASS_ACTION_BACKDROP);\n\t\t\t} else { //bar popover\n\t\t\t\tbackdrop.classList.add(CLASS_BAR_BACKDROP);\n\t\t\t\t//\t\t\t\tif (anchor) {\n\t\t\t\t//\t\t\t\t\tif (anchor.parentNode) {\n\t\t\t\t//\t\t\t\t\t\tvar offsetWidth = anchor.offsetWidth;\n\t\t\t\t//\t\t\t\t\t\tvar offsetLeft = anchor.offsetLeft;\n\t\t\t\t//\t\t\t\t\t\tvar innerWidth = window.innerWidth;\n\t\t\t\t//\t\t\t\t\t\tpopover.style.left = (Math.min(Math.max(offsetLeft, defaultPadding), innerWidth - offsetWidth - defaultPadding)) + \"px\";\n\t\t\t\t//\t\t\t\t\t} else {\n\t\t\t\t//\t\t\t\t\t\t//TODO anchor is position:{left,top,bottom,right}\n\t\t\t\t//\t\t\t\t\t}\n\t\t\t\t//\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetStyle(popover, 'block'); //actionsheet transform\n\t\tpopover.offsetHeight;\n\t\tpopover.classList.add(CLASS_ACTIVE);\n\t\tbackdrop.setAttribute('style', '');\n\t\tdocument.body.appendChild(backdrop);\n\t\tcalPosition(popover, anchor, isActionSheet); //position\n\t\tbackdrop.classList.add(CLASS_ACTIVE);\n\t\tpopover.addEventListener('webkitTransitionEnd', onPopoverShown);\n\t};\n\tvar setStyle = function(popover, display, top, left) {\n\t\tvar style = popover.style;\n\t\tif (typeof display !== 'undefined')\n\t\t\tstyle.display = display;\n\t\tif (typeof top !== 'undefined')\n\t\t\tstyle.top = top + 'px';\n\t\tif (typeof left !== 'undefined')\n\t\t\tstyle.left = left + 'px';\n\t};\n\tvar calPosition = function(popover, anchor, isActionSheet) {\n\t\tif (!popover || !anchor) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (isActionSheet) { //actionsheet\n\t\t\tsetStyle(popover, 'block')\n\t\t\treturn;\n\t\t}\n\n\t\tvar wWidth = window.innerWidth;\n\t\tvar wHeight = window.innerHeight;\n\n\t\tvar pWidth = popover.offsetWidth;\n\t\tvar pHeight = popover.offsetHeight;\n\n\t\tvar aWidth = anchor.offsetWidth;\n\t\tvar aHeight = anchor.offsetHeight;\n\t\tvar offset = $.offset(anchor);\n\n\t\tvar arrow = popover.querySelector('.' + CLASS_POPOVER_ARROW);\n\t\tif (!arrow) {\n\t\t\tarrow = document.createElement('div');\n\t\t\tarrow.className = CLASS_POPOVER_ARROW;\n\t\t\tpopover.appendChild(arrow);\n\t\t}\n\t\tvar arrowSize = arrow && arrow.offsetWidth / 2 || 0;\n\n\n\n\t\tvar pTop = 0;\n\t\tvar pLeft = 0;\n\t\tvar diff = 0;\n\t\tvar arrowLeft = 0;\n\t\tvar defaultPadding = popover.classList.contains(CLASS_ACTION_POPOVER) ? 0 : 5;\n\n\t\tvar position = 'top';\n\t\tif ((pHeight + arrowSize) < (offset.top - window.pageYOffset)) { //top\n\t\t\tpTop = offset.top - pHeight - arrowSize;\n\t\t} else if ((pHeight + arrowSize) < (wHeight - (offset.top - window.pageYOffset) - aHeight)) { //bottom\n\t\t\tposition = 'bottom';\n\t\t\tpTop = offset.top + aHeight + arrowSize;\n\t\t} else { //middle\n\t\t\tposition = 'middle';\n\t\t\tpTop = Math.max((wHeight - pHeight) / 2 + window.pageYOffset, 0);\n\t\t\tpLeft = Math.max((wWidth - pWidth) / 2 + window.pageXOffset, 0);\n\t\t}\n\t\tif (position === 'top' || position === 'bottom') {\n\t\t\tpLeft = aWidth / 2 + offset.left - pWidth / 2;\n\t\t\tdiff = pLeft;\n\t\t\tif (pLeft < defaultPadding) pLeft = defaultPadding;\n\t\t\tif (pLeft + pWidth > wWidth) pLeft = wWidth - pWidth - defaultPadding;\n\n\t\t\tif (arrow) {\n\t\t\t\tif (position === 'top') {\n\t\t\t\t\tarrow.classList.add(CLASS_BOTTOM);\n\t\t\t\t} else {\n\t\t\t\t\tarrow.classList.remove(CLASS_BOTTOM);\n\t\t\t\t}\n\t\t\t\tdiff = diff - pLeft;\n\t\t\t\tarrowLeft = (pWidth / 2 - arrowSize / 2 + diff);\n\t\t\t\tarrowLeft = Math.max(Math.min(arrowLeft, pWidth - arrowSize * 2 - 6), 6);\n\t\t\t\tarrow.setAttribute('style', 'left:' + arrowLeft + 'px');\n\t\t\t}\n\t\t} else if (position === 'middle') {\n\t\t\tarrow.setAttribute('style', 'display:none');\n\t\t}\n\t\tsetStyle(popover, 'block', pTop, pLeft);\n\t};\n\n\t$.createMask = function(callback) {\n\t\tvar element = document.createElement('div');\n\t\telement.classList.add(CLASS_BACKDROP);\n\t\telement.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\telement.addEventListener('tap', function() {\n\t\t\tmask.close();\n\t\t});\n\t\tvar mask = [element];\n\t\tmask._show = false;\n\t\tmask.show = function() {\n\t\t\tmask._show = true;\n\t\t\telement.setAttribute('style', 'opacity:1');\n\t\t\tdocument.body.appendChild(element);\n\t\t\treturn mask;\n\t\t};\n\t\tmask._remove = function() {\n\t\t\tif (mask._show) {\n\t\t\t\tmask._show = false;\n\t\t\t\telement.setAttribute('style', 'opacity:0');\n\t\t\t\t$.later(function() {\n\t\t\t\t\tvar body = document.body;\n\t\t\t\t\telement.parentNode === body && body.removeChild(element);\n\t\t\t\t}, 350);\n\t\t\t}\n\t\t\treturn mask;\n\t\t};\n\t\tmask.close = function() {\n\t\t\tif (callback) {\n\t\t\t\tif (callback() !== false) {\n\t\t\t\t\tmask._remove();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmask._remove();\n\t\t\t}\n\t\t};\n\t\treturn mask;\n\t};\n\t$.fn.popover = function() {\n\t\tvar args = arguments;\n\t\tthis.each(function() {\n\t\t\t$.targets._popover = this;\n\t\t\tif (args[0] === 'show' || args[0] === 'hide' || args[0] === 'toggle') {\n\t\t\t\ttogglePopover(this, args[1], args[0]);\n\t\t\t}\n\t\t});\n\t};\n\n})(mui, window, document, 'popover');\n/**\n * segmented-controllers\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @param {type} undefined\n * @returns {undefined}\n */\n(function($, window, document, name, undefined) {\n\n    var CLASS_CONTROL_ITEM = 'mui-control-item';\n    var CLASS_SEGMENTED_CONTROL = 'mui-segmented-control';\n    var CLASS_SEGMENTED_CONTROL_VERTICAL = 'mui-segmented-control-vertical';\n    var CLASS_CONTROL_CONTENT = 'mui-control-content';\n    var CLASS_TAB_BAR = 'mui-bar-tab';\n    var CLASS_TAB_ITEM = 'mui-tab-item';\n    var CLASS_SLIDER_ITEM = 'mui-slider-item';\n\n   var handle = function(event, target) {\n        if (target.classList && (target.classList.contains(CLASS_CONTROL_ITEM) || target.classList.contains(CLASS_TAB_ITEM))) {\n            if (target.parentNode && target.parentNode.classList && target.parentNode.classList.contains(CLASS_SEGMENTED_CONTROL_VERTICAL)) {\n                //vertical 如果preventDefault会导致无法滚动\n            } else {\n\n                    event.preventDefault();      \n                    // if(target.tagName == 'A') {\n                    //     // fixed 底部选项卡href 无法跳转 && stop hash change\n                    //     var curr_href = location.hostname + location.pathname,\n                    //         target_href = target.hostname + target.pathname;\n                   \n                    //     if (curr_href == target_href && target.hash !== \"\") {\n                    //         event.preventDefault();\n                    //         return target;\n                    //     }else{\n                    //             return false\n                    //     }\n                    // }\n            }\n            //          if (target.hash) {\n            return target;\n            //          }\n        }\n        return false;\n    };\n\n    $.registerTarget({\n        name: name,\n        index: 80,\n        handle: handle,\n        target: false\n    });\n\n    window.addEventListener('tap', function(e) {\n\n        var targetTab = $.targets.tab;\n        if (!targetTab) {\n            return;\n        }\n        var activeTab;\n        var activeBodies;\n        var targetBody;\n        var className = 'mui-active';\n        var classSelector = '.' + className;\n        var segmentedControl = targetTab.parentNode;\n\n        for (; segmentedControl && segmentedControl !== document; segmentedControl = segmentedControl.parentNode) {\n            if (segmentedControl.classList.contains(CLASS_SEGMENTED_CONTROL)) {\n                activeTab = segmentedControl.querySelector(classSelector + '.' + CLASS_CONTROL_ITEM);\n                break;\n            } else if (segmentedControl.classList.contains(CLASS_TAB_BAR)) {\n                activeTab = segmentedControl.querySelector(classSelector + '.' + CLASS_TAB_ITEM);\n            }\n        }\n\n        if (activeTab) {\n            activeTab.classList.remove(className);\n        }\n\n        var isLastActive = targetTab === activeTab;\n        if (targetTab) {\n            targetTab.classList.add(className);\n        }\n\n        if (!targetTab.hash) {\n            return;\n        }\n        targetBody = document.getElementById(targetTab.hash.replace('#', ''));\n\n        if (!targetBody) {\n            return;\n        }\n        if (!targetBody.classList.contains(CLASS_CONTROL_CONTENT)) { //tab bar popover\n            targetTab.classList[isLastActive ? 'remove' : 'add'](className);\n            return;\n        }\n        if (isLastActive) { //same\n            return;\n        }\n        var parentNode = targetBody.parentNode;\n        activeBodies = parentNode.querySelectorAll('.' + CLASS_CONTROL_CONTENT + classSelector);\n        for (var i = 0; i < activeBodies.length; i++) {\n            var activeBody = activeBodies[i];\n            activeBody.parentNode === parentNode && activeBody.classList.remove(className);\n        }\n\n        targetBody.classList.add(className);\n\n        var contents = [];\n        var _contents = parentNode.querySelectorAll('.' + CLASS_CONTROL_CONTENT);\n        for (var i = 0; i < _contents.length; i++) { //查找直属子节点\n            _contents[i].parentNode === parentNode && (contents.push(_contents[i]));\n        }\n        $.trigger(targetBody, $.eventName('shown', name), {\n            tabNumber: Array.prototype.indexOf.call(contents, targetBody)\n        });\n        e.detail && e.detail.gesture.preventDefault(); //fixed hashchange\n    });\n\n})(mui, window, document, 'tab');\n/**\n * Toggles switch\n * @param {type} $\n * @param {type} window\n * @param {type} name\n * @returns {undefined}\n */\n(function($, window, name) {\n\n\tvar CLASS_SWITCH = 'mui-switch';\n\tvar CLASS_SWITCH_HANDLE = 'mui-switch-handle';\n\tvar CLASS_ACTIVE = 'mui-active';\n\tvar CLASS_DRAGGING = 'mui-dragging';\n\n\tvar CLASS_DISABLED = 'mui-disabled';\n\n\tvar SELECTOR_SWITCH_HANDLE = '.' + CLASS_SWITCH_HANDLE;\n\n\tvar handle = function(event, target) {\n\t\tif (target.classList && target.classList.contains(CLASS_SWITCH)) {\n\t\t\treturn target;\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 100,\n\t\thandle: handle,\n\t\ttarget: false\n\t});\n\n\n\tvar Toggle = function(element) {\n\t\tthis.element = element;\n\t\tthis.classList = this.element.classList;\n\t\tthis.handle = this.element.querySelector(SELECTOR_SWITCH_HANDLE);\n\t\tthis.init();\n\t\tthis.initEvent();\n\t};\n\tToggle.prototype.init = function() {\n\t\tthis.toggleWidth = this.element.offsetWidth;\n\t\tthis.handleWidth = this.handle.offsetWidth;\n\t\tthis.handleX = this.toggleWidth - this.handleWidth - 3;\n\t};\n\tToggle.prototype.initEvent = function() {\n\t\tthis.element.addEventListener($.EVENT_START, this);\n\t\tthis.element.addEventListener('drag', this);\n\t\tthis.element.addEventListener('swiperight', this);\n\t\tthis.element.addEventListener($.EVENT_END, this);\n\t\tthis.element.addEventListener($.EVENT_CANCEL, this);\n\n\t};\n\tToggle.prototype.handleEvent = function(e) {\n\t\tif (this.classList.contains(CLASS_DISABLED)) {\n\t\t\treturn;\n\t\t}\n\t\tswitch (e.type) {\n\t\t\tcase $.EVENT_START:\n\t\t\t\tthis.start(e);\n\t\t\t\tbreak;\n\t\t\tcase 'drag':\n\t\t\t\tthis.drag(e);\n\t\t\t\tbreak;\n\t\t\tcase 'swiperight':\n\t\t\t\tthis.swiperight();\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tthis.end(e);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\tToggle.prototype.start = function(e) {\n\t\tthis.handle.style.webkitTransitionDuration = this.element.style.webkitTransitionDuration = '.2s';\n\t\tthis.classList.add(CLASS_DRAGGING);\n\t\tif (this.toggleWidth === 0 || this.handleWidth === 0) { //当switch处于隐藏状态时，width为0，需要重新初始化\n\t\t\tthis.init();\n\t\t}\n\t};\n\tToggle.prototype.drag = function(e) {\n\t\tvar detail = e.detail;\n\t\tif (!this.isDragging) {\n\t\t\tif (detail.direction === 'left' || detail.direction === 'right') {\n\t\t\t\tthis.isDragging = true;\n\t\t\t\tthis.lastChanged = undefined;\n\t\t\t\tthis.initialState = this.classList.contains(CLASS_ACTIVE);\n\t\t\t}\n\t\t}\n\t\tif (this.isDragging) {\n\t\t\tthis.setTranslateX(detail.deltaX);\n\t\t\te.stopPropagation();\n\t\t\tdetail.gesture.preventDefault();\n\t\t}\n\t};\n\tToggle.prototype.swiperight = function(e) {\n\t\tif (this.isDragging) {\n\t\t\te.stopPropagation();\n\t\t}\n\t};\n\tToggle.prototype.end = function(e) {\n\t\tthis.classList.remove(CLASS_DRAGGING);\n\t\tif (this.isDragging) {\n\t\t\tthis.isDragging = false;\n\t\t\te.stopPropagation();\n\t\t\t$.trigger(this.element, 'toggle', {\n\t\t\t\tisActive: this.classList.contains(CLASS_ACTIVE)\n\t\t\t});\n\t\t} else {\n\t\t\tthis.toggle();\n\t\t}\n\t};\n\tToggle.prototype.toggle = function(animate) {\n\t\tvar classList = this.classList;\n\t\tif (animate === false) {\n\t\t\tthis.handle.style.webkitTransitionDuration = this.element.style.webkitTransitionDuration = '0s';\n\t\t} else {\n\t\t\tthis.handle.style.webkitTransitionDuration = this.element.style.webkitTransitionDuration = '.2s';\n\t\t}\n\t\tif (classList.contains(CLASS_ACTIVE)) {\n\t\t\tclassList.remove(CLASS_ACTIVE);\n\t\t\tthis.handle.style.webkitTransform = 'translate(0,0)';\n\t\t} else {\n\t\t\tclassList.add(CLASS_ACTIVE);\n\t\t\tthis.handle.style.webkitTransform = 'translate(' + this.handleX + 'px,0)';\n\t\t}\n\t\t$.trigger(this.element, 'toggle', {\n\t\t\tisActive: this.classList.contains(CLASS_ACTIVE)\n\t\t});\n\t};\n\tToggle.prototype.setTranslateX = $.animationFrame(function(x) {\n\t\tif (!this.isDragging) {\n\t\t\treturn;\n\t\t}\n\t\tvar isChanged = false;\n\t\tif ((this.initialState && -x > (this.handleX / 2)) || (!this.initialState && x > (this.handleX / 2))) {\n\t\t\tisChanged = true;\n\t\t}\n\t\tif (this.lastChanged !== isChanged) {\n\t\t\tif (isChanged) {\n\t\t\t\tthis.handle.style.webkitTransform = 'translate(' + (this.initialState ? 0 : this.handleX) + 'px,0)';\n\t\t\t\tthis.classList[this.initialState ? 'remove' : 'add'](CLASS_ACTIVE);\n\t\t\t} else {\n\t\t\t\tthis.handle.style.webkitTransform = 'translate(' + (this.initialState ? this.handleX : 0) + 'px,0)';\n\t\t\t\tthis.classList[this.initialState ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t}\n\t\t\tthis.lastChanged = isChanged;\n\t\t}\n\n\t});\n\n\t$.fn['switch'] = function(options) {\n\t\tvar switchApis = [];\n\t\tthis.each(function() {\n\t\t\tvar switchApi = null;\n\t\t\tvar id = this.getAttribute('data-switch');\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\t$.data[id] = new Toggle(this);\n\t\t\t\tthis.setAttribute('data-switch', id);\n\t\t\t} else {\n\t\t\t\tswitchApi = $.data[id];\n\t\t\t}\n\t\t\tswitchApis.push(switchApi);\n\t\t});\n\t\treturn switchApis.length > 1 ? switchApis : switchApis[0];\n\t};\n\t$.ready(function() {\n\t\t$('.' + CLASS_SWITCH)['switch']();\n\t});\n})(mui, window, 'toggle');\n/**\n * Tableviews\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @returns {undefined}\n */\n(function($, window, document) {\n\n\tvar CLASS_ACTIVE = 'mui-active';\n\tvar CLASS_SELECTED = 'mui-selected';\n\tvar CLASS_GRID_VIEW = 'mui-grid-view';\n\tvar CLASS_RADIO_VIEW = 'mui-table-view-radio';\n\tvar CLASS_TABLE_VIEW_CELL = 'mui-table-view-cell';\n\tvar CLASS_COLLAPSE_CONTENT = 'mui-collapse-content';\n\tvar CLASS_DISABLED = 'mui-disabled';\n\tvar CLASS_TOGGLE = 'mui-switch';\n\tvar CLASS_BTN = 'mui-btn';\n\n\tvar CLASS_SLIDER_HANDLE = 'mui-slider-handle';\n\tvar CLASS_SLIDER_LEFT = 'mui-slider-left';\n\tvar CLASS_SLIDER_RIGHT = 'mui-slider-right';\n\tvar CLASS_TRANSITIONING = 'mui-transitioning';\n\n\n\tvar SELECTOR_SLIDER_HANDLE = '.' + CLASS_SLIDER_HANDLE;\n\tvar SELECTOR_SLIDER_LEFT = '.' + CLASS_SLIDER_LEFT;\n\tvar SELECTOR_SLIDER_RIGHT = '.' + CLASS_SLIDER_RIGHT;\n\tvar SELECTOR_SELECTED = '.' + CLASS_SELECTED;\n\tvar SELECTOR_BUTTON = '.' + CLASS_BTN;\n\tvar overFactor = 0.8;\n\tvar cell, a;\n\n\tvar isMoved = isOpened = openedActions = progress = false;\n\tvar sliderHandle = sliderActionLeft = sliderActionRight = buttonsLeft = buttonsRight = sliderDirection = sliderRequestAnimationFrame = false;\n\tvar timer = translateX = lastTranslateX = sliderActionLeftWidth = sliderActionRightWidth = 0;\n\n\n\n\tvar toggleActive = function(isActive) {\n\t\tif (isActive) {\n\t\t\tif (a) {\n\t\t\t\ta.classList.add(CLASS_ACTIVE);\n\t\t\t} else if (cell) {\n\t\t\t\tcell.classList.add(CLASS_ACTIVE);\n\t\t\t}\n\t\t} else {\n\t\t\ttimer && timer.cancel();\n\t\t\tif (a) {\n\t\t\t\ta.classList.remove(CLASS_ACTIVE);\n\t\t\t} else if (cell) {\n\t\t\t\tcell.classList.remove(CLASS_ACTIVE);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar updateTranslate = function() {\n\t\tif (translateX !== lastTranslateX) {\n\t\t\tif (buttonsRight && buttonsRight.length > 0) {\n\t\t\t\tprogress = translateX / sliderActionRightWidth;\n\t\t\t\tif (translateX < -sliderActionRightWidth) {\n\t\t\t\t\ttranslateX = -sliderActionRightWidth - Math.pow(-translateX - sliderActionRightWidth, overFactor);\n\t\t\t\t}\n\t\t\t\tfor (var i = 0, len = buttonsRight.length; i < len; i++) {\n\t\t\t\t\tvar buttonRight = buttonsRight[i];\n\t\t\t\t\tif (typeof buttonRight._buttonOffset === 'undefined') {\n\t\t\t\t\t\tbuttonRight._buttonOffset = buttonRight.offsetLeft;\n\t\t\t\t\t}\n\t\t\t\t\tbuttonOffset = buttonRight._buttonOffset;\n\t\t\t\t\tsetTranslate(buttonRight, (translateX - buttonOffset * (1 + Math.max(progress, -1))));\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (buttonsLeft && buttonsLeft.length > 0) {\n\t\t\t\tprogress = translateX / sliderActionLeftWidth;\n\t\t\t\tif (translateX > sliderActionLeftWidth) {\n\t\t\t\t\ttranslateX = sliderActionLeftWidth + Math.pow(translateX - sliderActionLeftWidth, overFactor);\n\t\t\t\t}\n\t\t\t\tfor (var i = 0, len = buttonsLeft.length; i < len; i++) {\n\t\t\t\t\tvar buttonLeft = buttonsLeft[i];\n\t\t\t\t\tif (typeof buttonLeft._buttonOffset === 'undefined') {\n\t\t\t\t\t\tbuttonLeft._buttonOffset = sliderActionLeftWidth - buttonLeft.offsetLeft - buttonLeft.offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t\tbuttonOffset = buttonLeft._buttonOffset;\n\t\t\t\t\tif (buttonsLeft.length > 1) {\n\t\t\t\t\t\tbuttonLeft.style.zIndex = buttonsLeft.length - i;\n\t\t\t\t\t}\n\t\t\t\t\tsetTranslate(buttonLeft, (translateX + buttonOffset * (1 - Math.min(progress, 1))));\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetTranslate(sliderHandle, translateX);\n\t\t\tlastTranslateX = translateX;\n\t\t}\n\t\tsliderRequestAnimationFrame = requestAnimationFrame(function() {\n\t\t\tupdateTranslate();\n\t\t});\n\t};\n\tvar setTranslate = function(element, x) {\n\t\tif (element) {\n\t\t\telement.style.webkitTransform = 'translate(' + x + 'px,0)';\n\t\t}\n\t};\n\n\twindow.addEventListener($.EVENT_START, function(event) {\n\t\tif (cell) {\n\t\t\ttoggleActive(false);\n\t\t}\n\t\tcell = a = false;\n\t\tisMoved = isOpened = openedActions = false;\n\t\tvar target = event.target;\n\t\tvar isDisabled = false;\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tif (target.classList) {\n\t\t\t\tvar classList = target.classList;\n\t\t\t\tif ((target.tagName === 'INPUT' && target.type !== 'radio' && target.type !== 'checkbox') || target.tagName === 'BUTTON' || classList.contains(CLASS_TOGGLE) || classList.contains(CLASS_BTN) || classList.contains(CLASS_DISABLED)) {\n\t\t\t\t\tisDisabled = true;\n\t\t\t\t}\n\t\t\t\tif (classList.contains(CLASS_COLLAPSE_CONTENT)) { //collapse content\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (classList.contains(CLASS_TABLE_VIEW_CELL)) {\n\t\t\t\t\tcell = target;\n\t\t\t\t\t//TODO swipe to delete close\n\t\t\t\t\tvar selected = cell.parentNode.querySelector(SELECTOR_SELECTED);\n\t\t\t\t\tif (!cell.parentNode.classList.contains(CLASS_RADIO_VIEW) && selected && selected !== cell) {\n\t\t\t\t\t\t$.swipeoutClose(selected);\n\t\t\t\t\t\tcell = isDisabled = false;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (!cell.parentNode.classList.contains(CLASS_GRID_VIEW)) {\n\t\t\t\t\t\tvar link = cell.querySelector('a');\n\t\t\t\t\t\tif (link && link.parentNode === cell) { //li>a\n\t\t\t\t\t\t\ta = link;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar handle = cell.querySelector(SELECTOR_SLIDER_HANDLE);\n\t\t\t\t\tif (handle) {\n\t\t\t\t\t\ttoggleEvents(cell);\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t\tif (!isDisabled) {\n\t\t\t\t\t\tif (handle) {\n\t\t\t\t\t\t\tif (timer) {\n\t\t\t\t\t\t\t\ttimer.cancel();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttimer = $.later(function() {\n\t\t\t\t\t\t\t\ttoggleActive(true);\n\t\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttoggleActive(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\twindow.addEventListener($.EVENT_MOVE, function(event) {\n\t\ttoggleActive(false);\n\t});\n\n\tvar handleEvent = {\n\t\thandleEvent: function(event) {\n\t\t\tswitch (event.type) {\n\t\t\t\tcase 'drag':\n\t\t\t\t\tthis.drag(event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'dragend':\n\t\t\t\t\tthis.dragend(event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'flick':\n\t\t\t\t\tthis.flick(event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'swiperight':\n\t\t\t\t\tthis.swiperight(event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'swipeleft':\n\t\t\t\t\tthis.swipeleft(event);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tdrag: function(event) {\n\t\t\tif (!cell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!isMoved) { //init\n\t\t\t\tsliderHandle = sliderActionLeft = sliderActionRight = buttonsLeft = buttonsRight = sliderDirection = sliderRequestAnimationFrame = false;\n\t\t\t\tsliderHandle = cell.querySelector(SELECTOR_SLIDER_HANDLE);\n\t\t\t\tif (sliderHandle) {\n\t\t\t\t\tsliderActionLeft = cell.querySelector(SELECTOR_SLIDER_LEFT);\n\t\t\t\t\tsliderActionRight = cell.querySelector(SELECTOR_SLIDER_RIGHT);\n\t\t\t\t\tif (sliderActionLeft) {\n\t\t\t\t\t\tsliderActionLeftWidth = sliderActionLeft.offsetWidth;\n\t\t\t\t\t\tbuttonsLeft = sliderActionLeft.querySelectorAll(SELECTOR_BUTTON);\n\t\t\t\t\t}\n\t\t\t\t\tif (sliderActionRight) {\n\t\t\t\t\t\tsliderActionRightWidth = sliderActionRight.offsetWidth;\n\t\t\t\t\t\tbuttonsRight = sliderActionRight.querySelectorAll(SELECTOR_BUTTON);\n\t\t\t\t\t}\n\t\t\t\t\tcell.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t\tisOpened = cell.classList.contains(CLASS_SELECTED);\n\t\t\t\t\tif (isOpened) {\n\t\t\t\t\t\topenedActions = cell.querySelector(SELECTOR_SLIDER_LEFT + SELECTOR_SELECTED) ? 'left' : 'right';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar detail = event.detail;\n\t\t\tvar direction = detail.direction;\n\t\t\tvar angle = detail.angle;\n\t\t\tif (direction === 'left' && (angle > 150 || angle < -150)) {\n\t\t\t\tif (buttonsRight || (buttonsLeft && isOpened)) { //存在右侧按钮或存在左侧按钮且是已打开状态\n\t\t\t\t\tisMoved = true;\n\t\t\t\t}\n\t\t\t} else if (direction === 'right' && (angle > -30 && angle < 30)) {\n\t\t\t\tif (buttonsLeft || (buttonsRight && isOpened)) { //存在左侧按钮或存在右侧按钮且是已打开状态\n\t\t\t\t\tisMoved = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isMoved) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.detail.gesture.preventDefault();\n\t\t\t\tvar translate = event.detail.deltaX;\n\t\t\t\tif (isOpened) {\n\t\t\t\t\tif (openedActions === 'right') {\n\t\t\t\t\t\ttranslate = translate - sliderActionRightWidth;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttranslate = translate + sliderActionLeftWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ((translate > 0 && !buttonsLeft) || (translate < 0 && !buttonsRight)) {\n\t\t\t\t\tif (!isOpened) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\ttranslate = 0;\n\t\t\t\t}\n\t\t\t\tif (translate < 0) {\n\t\t\t\t\tsliderDirection = 'toLeft';\n\t\t\t\t} else if (translate > 0) {\n\t\t\t\t\tsliderDirection = 'toRight';\n\t\t\t\t} else {\n\t\t\t\t\tif (!sliderDirection) {\n\t\t\t\t\t\tsliderDirection = 'toLeft';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!sliderRequestAnimationFrame) {\n\t\t\t\t\tupdateTranslate();\n\t\t\t\t}\n\t\t\t\ttranslateX = translate;\n\t\t\t}\n\t\t},\n\t\tflick: function(event) {\n\t\t\tif (isMoved) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tswipeleft: function(event) {\n\t\t\tif (isMoved) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tswiperight: function(event) {\n\t\t\tif (isMoved) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tdragend: function(event) {\n\t\t\tif (!isMoved) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tevent.stopPropagation();\n\t\t\tif (sliderRequestAnimationFrame) {\n\t\t\t\tcancelAnimationFrame(sliderRequestAnimationFrame);\n\t\t\t\tsliderRequestAnimationFrame = null;\n\t\t\t}\n\t\t\tvar detail = event.detail;\n\t\t\tisMoved = false;\n\t\t\tvar action = 'close';\n\t\t\tvar actionsWidth = sliderDirection === 'toLeft' ? sliderActionRightWidth : sliderActionLeftWidth;\n\t\t\tvar isToggle = detail.swipe || (Math.abs(translateX) > actionsWidth / 2);\n\t\t\tif (isToggle) {\n\t\t\t\tif (!isOpened) {\n\t\t\t\t\taction = 'open';\n\t\t\t\t} else if (detail.direction === 'left' && openedActions === 'right') {\n\t\t\t\t\taction = 'open';\n\t\t\t\t} else if (detail.direction === 'right' && openedActions === 'left') {\n\t\t\t\t\taction = 'open';\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tcell.classList.add(CLASS_TRANSITIONING);\n\t\t\tvar buttons;\n\t\t\tif (action === 'open') {\n\t\t\t\tvar newTranslate = sliderDirection === 'toLeft' ? -actionsWidth : actionsWidth;\n\t\t\t\tsetTranslate(sliderHandle, newTranslate);\n\t\t\t\tbuttons = sliderDirection === 'toLeft' ? buttonsRight : buttonsLeft;\n\t\t\t\tif (typeof buttons !== 'undefined') {\n\t\t\t\t\tvar button = null;\n\t\t\t\t\tfor (var i = 0; i < buttons.length; i++) {\n\t\t\t\t\t\tbutton = buttons[i];\n\t\t\t\t\t\tsetTranslate(button, newTranslate);\n\t\t\t\t\t}\n\t\t\t\t\tbutton.parentNode.classList.add(CLASS_SELECTED);\n\t\t\t\t\tcell.classList.add(CLASS_SELECTED);\n\t\t\t\t\tif (!isOpened) {\n\t\t\t\t\t\t$.trigger(cell, sliderDirection === 'toLeft' ? 'slideleft' : 'slideright');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetTranslate(sliderHandle, 0);\n\t\t\t\tsliderActionLeft && sliderActionLeft.classList.remove(CLASS_SELECTED);\n\t\t\t\tsliderActionRight && sliderActionRight.classList.remove(CLASS_SELECTED);\n\t\t\t\tcell.classList.remove(CLASS_SELECTED);\n\t\t\t}\n\t\t\tvar buttonOffset;\n\t\t\tif (buttonsLeft && buttonsLeft.length > 0 && buttonsLeft !== buttons) {\n\t\t\t\tfor (var i = 0, len = buttonsLeft.length; i < len; i++) {\n\t\t\t\t\tvar buttonLeft = buttonsLeft[i];\n\t\t\t\t\tbuttonOffset = buttonLeft._buttonOffset;\n\t\t\t\t\tif (typeof buttonOffset === 'undefined') {\n\t\t\t\t\t\tbuttonLeft._buttonOffset = sliderActionLeftWidth - buttonLeft.offsetLeft - buttonLeft.offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t\tsetTranslate(buttonLeft, buttonOffset);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (buttonsRight && buttonsRight.length > 0 && buttonsRight !== buttons) {\n\t\t\t\tfor (var i = 0, len = buttonsRight.length; i < len; i++) {\n\t\t\t\t\tvar buttonRight = buttonsRight[i];\n\t\t\t\t\tbuttonOffset = buttonRight._buttonOffset;\n\t\t\t\t\tif (typeof buttonOffset === 'undefined') {\n\t\t\t\t\t\tbuttonRight._buttonOffset = buttonRight.offsetLeft;\n\t\t\t\t\t}\n\t\t\t\t\tsetTranslate(buttonRight, -buttonOffset);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction toggleEvents(element, isRemove) {\n\t\tvar method = !!isRemove ? 'removeEventListener' : 'addEventListener';\n\t\telement[method]('drag', handleEvent);\n\t\telement[method]('dragend', handleEvent);\n\t\telement[method]('swiperight', handleEvent);\n\t\telement[method]('swipeleft', handleEvent);\n\t\telement[method]('flick', handleEvent);\n\t};\n\t/**\n\t * 打开滑动菜单\n\t * @param {Object} el\n\t * @param {Object} direction\n\t */\n\t$.swipeoutOpen = function(el, direction) {\n\t\tif (!el) return;\n\t\tvar classList = el.classList;\n\t\tif (classList.contains(CLASS_SELECTED)) return;\n\t\tif (!direction) {\n\t\t\tif (el.querySelector(SELECTOR_SLIDER_RIGHT)) {\n\t\t\t\tdirection = 'right';\n\t\t\t} else {\n\t\t\t\tdirection = 'left';\n\t\t\t}\n\t\t}\n\t\tvar swipeoutAction = el.querySelector($.classSelector(\".slider-\" + direction));\n\t\tif (!swipeoutAction) return;\n\t\tswipeoutAction.classList.add(CLASS_SELECTED);\n\t\tclassList.add(CLASS_SELECTED);\n\t\tclassList.remove(CLASS_TRANSITIONING);\n\t\tvar buttons = swipeoutAction.querySelectorAll(SELECTOR_BUTTON);\n\t\tvar swipeoutWidth = swipeoutAction.offsetWidth;\n\t\tvar translate = (direction === 'right') ? -swipeoutWidth : swipeoutWidth;\n\t\tvar length = buttons.length;\n\t\tvar button;\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tbutton = buttons[i];\n\t\t\tif (direction === 'right') {\n\t\t\t\tsetTranslate(button, -button.offsetLeft);\n\t\t\t} else {\n\t\t\t\tsetTranslate(button, (swipeoutWidth - button.offsetWidth - button.offsetLeft));\n\t\t\t}\n\t\t}\n\t\tclassList.add(CLASS_TRANSITIONING);\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tsetTranslate(buttons[i], translate);\n\t\t}\n\t\tsetTranslate(el.querySelector(SELECTOR_SLIDER_HANDLE), translate);\n\t};\n\t/**\n\t * 关闭滑动菜单\n\t * @param {Object} el\n\t */\n\t$.swipeoutClose = function(el) {\n\t\tif (!el) return;\n\t\tvar classList = el.classList;\n\t\tif (!classList.contains(CLASS_SELECTED)) return;\n\t\tvar direction = el.querySelector(SELECTOR_SLIDER_RIGHT + SELECTOR_SELECTED) ? 'right' : 'left';\n\t\tvar swipeoutAction = el.querySelector($.classSelector(\".slider-\" + direction));\n\t\tif (!swipeoutAction) return;\n\t\tswipeoutAction.classList.remove(CLASS_SELECTED);\n\t\tclassList.remove(CLASS_SELECTED);\n\t\tclassList.add(CLASS_TRANSITIONING);\n\t\tvar buttons = swipeoutAction.querySelectorAll(SELECTOR_BUTTON);\n\t\tvar swipeoutWidth = swipeoutAction.offsetWidth;\n\t\tvar length = buttons.length;\n\t\tvar button;\n\t\tsetTranslate(el.querySelector(SELECTOR_SLIDER_HANDLE), 0);\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tbutton = buttons[i];\n\t\t\tif (direction === 'right') {\n\t\t\t\tsetTranslate(button, (-button.offsetLeft));\n\t\t\t} else {\n\t\t\t\tsetTranslate(button, (swipeoutWidth - button.offsetWidth - button.offsetLeft));\n\t\t\t}\n\t\t}\n\t};\n\n\twindow.addEventListener($.EVENT_END, function(event) { //使用touchend来取消高亮，避免一次点击既不触发tap，doubletap，longtap的事件\n\t\tif (!cell) {\n\t\t\treturn;\n\t\t}\n\t\ttoggleActive(false);\n\t\tsliderHandle && toggleEvents(cell, true);\n\t});\n\twindow.addEventListener($.EVENT_CANCEL, function(event) { //使用touchcancel来取消高亮，避免一次点击既不触发tap，doubletap，longtap的事件\n\t\tif (!cell) {\n\t\t\treturn;\n\t\t}\n\t\ttoggleActive(false);\n\t\tsliderHandle && toggleEvents(cell, true);\n\t});\n\tvar radioOrCheckboxClick = function(event) {\n\t\tvar type = event.target && event.target.type || '';\n\t\tif (type === 'radio' || type === 'checkbox') {\n\t\t\treturn;\n\t\t}\n\t\tvar classList = cell.classList;\n\t\tif (classList.contains('mui-radio')) {\n\t\t\tvar input = cell.querySelector('input[type=radio]');\n\t\t\tif (input) {\n\t\t\t\t//\t\t\t\tinput.click();\n\t\t\t\tif (!input.disabled && !input.readOnly) {\n\t\t\t\t\tinput.checked = !input.checked;\n\t\t\t\t\t$.trigger(input, 'change');\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (classList.contains('mui-checkbox')) {\n\t\t\tvar input = cell.querySelector('input[type=checkbox]');\n\t\t\tif (input) {\n\t\t\t\t//\t\t\t\tinput.click();\n\t\t\t\tif (!input.disabled && !input.readOnly) {\n\t\t\t\t\tinput.checked = !input.checked;\n\t\t\t\t\t$.trigger(input, 'change');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t//fixed hashchange(android)\n\twindow.addEventListener($.EVENT_CLICK, function(e) {\n\t\tif (cell && cell.classList.contains('mui-collapse')) {\n\t\t\te.preventDefault();\n\t\t}\n\t});\n\twindow.addEventListener('doubletap', function(event) {\n\t\tif (cell) {\n\t\t\tradioOrCheckboxClick(event);\n\t\t}\n\t});\n\tvar preventDefaultException = /^(INPUT|TEXTAREA|BUTTON|SELECT)$/;\n\twindow.addEventListener('tap', function(event) {\n\t\tif (!cell) {\n\t\t\treturn;\n\t\t}\n\t\tvar isExpand = false;\n\t\tvar classList = cell.classList;\n\t\tvar ul = cell.parentNode;\n\t\tif (ul && ul.classList.contains(CLASS_RADIO_VIEW)) {\n\t\t\tif (classList.contains(CLASS_SELECTED)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar selected = ul.querySelector('li' + SELECTOR_SELECTED);\n\t\t\tif (selected) {\n\t\t\t\tselected.classList.remove(CLASS_SELECTED);\n\t\t\t}\n\t\t\tclassList.add(CLASS_SELECTED);\n\t\t\t$.trigger(cell, 'selected', {\n\t\t\t\tel: cell\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tif (classList.contains('mui-collapse') && !cell.parentNode.classList.contains('mui-unfold')) {\n\t\t\tif (!preventDefaultException.test(event.target.tagName)) {\n\t\t\t\tevent.detail.gesture.preventDefault();\n\t\t\t}\n\n\t\t\tif (!classList.contains(CLASS_ACTIVE)) { //展开时,需要收缩其他同类\n\t\t\t\tvar collapse = cell.parentNode.querySelector('.mui-collapse.mui-active');\n\t\t\t\tif (collapse) {\n\t\t\t\t\tcollapse.classList.remove(CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t\tisExpand = true;\n\t\t\t}\n\t\t\tclassList.toggle(CLASS_ACTIVE);\n\t\t\tif (isExpand) {\n\t\t\t\t//触发展开事件\n\t\t\t\t$.trigger(cell, 'expand');\n\n\t\t\t\t//scroll\n\t\t\t\t//暂不滚动\n\t\t\t\t// var offsetTop = $.offset(cell).top;\n\t\t\t\t// var scrollTop = document.body.scrollTop;\n\t\t\t\t// var height = window.innerHeight;\n\t\t\t\t// var offsetHeight = cell.offsetHeight;\n\t\t\t\t// var cellHeight = (offsetTop - scrollTop + offsetHeight);\n\t\t\t\t// if (offsetHeight > height) {\n\t\t\t\t// \t$.scrollTo(offsetTop, 300);\n\t\t\t\t// } else if (cellHeight > height) {\n\t\t\t\t// \t$.scrollTo(cellHeight - height + scrollTop, 300);\n\t\t\t\t// }\n\t\t\t}\n\t\t} else {\n\t\t\tradioOrCheckboxClick(event);\n\t\t}\n\t});\n})(mui, window, document);\n(function($, window) {\n\t/**\n\t * 警告消息框\n\t */\n\t$.alert = function(message, title, btnValue, callback) {\n\t\tif ($.os.plus) {\n\t\t\tif (typeof message === 'undefined') {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tif (typeof title === 'function') {\n\t\t\t\t\tcallback = title;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnValue = '确定';\n\t\t\t\t} else if (typeof btnValue === 'function') {\n\t\t\t\t\tcallback = btnValue;\n\t\t\t\t\tbtnValue = null;\n\t\t\t\t}\n\t\t\t\t$.plusReady(function() {\n\t\t\t\t\tplus.nativeUI.alert(message, callback, title, btnValue);\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else {\n\t\t\t//TODO H5版本\n\t\t\twindow.alert(message);\n\t\t}\n\t};\n\n})(mui, window);\n(function($, window) {\n\t/**\n\t * 确认消息框\n\t */\n\t$.confirm = function(message, title, btnArray, callback) {\n\t\tif ($.os.plus) {\n\t\t\tif (typeof message === 'undefined') {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tif (typeof title === 'function') {\n\t\t\t\t\tcallback = title;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t} else if (typeof btnArray === 'function') {\n\t\t\t\t\tcallback = btnArray;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t}\n\t\t\t\t$.plusReady(function() {\n\t\t\t\t\tplus.nativeUI.confirm(message, callback, title, btnArray);\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else {\n\t\t\t//H5版本，0为确认，1为取消\n\t\t\tif (window.confirm(message)) {\n\t\t\t\tcallback({\n\t\t\t\t\tindex: 0\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcallback({\n\t\t\t\t\tindex: 1\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n})(mui, window);\n(function($, window) {\n\t/**\n\t * 输入对话框\n\t */\n\t$.prompt = function(text, defaultText, title, btnArray, callback) {\n\t\tif ($.os.plus) {\n\t\t\tif (typeof message === 'undefined') {\n\t\t\t\treturn;\n\t\t\t} else {\n\n\t\t\t\tif (typeof defaultText === 'function') {\n\t\t\t\t\tcallback = defaultText;\n\t\t\t\t\tdefaultText = null;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t} else if (typeof title === 'function') {\n\t\t\t\t\tcallback = title;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t} else if (typeof btnArray === 'function') {\n\t\t\t\t\tcallback = btnArray;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t}\n\t\t\t\t$.plusReady(function() {\n\t\t\t\t\tplus.nativeUI.prompt(text, callback, title, defaultText, btnArray);\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else {\n\t\t\t//H5版本(确认index为0，取消index为1)\n\t\t\tvar result = window.prompt(text);\n\t\t\tif (result) {\n\t\t\t\tcallback({\n\t\t\t\t\tindex: 0,\n\t\t\t\t\tvalue: result\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcallback({\n\t\t\t\t\tindex: 1,\n\t\t\t\t\tvalue: ''\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n})(mui, window);\n(function($, window) {\n\tvar CLASS_ACTIVE = 'mui-active';\n\t/**\n\t * 自动消失提示框\n\t */\n\t$.toast = function(message,options) {\n\t\tvar durations = {\n\t\t    'long': 3500,\n\t\t    'short': 2000\n\t\t};\n\n\t\t//计算显示时间\n\t\t options = $.extend({\n\t        duration: 'short'\n\t    }, options || {});\n\n\n\t\tif ($.os.plus && options.type !== 'div') {\n\t\t\t//默认显示在底部；\n\t\t\t$.plusReady(function() {\n\t\t\t\tplus.nativeUI.toast(message, {\n\t\t\t\t\tverticalAlign: 'bottom',\n\t\t\t\t\tduration:options.duration\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tif (typeof options.duration === 'number') {\n\t\t        duration = options.duration>0 ? options.duration:durations['short'];\n\t\t    } else {\n\t\t        duration = durations[options.duration];\n\t\t    }\n\t\t    if (!duration) {\n\t\t        duration = durations['short'];\n\t\t    }\n\t\t\tvar toast = document.createElement('div');\n\t\t\ttoast.classList.add('mui-toast-container');\n\t\t\ttoast.innerHTML = '<div class=\"' + 'mui-toast-message' + '\">' + message + '</div>';\n\t\t\ttoast.addEventListener('webkitTransitionEnd', function() {\n\t\t\t\tif (!toast.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\ttoast.parentNode.removeChild(toast);\n\t\t\t\t\ttoast = null;\n\t\t\t\t}\n\t\t\t});\n\t\t\t//点击则自动消失\n\t\t\ttoast.addEventListener('click', function() {\n\t\t        toast.parentNode.removeChild(toast);\n\t\t        toast = null;\n\t\t    });\n\t\t\tdocument.body.appendChild(toast);\n\t\t\ttoast.offsetHeight;\n\t\t\ttoast.classList.add(CLASS_ACTIVE);\n\t\t\tsetTimeout(function() {\n\t\t\t\ttoast && toast.classList.remove(CLASS_ACTIVE);\n\t\t\t}, duration);\n\t\t\t\n\t\t\treturn {\n\t\t        isVisible: function() {return !!toast;}\n\t\t    }\n\t\t}   \n\t};\n\n})(mui, window);\n/**\n * Popup(alert,confirm,prompt)  \n * @param {Object} $\n * @param {Object} window\n * @param {Object} document\n */\n(function($, window, document) {\n    var CLASS_POPUP = 'mui-popup';\n    var CLASS_POPUP_BACKDROP = 'mui-popup-backdrop';\n    var CLASS_POPUP_IN = 'mui-popup-in';\n    var CLASS_POPUP_OUT = 'mui-popup-out';\n    var CLASS_POPUP_INNER = 'mui-popup-inner';\n    var CLASS_POPUP_TITLE = 'mui-popup-title';\n    var CLASS_POPUP_TEXT = 'mui-popup-text';\n    var CLASS_POPUP_INPUT = 'mui-popup-input';\n    var CLASS_POPUP_BUTTONS = 'mui-popup-buttons';\n    var CLASS_POPUP_BUTTON = 'mui-popup-button';\n    var CLASS_POPUP_BUTTON_BOLD = 'mui-popup-button-bold';\n    var CLASS_POPUP_BACKDROP = 'mui-popup-backdrop';\n    var CLASS_ACTIVE = 'mui-active';\n\n    var popupStack = [];\n    var backdrop = (function() {\n        var element = document.createElement('div');\n        element.classList.add(CLASS_POPUP_BACKDROP);\n        element.addEventListener($.EVENT_MOVE, $.preventDefault);\n        element.addEventListener('webkitTransitionEnd', function() {\n            if (!this.classList.contains(CLASS_ACTIVE)) {\n                element.parentNode && element.parentNode.removeChild(element);\n            }\n        });\n        return element;\n    }());\n\n    var createInput = function(placeholder) {\n        return '<div class=\"' + CLASS_POPUP_INPUT + '\"><input type=\"text\" autofocus placeholder=\"' + (placeholder || '') + '\"/></div>';\n    };\n    var createInner = function(message, title, extra) {\n        return '<div class=\"' + CLASS_POPUP_INNER + '\"><div class=\"' + CLASS_POPUP_TITLE + '\">' + title + '</div><div class=\"' + CLASS_POPUP_TEXT + '\">' + message.replace(/\\r\\n/g, \"<br/>\").replace(/\\n/g, \"<br/>\") + '</div>' + (extra || '') + '</div>';\n    };\n    var createButtons = function(btnArray) {\n        var length = btnArray.length;\n        var btns = [];\n        for (var i = 0; i < length; i++) {\n            btns.push('<span class=\"' + CLASS_POPUP_BUTTON + (i === length - 1 ? (' ' + CLASS_POPUP_BUTTON_BOLD) : '') + '\">' + btnArray[i] + '</span>');\n        }\n        return '<div class=\"' + CLASS_POPUP_BUTTONS + '\">' + btns.join('') + '</div>';\n    };\n\n    var createPopup = function(html, callback) {\n        var popupElement = document.createElement('div');\n        popupElement.className = CLASS_POPUP;\n        popupElement.innerHTML = html;\n        var removePopupElement = function() {\n            popupElement.parentNode && popupElement.parentNode.removeChild(popupElement);\n            popupElement = null;\n        };\n        popupElement.addEventListener($.EVENT_MOVE, $.preventDefault);\n        popupElement.addEventListener('webkitTransitionEnd', function(e) {\n            if (popupElement && e.target === popupElement && popupElement.classList.contains(CLASS_POPUP_OUT)) {\n                removePopupElement();\n            }\n        });\n        popupElement.style.display = 'block';\n        document.body.appendChild(popupElement);\n        popupElement.offsetHeight;\n        popupElement.classList.add(CLASS_POPUP_IN);\n\n        if (!backdrop.classList.contains(CLASS_ACTIVE)) {\n            backdrop.style.display = 'block';\n            document.body.appendChild(backdrop);\n            backdrop.offsetHeight;\n            backdrop.classList.add(CLASS_ACTIVE);\n        }\n        var btns = $.qsa('.' + CLASS_POPUP_BUTTON, popupElement);\n        var input = popupElement.querySelector('.' + CLASS_POPUP_INPUT + ' input');\n        var popup = {\n            element: popupElement,\n            close: function(index, animate) {\n                if (popupElement) {\n                    var result = callback && callback({\n                        index: index || 0,\n                        value: input && input.value || ''\n                    });\n                    if (result === false) { //返回false则不关闭当前popup\n                        return;\n                    }\n                    if (animate !== false) {\n                        popupElement.classList.remove(CLASS_POPUP_IN);\n                        popupElement.classList.add(CLASS_POPUP_OUT);\n                    } else {\n                        removePopupElement();\n                    }\n                    popupStack.pop();\n                    //如果还有其他popup，则不remove backdrop\n                    if (popupStack.length) {\n                        popupStack[popupStack.length - 1]['show'](animate);\n                    } else {\n                        backdrop.classList.remove(CLASS_ACTIVE);\n                    }\n                }\n            }\n        };\n        var handleEvent = function(e) {\n            popup.close(btns.indexOf(e.target));\n        };\n        $(popupElement).on('tap', '.' + CLASS_POPUP_BUTTON, handleEvent);\n        if (popupStack.length) {\n            popupStack[popupStack.length - 1]['hide']();\n        }\n        popupStack.push({\n            close: popup.close,\n            show: function(animate) {\n                popupElement.style.display = 'block';\n                popupElement.offsetHeight;\n                popupElement.classList.add(CLASS_POPUP_IN);\n            },\n            hide: function() {\n                popupElement.style.display = 'none';\n                popupElement.classList.remove(CLASS_POPUP_IN);\n            }\n        });\n        return popup;\n    };\n    var createAlert = function(message, title, btnValue, callback, type) {\n        if (typeof message === 'undefined') {\n            return;\n        } else {\n            if (typeof title === 'function') {\n                callback = title;\n                type = btnValue;\n                title = null;\n                btnValue = null;\n            } else if (typeof btnValue === 'function') {\n                type = callback;\n                callback = btnValue;\n                btnValue = null;\n            }\n        }\n        if (!$.os.plus || type === 'div') {\n            return createPopup(createInner(message, title || '提示') + createButtons([btnValue || '确定']), callback);\n        }\n        return plus.nativeUI.alert(message, callback, title || '提示', btnValue || '确定');\n    };\n    var createConfirm = function(message, title, btnArray, callback, type) {\n        if (typeof message === 'undefined') {\n            return;\n        } else {\n            if (typeof title === 'function') {\n                callback = title;\n                type = btnArray;\n                title = null;\n                btnArray = null;\n            } else if (typeof btnArray === 'function') {\n                type = callback;\n                callback = btnArray;\n                btnArray = null;\n            }\n        }\n        if (!$.os.plus || type === 'div') {\n            return createPopup(createInner(message, title || '提示') + createButtons(btnArray || ['取消', '确认']), callback);\n        }\n        return plus.nativeUI.confirm(message, callback, title, btnArray || ['取消', '确认']);\n    };\n    var createPrompt = function(message, placeholder, title, btnArray, callback, type) {\n        if (typeof message === 'undefined') {\n            return;\n        } else {\n            if (typeof placeholder === 'function') {\n                callback = placeholder;\n                type = title;\n                placeholder = null;\n                title = null;\n                btnArray = null;\n            } else if (typeof title === 'function') {\n                callback = title;\n                type = btnArray;\n                title = null;\n                btnArray = null;\n            } else if (typeof btnArray === 'function') {\n                type = callback;\n                callback = btnArray;\n                btnArray = null;\n            }\n        }\n        if (!$.os.plus || type === 'div') {\n            return createPopup(createInner(message, title || '提示', createInput(placeholder)) + createButtons(btnArray || ['取消', '确认']), callback);\n        }\n        return plus.nativeUI.prompt(message, callback, title || '提示', placeholder, btnArray || ['取消', '确认']);\n    };\n    var closePopup = function() {\n        if (popupStack.length) {\n            popupStack[popupStack.length - 1]['close']();\n            return true;\n        } else {\n            return false;\n        }\n    };\n    var closePopups = function() {\n        while (popupStack.length) {\n            popupStack[popupStack.length - 1]['close']();\n        }\n    };\n\n    $.closePopup = closePopup;\n    $.closePopups = closePopups;\n    $.alert = createAlert;\n    $.confirm = createConfirm;\n    $.prompt = createPrompt;\n})(mui, window, document);\n(function($, document) {\n\tvar CLASS_PROGRESSBAR = 'mui-progressbar';\n\tvar CLASS_PROGRESSBAR_IN = 'mui-progressbar-in';\n\tvar CLASS_PROGRESSBAR_OUT = 'mui-progressbar-out';\n\tvar CLASS_PROGRESSBAR_INFINITE = 'mui-progressbar-infinite';\n\n\tvar SELECTOR_PROGRESSBAR = '.mui-progressbar';\n\n\tvar _findProgressbar = function(container) {\n\t\tcontainer = $(container || 'body');\n\t\tif (container.length === 0) return;\n\t\tcontainer = container[0];\n\t\tif (container.classList.contains(CLASS_PROGRESSBAR)) {\n\t\t\treturn container;\n\t\t}\n\t\tvar progressbars = container.querySelectorAll(SELECTOR_PROGRESSBAR);\n\t\tif (progressbars) {\n\t\t\tfor (var i = 0, len = progressbars.length; i < len; i++) {\n\t\t\t\tvar progressbar = progressbars[i];\n\t\t\t\tif (progressbar.parentNode === container) {\n\t\t\t\t\treturn progressbar;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t/**\n\t * 创建并显示进度条 \n\t * @param {Object} container  可选，默认body，支持selector,DOM Node,mui wrapper\n\t * @param {Object} progress 可选，undefined表示循环，数字表示具体进度\n\t * @param {Object} color 可选，指定颜色样式(目前暂未提供实际样式，可暂时不暴露此参数)\n\t */\n\tvar showProgressbar = function(container, progress, color) {\n\t\tif (typeof container === 'number') {\n\t\t\tcolor = progress;\n\t\t\tprogress = container;\n\t\t\tcontainer = 'body';\n\t\t}\n\t\tcontainer = $(container || 'body');\n\t\tif (container.length === 0) return;\n\t\tcontainer = container[0];\n\t\tvar progressbar;\n\t\tif (container.classList.contains(CLASS_PROGRESSBAR)) {\n\t\t\tprogressbar = container;\n\t\t} else {\n\t\t\tvar progressbars = container.querySelectorAll(SELECTOR_PROGRESSBAR + ':not(.' + CLASS_PROGRESSBAR_OUT + ')');\n\t\t\tif (progressbars) {\n\t\t\t\tfor (var i = 0, len = progressbars.length; i < len; i++) {\n\t\t\t\t\tvar _progressbar = progressbars[i];\n\t\t\t\t\tif (_progressbar.parentNode === container) {\n\t\t\t\t\t\tprogressbar = _progressbar;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!progressbar) {\n\t\t\t\tprogressbar = document.createElement('span');\n\t\t\t\tprogressbar.className = CLASS_PROGRESSBAR + ' ' + CLASS_PROGRESSBAR_IN + (typeof progress !== 'undefined' ? '' : (' ' + CLASS_PROGRESSBAR_INFINITE)) + (color ? (' ' + CLASS_PROGRESSBAR + '-' + color) : '');\n\t\t\t\tif (typeof progress !== 'undefined') {\n\t\t\t\t\tprogressbar.innerHTML = '<span></span>';\n\t\t\t\t}\n\t\t\t\tcontainer.appendChild(progressbar);\n\t\t\t} else {\n\t\t\t\tprogressbar.classList.add(CLASS_PROGRESSBAR_IN);\n\t\t\t}\n\t\t}\n\t\tif (progress) setProgressbar(container, progress);\n\t\treturn progressbar;\n\t};\n\t/**\n\t * 关闭进度条 \n\t * @param {Object} container 可选，默认body，支持selector,DOM Node,mui wrapper\n\t */\n\tvar hideProgressbar = function(container) {\n\t\tvar progressbar = _findProgressbar(container);\n\t\tif (!progressbar) {\n\t\t\treturn;\n\t\t}\n\t\tvar classList = progressbar.classList;\n\t\tif (!classList.contains(CLASS_PROGRESSBAR_IN) || classList.contains(CLASS_PROGRESSBAR_OUT)) {\n\t\t\treturn;\n\t\t}\n\t\tclassList.remove(CLASS_PROGRESSBAR_IN);\n\t\tclassList.add(CLASS_PROGRESSBAR_OUT);\n\t\tprogressbar.addEventListener('webkitAnimationEnd', function() {\n\t\t\tprogressbar.parentNode && progressbar.parentNode.removeChild(progressbar);\n\t\t\tprogressbar = null;\n\t\t});\n\t\treturn;\n\t};\n\t/**\n\t * 设置指定进度条进度 \n\t * @param {Object} container  可选，默认body，支持selector,DOM Node,mui wrapper\n\t * @param {Object} progress 可选，默认0 取值范围[0-100]\n\t * @param {Object} speed 进度条动画时间\n\t */\n\tvar setProgressbar = function(container, progress, speed) {\n\t\tif (typeof container === 'number') {\n\t\t\tspeed = progress;\n\t\t\tprogress = container;\n\t\t\tcontainer = false;\n\t\t}\n\t\tvar progressbar = _findProgressbar(container);\n\t\tif (!progressbar || progressbar.classList.contains(CLASS_PROGRESSBAR_INFINITE)) {\n\t\t\treturn;\n\t\t}\n\t\tif (progress) progress = Math.min(Math.max(progress, 0), 100);\n\t\tprogressbar.offsetHeight;\n\t\tvar span = progressbar.querySelector('span');\n\t\tif (span) {\n\t\t\tvar style = span.style;\n\t\t\tstyle.webkitTransform = 'translate3d(' + (-100 + progress) + '%,0,0)';\n\t\t\tif (typeof speed !== 'undefined') {\n\t\t\t\tstyle.webkitTransitionDuration = speed + 'ms';\n\t\t\t} else {\n\t\t\t\tstyle.webkitTransitionDuration = '';\n\t\t\t}\n\t\t}\n\t\treturn progressbar;\n\t};\n\t$.fn.progressbar = function(options) {\n\t\tvar progressbarApis = [];\n\t\toptions = options || {};\n\t\tthis.each(function() {\n\t\t\tvar self = this;\n\t\t\tvar progressbarApi = self.mui_plugin_progressbar;\n\t\t\tif (!progressbarApi) {\n\t\t\t\tself.mui_plugin_progressbar = progressbarApi = {\n\t\t\t\t\toptions: options,\n\t\t\t\t\tsetOptions: function(options) {\n\t\t\t\t\t\tthis.options = options;\n\t\t\t\t\t},\n\t\t\t\t\tshow: function() {\n\t\t\t\t\t\treturn showProgressbar(self, this.options.progress, this.options.color);\n\t\t\t\t\t},\n\t\t\t\t\tsetProgress: function(progress) {\n\t\t\t\t\t\treturn setProgressbar(self, progress);\n\t\t\t\t\t},\n\t\t\t\t\thide: function() {\n\t\t\t\t\t\treturn hideProgressbar(self);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} else if (options) {\n\t\t\t\tprogressbarApi.setOptions(options);\n\t\t\t}\n\t\t\tprogressbarApis.push(progressbarApi);\n\t\t});\n\t\treturn progressbarApis.length === 1 ? progressbarApis[0] : progressbarApis;\n\t};\n\t//\t$.setProgressbar = setProgressbar;\n\t//\t$.showProgressbar = showProgressbar;\n\t//\t$.hideProgressbar = hideProgressbar;\n})(mui, document);\n/**\n * Input(TODO resize)\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @returns {undefined}\n */\n(function($, window, document) {\n\tvar CLASS_ICON = 'mui-icon';\n\tvar CLASS_ICON_CLEAR = 'mui-icon-clear';\n\tvar CLASS_ICON_SPEECH = 'mui-icon-speech';\n\tvar CLASS_ICON_SEARCH = 'mui-icon-search';\n\tvar CLASS_ICON_PASSWORD = 'mui-icon-eye';\n\tvar CLASS_INPUT_ROW = 'mui-input-row';\n\tvar CLASS_PLACEHOLDER = 'mui-placeholder';\n\tvar CLASS_TOOLTIP = 'mui-tooltip';\n\tvar CLASS_HIDDEN = 'mui-hidden';\n\tvar CLASS_FOCUSIN = 'mui-focusin';\n\tvar SELECTOR_ICON_CLOSE = '.' + CLASS_ICON_CLEAR;\n\tvar SELECTOR_ICON_SPEECH = '.' + CLASS_ICON_SPEECH;\n\tvar SELECTOR_ICON_PASSWORD = '.' + CLASS_ICON_PASSWORD;\n\tvar SELECTOR_PLACEHOLDER = '.' + CLASS_PLACEHOLDER;\n\tvar SELECTOR_TOOLTIP = '.' + CLASS_TOOLTIP;\n\n\tvar findRow = function(target) {\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tif (target.classList && target.classList.contains(CLASS_INPUT_ROW)) {\n\t\t\t\treturn target;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t};\n\tvar Input = function(element, options) {\n\t\tthis.element = element;\n\t\tthis.options = options || {\n\t\t\tactions: 'clear'\n\t\t};\n\t\tif (~this.options.actions.indexOf('slider')) { //slider\n\t\t\tthis.sliderActionClass = CLASS_TOOLTIP + ' ' + CLASS_HIDDEN;\n\t\t\tthis.sliderActionSelector = SELECTOR_TOOLTIP;\n\t\t} else { //clear,speech,search\n\t\t\tif (~this.options.actions.indexOf('clear')) {\n\t\t\t\tthis.clearActionClass = CLASS_ICON + ' ' + CLASS_ICON_CLEAR + ' ' + CLASS_HIDDEN;\n\t\t\t\tthis.clearActionSelector = SELECTOR_ICON_CLOSE;\n\t\t\t}\n\t\t\tif (~this.options.actions.indexOf('speech')) { //only for 5+\n\t\t\t\tthis.speechActionClass = CLASS_ICON + ' ' + CLASS_ICON_SPEECH;\n\t\t\t\tthis.speechActionSelector = SELECTOR_ICON_SPEECH;\n\t\t\t}\n\t\t\tif (~this.options.actions.indexOf('search')) {\n\t\t\t\tthis.searchActionClass = CLASS_PLACEHOLDER;\n\t\t\t\tthis.searchActionSelector = SELECTOR_PLACEHOLDER;\n\t\t\t}\n\t\t\tif (~this.options.actions.indexOf('password')) {\n\t\t\t\tthis.passwordActionClass = CLASS_ICON + ' ' + CLASS_ICON_PASSWORD;\n\t\t\t\tthis.passwordActionSelector = SELECTOR_ICON_PASSWORD;\n\t\t\t}\n\t\t}\n\t\tthis.init();\n\t};\n\tInput.prototype.init = function() {\n\t\tthis.initAction();\n\t\tthis.initElementEvent();\n\t};\n\tInput.prototype.initAction = function() {\n\t\tvar self = this;\n\n\t\tvar row = self.element.parentNode;\n\t\tif (row) {\n\t\t\tif (self.sliderActionClass) {\n\t\t\t\tself.sliderAction = self.createAction(row, self.sliderActionClass, self.sliderActionSelector);\n\t\t\t} else {\n\t\t\t\tif (self.searchActionClass) {\n\t\t\t\t\tself.searchAction = self.createAction(row, self.searchActionClass, self.searchActionSelector);\n\t\t\t\t\tself.searchAction.addEventListener('tap', function(e) {\n\t\t\t\t\t\t$.focus(self.element);\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (self.speechActionClass) {\n\t\t\t\t\tself.speechAction = self.createAction(row, self.speechActionClass, self.speechActionSelector);\n\t\t\t\t\tself.speechAction.addEventListener('click', $.stopPropagation);\n\t\t\t\t\tself.speechAction.addEventListener('tap', function(event) {\n\t\t\t\t\t\tself.speechActionClick(event);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (self.clearActionClass) {\n\t\t\t\t\tself.clearAction = self.createAction(row, self.clearActionClass, self.clearActionSelector);\n\t\t\t\t\tself.clearAction.addEventListener('tap', function(event) {\n\t\t\t\t\t\tself.clearActionClick(event);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (self.passwordActionClass) {\n\t\t\t\t\tself.passwordAction = self.createAction(row, self.passwordActionClass, self.passwordActionSelector);\n\t\t\t\t\tself.passwordAction.addEventListener('tap', function(event) {\n\t\t\t\t\t\tself.passwordActionClick(event);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tInput.prototype.createAction = function(row, actionClass, actionSelector) {\n\t\tvar action = row.querySelector(actionSelector);\n\t\tif (!action) {\n\t\t\tvar action = document.createElement('span');\n\t\t\taction.className = actionClass;\n\t\t\tif (actionClass === this.searchActionClass) {\n\t\t\t\taction.innerHTML = '<span class=\"' + CLASS_ICON + ' ' + CLASS_ICON_SEARCH + '\"></span><span>' + this.element.getAttribute('placeholder') + '</span>';\n\t\t\t\tthis.element.setAttribute('placeholder', '');\n\t\t\t\tif (this.element.value.trim()) {\n\t\t\t\t\trow.classList.add('mui-active');\n\t\t\t\t}\n\t\t\t}\n\t\t\trow.insertBefore(action, this.element.nextSibling);\n\t\t}\n\t\treturn action;\n\t};\n\tInput.prototype.initElementEvent = function() {\n\t\tvar element = this.element;\n\n\t\tif (this.sliderActionClass) {\n\t\t\tvar tooltip = this.sliderAction;\n\t\t\tvar timer = null;\n\t\t\tvar showTip = function() { //每次重新计算是因为控件可能被隐藏，初始化时计算是不正确的\n\t\t\t\ttooltip.classList.remove(CLASS_HIDDEN);\n\t\t\t\tvar offsetLeft = element.offsetLeft;\n\t\t\t\tvar width = element.offsetWidth - 28;\n\t\t\t\tvar tooltipWidth = tooltip.offsetWidth;\n\t\t\t\tvar distince = Math.abs(element.max - element.min);\n\t\t\t\tvar scaleWidth = (width / distince) * Math.abs(element.value - element.min);\n\t\t\t\ttooltip.style.left = (14 + offsetLeft + scaleWidth - tooltipWidth / 2) + 'px';\n\t\t\t\ttooltip.innerText = element.value;\n\t\t\t\tif (timer) {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t}\n\t\t\t\ttimer = setTimeout(function() {\n\t\t\t\t\ttooltip.classList.add(CLASS_HIDDEN);\n\t\t\t\t}, 1000);\n\t\t\t};\n\t\t\telement.addEventListener('input', showTip);\n\t\t\telement.addEventListener('tap', showTip);\n\t\t\telement.addEventListener($.EVENT_MOVE, function(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t} else {\n\t\t\tif (this.clearActionClass) {\n\t\t\t\tvar action = this.clearAction;\n\t\t\t\tif (!action) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$.each(['keyup', 'change', 'input', 'focus', 'cut', 'paste'], function(index, type) {\n\t\t\t\t\t(function(type) {\n\t\t\t\t\t\telement.addEventListener(type, function() {\n\t\t\t\t\t\t\taction.classList[element.value.trim() ? 'remove' : 'add'](CLASS_HIDDEN);\n\t\t\t\t\t\t});\n\t\t\t\t\t})(type);\n\t\t\t\t});\n\t\t\t\telement.addEventListener('blur', function() {\n\t\t\t\t\taction.classList.add(CLASS_HIDDEN);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.searchActionClass) {\n\t\t\t\telement.addEventListener('focus', function() {\n\t\t\t\t\telement.parentNode.classList.add('mui-active');\n\t\t\t\t});\n\t\t\t\telement.addEventListener('blur', function() {\n\t\t\t\t\tif (!element.value.trim()) {\n\t\t\t\t\t\telement.parentNode.classList.remove('mui-active');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\tInput.prototype.setPlaceholder = function(text) {\n\t\tif (this.searchActionClass) {\n\t\t\tvar placeholder = this.element.parentNode.querySelector(SELECTOR_PLACEHOLDER);\n\t\t\tplaceholder && (placeholder.getElementsByTagName('span')[1].innerText = text);\n\t\t} else {\n\t\t\tthis.element.setAttribute('placeholder', text);\n\t\t}\n\t};\n\tInput.prototype.passwordActionClick = function(event) {\n\t\tif (this.element.type === 'text') {\n\t\t\tthis.element.type = 'password';\n\t\t} else {\n\t\t\tthis.element.type = 'text';\n\t\t}\n\t\tthis.passwordAction.classList.toggle('mui-active');\n\t\tevent.preventDefault();\n\t};\n\tInput.prototype.clearActionClick = function(event) {\n\t\tvar self = this;\n\t\tself.element.value = '';\n\t\t$.focus(self.element);\n\t\tself.clearAction.classList.add(CLASS_HIDDEN);\n\t\tevent.preventDefault();\n\t};\n\tInput.prototype.speechActionClick = function(event) {\n\t\tif (window.plus) {\n\t\t\tvar self = this;\n\t\t\tvar oldValue = self.element.value;\n\t\t\tself.element.value = '';\n\t\t\tdocument.body.classList.add(CLASS_FOCUSIN);\n\t\t\tplus.speech.startRecognize({\n\t\t\t\tengine: 'iFly'\n\t\t\t}, function(s) {\n\t\t\t\tself.element.value += s;\n\t\t\t\t$.focus(self.element);\n\t\t\t\tplus.speech.stopRecognize();\n\t\t\t\t$.trigger(self.element, 'recognized', {\n\t\t\t\t\tvalue: self.element.value\n\t\t\t\t});\n\t\t\t\tif (oldValue !== self.element.value) {\n\t\t\t\t\t$.trigger(self.element, 'change');\n\t\t\t\t\t$.trigger(self.element, 'input');\n\t\t\t\t}\n\t\t\t\t// document.body.classList.remove(CLASS_FOCUSIN);\n\t\t\t}, function(e) {\n\t\t\t\tdocument.body.classList.remove(CLASS_FOCUSIN);\n\t\t\t});\n\t\t} else {\n\t\t\talert('only for 5+');\n\t\t}\n\t\tevent.preventDefault();\n\t};\n\t$.fn.input = function(options) {\n\t\tvar inputApis = [];\n\t\tthis.each(function() {\n\t\t\tvar inputApi = null;\n\t\t\tvar actions = [];\n\t\t\tvar row = findRow(this.parentNode);\n\t\t\tif (this.type === 'range' && row.classList.contains('mui-input-range')) {\n\t\t\t\tactions.push('slider');\n\t\t\t} else {\n\t\t\t\tvar classList = this.classList;\n\t\t\t\tif (classList.contains('mui-input-clear')) {\n\t\t\t\t\tactions.push('clear');\n\t\t\t\t}\n\t\t\t\tif (!($.os.android && $.os.stream) && classList.contains('mui-input-speech')) {\n\t\t\t\t\tactions.push('speech');\n\t\t\t\t}\n\t\t\t\tif (classList.contains('mui-input-password')) {\n\t\t\t\t\tactions.push('password');\n\t\t\t\t}\n\t\t\t\tif (this.type === 'search' && row.classList.contains('mui-search')) {\n\t\t\t\t\tactions.push('search');\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar id = this.getAttribute('data-input-' + actions[0]);\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\tinputApi = $.data[id] = new Input(this, {\n\t\t\t\t\tactions: actions.join(',')\n\t\t\t\t});\n\t\t\t\tfor (var i = 0, len = actions.length; i < len; i++) {\n\t\t\t\t\tthis.setAttribute('data-input-' + actions[i], id);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tinputApi = $.data[id];\n\t\t\t}\n\t\t\tinputApis.push(inputApi);\n\t\t});\n\t\treturn inputApis.length === 1 ? inputApis[0] : inputApis;\n\t};\n\t$.ready(function() {\n\t\t$('.mui-input-row input').input();\n\t});\n})(mui, window, document);\n(function($, window) {\n    var CLASS_ACTIVE = 'mui-active';\n    var rgbaRegex = /^rgba\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d*(?:\\.\\d+)?)\\)$/;\n    var getColor = function(colorStr) {\n        var matches = colorStr.match(rgbaRegex);\n        if (matches && matches.length === 5) {\n            return [\n                matches[1],\n                matches[2],\n                matches[3],\n                matches[4]\n            ];\n        }\n        return [];\n    };\n    var Transparent = function(element, options) {\n        this.element = element;\n        this.options = $.extend({\n            top: 0, //距离顶部高度(到达该高度即触发)\n            offset: 150, //滚动透明距离\n            duration: 16, //过渡时间\n            scrollby: window//监听滚动距离容器\n        }, options || {});\n\n        this.scrollByElem = this.options.scrollby || window;\n        if (!this.scrollByElem) {\n            throw new Error(\"监听滚动的元素不存在\");\n        }\n        this.isNativeScroll = false;\n        if (this.scrollByElem === window) {\n            this.isNativeScroll = true;\n        } else if (!~this.scrollByElem.className.indexOf('mui-scroll-wrapper')) {\n            this.isNativeScroll = true;\n        }\n\n        this._style = this.element.style;\n        this._bgColor = this._style.backgroundColor;\n        var color = getColor(mui.getStyles(this.element, 'backgroundColor'));\n        if (color.length) {\n            this._R = color[0];\n            this._G = color[1];\n            this._B = color[2];\n            this._A = parseFloat(color[3]);\n            this.lastOpacity = this._A;\n            this._bufferFn = $.buffer(this.handleScroll, this.options.duration, this);\n            this.initEvent();\n        } else {\n            throw new Error(\"元素背景颜色必须为RGBA\");\n        }\n    };\n\n    Transparent.prototype.initEvent = function() {\n        this.scrollByElem.addEventListener('scroll', this._bufferFn);\n        if (this.isNativeScroll) { //原生scroll\n            this.scrollByElem.addEventListener($.EVENT_MOVE, this._bufferFn);\n        }\n    }\n    Transparent.prototype.handleScroll = function(e) {\n        var y = window.scrollY;\n        if (!this.isNativeScroll && e && e.detail) {\n            y = -e.detail.y;\n        }\n        var opacity = (y - this.options.top) / this.options.offset + this._A;\n        opacity = Math.min(Math.max(this._A, opacity), 1);\n        this._style.backgroundColor = 'rgba(' + this._R + ',' + this._G + ',' + this._B + ',' + opacity + ')';\n        if (opacity > this._A) {\n            this.element.classList.add(CLASS_ACTIVE);\n        } else {\n            this.element.classList.remove(CLASS_ACTIVE);\n        }\n        if (this.lastOpacity !== opacity) {\n            $.trigger(this.element, 'alpha', {\n                alpha: opacity\n            });\n            this.lastOpacity = opacity;\n        }\n    };\n    Transparent.prototype.destory = function() {\n        this.scrollByElem.removeEventListener('scroll', this._bufferFn);\n        this.scrollByElem.removeEventListener($.EVENT_MOVE, this._bufferFn);\n        this.element.style.backgroundColor = this._bgColor;\n        this.element.mui_plugin_transparent = null;\n    };\n    $.fn.transparent = function(options) {\n        options = options || {};\n        var transparentApis = [];\n        this.each(function() {\n            var transparentApi = this.mui_plugin_transparent;\n            if (!transparentApi) {\n                var top = this.getAttribute('data-top');\n                var offset = this.getAttribute('data-offset');\n                var duration = this.getAttribute('data-duration');\n                var scrollby = this.getAttribute('data-scrollby');\n                if (top !== null && typeof options.top === 'undefined') {\n                    options.top = top;\n                }\n                if (offset !== null && typeof options.offset === 'undefined') {\n                    options.offset = offset;\n                }\n                if (duration !== null && typeof options.duration === 'undefined') {\n                    options.duration = duration;\n                }\n                if (scrollby !== null && typeof options.scrollby === 'undefined') {\n                    options.scrollby = document.querySelector(scrollby) || window;\n                }\n                transparentApi = this.mui_plugin_transparent = new Transparent(this, options);\n            }\n            transparentApis.push(transparentApi);\n        });\n        return transparentApis.length === 1 ? transparentApis[0] : transparentApis;\n    };\n    $.ready(function() {\n        $('.mui-bar-transparent').transparent();\n    });\n})(mui, window);\n/**\n * 数字输入框\n * varstion 1.0.1\n * by Houfeng\n * Houfeng@DCloud.io\n */\n\n(function($) {\n\n    var touchSupport = ('ontouchstart' in document);\n    var tapEventName = touchSupport ? 'tap' : 'click';\n    var changeEventName = 'change';\n    var holderClassName = 'mui-numbox';\n    var plusClassSelector = '.mui-btn-numbox-plus,.mui-numbox-btn-plus';\n    var minusClassSelector = '.mui-btn-numbox-minus,.mui-numbox-btn-minus';\n    var inputClassSelector = '.mui-input-numbox,.mui-numbox-input';\n\n    var Numbox = $.Numbox = $.Class.extend({\n        /**\n         * 构造函数\n         **/\n        init: function(holder, options) {\n            var self = this;\n            if (!holder) {\n                throw \"构造 numbox 时缺少容器元素\";\n            }\n            self.holder = holder;\n            options = options || {};\n            options.step = parseInt(options.step || 1);\n            self.options = options;\n            self.input = $.qsa(inputClassSelector, self.holder)[0];\n            self.plus = $.qsa(plusClassSelector, self.holder)[0];\n            self.minus = $.qsa(minusClassSelector, self.holder)[0];\n            self.checkValue();\n            self.initEvent();\n        },\n        /**\n         * 初始化事件绑定\n         **/\n        initEvent: function() {\n            var self = this;\n            self.plus.addEventListener(tapEventName, function(event) {\n                var val = parseInt(self.input.value) + self.options.step;\n                self.input.value = val.toString();\n                $.trigger(self.input, changeEventName, null);\n            });\n            self.minus.addEventListener(tapEventName, function(event) {\n                var val = parseInt(self.input.value) - self.options.step;\n                self.input.value = val.toString();\n                $.trigger(self.input, changeEventName, null);\n            });\n            self.input.addEventListener(changeEventName, function(event) {\n                self.checkValue();\n                var val = parseInt(self.input.value);\n                //触发顶层容器\n                $.trigger(self.holder, changeEventName, {\n                    value: val\n                });\n            });\n        },\n        /**\n         * 获取当前值\n         **/\n        getValue: function() {\n            var self = this;\n            return parseInt(self.input.value);\n        },\n        /**\n         * 验证当前值是法合法\n         **/\n        checkValue: function() {\n            var self = this;\n            var val = self.input.value;\n            if (val == null || val == '' || isNaN(val)) {\n                self.input.value = self.options.min || 0;\n                self.minus.disabled = self.options.min != null;\n            } else {\n                var val = parseInt(val);\n                if (self.options.max != null && !isNaN(self.options.max) && val >= parseInt(self.options.max)) {\n                    val = self.options.max;\n                    self.plus.disabled = true;\n                } else {\n                    self.plus.disabled = false;\n                }\n                if (self.options.min != null && !isNaN(self.options.min) && val <= parseInt(self.options.min)) {\n                    val = self.options.min;\n                    self.minus.disabled = true;\n                } else {\n                    self.minus.disabled = false;\n                }\n                self.input.value = val;\n            }\n        },\n        /**\n         * 更新选项\n         **/\n        setOption: function(name, value) {\n            var self = this;\n            self.options[name] = value;\n        },\n        /**\n         * 动态设置新值\n         **/\n        setValue: function(value) {\n            this.input.value = value;\n            this.checkValue();\n        }\n    });\n\n    $.fn.numbox = function(options) {\n        var instanceArray = [];\n        //遍历选择的元素\n        this.each(function(i, element) {\n            if (element.numbox) {\n                return;\n            }\n            if (options) {\n                element.numbox = new Numbox(element, options);\n            } else {\n                var optionsText = element.getAttribute('data-numbox-options');\n                var options = optionsText ? JSON.parse(optionsText) : {};\n                options.step = element.getAttribute('data-numbox-step') || options.step;\n                options.min = element.getAttribute('data-numbox-min') || options.min;\n                options.max = element.getAttribute('data-numbox-max') || options.max;\n                element.numbox = new Numbox(element, options);\n            }\n        });\n        return this[0] ? this[0].numbox : null;\n    }\n\n    //自动处理 class='mui-locker' 的 dom\n    $.ready(function() {\n        $('.' + holderClassName).numbox();\n    });\n\n}(mui));\n/**\n * Button\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @returns {undefined}\n */\n(function($, window, document) {\n    var CLASS_ICON = 'mui-icon';\n    var CLASS_DISABLED = 'mui-disabled';\n\n    var STATE_RESET = 'reset';\n    var STATE_LOADING = 'loading';\n\n    var defaultOptions = {\n        loadingText: 'Loading...', //文案\n        loadingIcon: 'mui-spinner' + ' ' + 'mui-spinner-white', //图标，可为空\n        loadingIconPosition: 'left' //图标所处位置，仅支持left|right\n    };\n\n    var Button = function(element, options) {\n        this.element = element;\n        this.options = $.extend({}, defaultOptions, options);\n        if (!this.options.loadingText) {\n            this.options.loadingText = defaultOptions.loadingText;\n        }\n        if (this.options.loadingIcon === null) {\n            this.options.loadingIcon = 'mui-spinner';\n            if ($.getStyles(this.element, 'color') === 'rgb(255, 255, 255)') {\n                this.options.loadingIcon += ' ' + 'mui-spinner-white';\n            }\n        }\n        this.isInput = this.element.tagName === 'INPUT';\n        this.resetHTML = this.isInput ? this.element.value : this.element.innerHTML;\n        this.state = '';\n    };\n    Button.prototype.loading = function() {\n        this.setState(STATE_LOADING);\n    };\n    Button.prototype.reset = function() {\n        this.setState(STATE_RESET);\n    };\n    Button.prototype.setState = function(state) {\n        if (this.state === state) {\n            return false;\n        }\n        this.state = state;\n        if (state === STATE_RESET) {\n            this.element.disabled = false;\n            this.element.classList.remove(CLASS_DISABLED);\n            this.setHtml(this.resetHTML);\n        } else if (state === STATE_LOADING) {\n            this.element.disabled = true;\n            this.element.classList.add(CLASS_DISABLED);\n            var html = this.isInput ? this.options.loadingText : ('<span>' + this.options.loadingText + '</span>');\n            if (this.options.loadingIcon && !this.isInput) {\n                if (this.options.loadingIconPosition === 'right') {\n                    html += '&nbsp;<span class=\"' + this.options.loadingIcon + '\"></span>';\n                } else {\n                    html = '<span class=\"' + this.options.loadingIcon + '\"></span>&nbsp;' + html;\n                }\n            }\n            this.setHtml(html);\n        }\n    };\n    Button.prototype.setHtml = function(html) {\n        if (this.isInput) {\n            this.element.value = html;\n        } else {\n            this.element.innerHTML = html;\n        }\n    }\n    $.fn.button = function(state) {\n        var buttonApis = [];\n        this.each(function() {\n            var buttonApi = this.mui_plugin_button;\n            if (!buttonApi) {\n                var loadingText = this.getAttribute('data-loading-text');\n                var loadingIcon = this.getAttribute('data-loading-icon');\n                var loadingIconPosition = this.getAttribute('data-loading-icon-position');\n                this.mui_plugin_button = buttonApi = new Button(this, {\n                    loadingText: loadingText,\n                    loadingIcon: loadingIcon,\n                    loadingIconPosition: loadingIconPosition\n                });\n            }\n            if (state === STATE_LOADING || state === STATE_RESET) {\n                buttonApi.setState(state);\n            }\n            buttonApis.push(buttonApi);\n        });\n        return buttonApis.length === 1 ? buttonApis[0] : buttonApis;\n    };\n})(mui, window, document);","module.exports = __webpack_public_path__ + \"img/home_active.cc40b6f2.svg\";","module.exports = __webpack_public_path__ + \"img/placeholder.48bcea0d.png\";","module.exports = __webpack_public_path__ + \"img/shopcart_active.3f0a2016.svg\";","module.exports = __webpack_public_path__ + \"img/profile_active.fd66b281.svg\";","module.exports = __webpack_public_path__ + \"img/profile.42d7cf12.svg\";"],"sourceRoot":""}